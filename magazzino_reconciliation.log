2025-09-19 11:49:19,978 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 11:49:19,982 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 11:49:19,985 - magazzino_reconciliation - INFO - Estratti 24 prodotti da Magazzino_27_Grossisti
2025-09-19 11:49:19,986 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 11:49:19,989 - magazzino_reconciliation - INFO - Estratti 112 prodotti da Magazzino_28_Deposito
2025-09-19 11:49:19,990 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 11:49:19,993 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 11:49:19,993 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 11:49:20,016 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 11:49:20,017 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 11:49:20,034 - magazzino_reconciliation - INFO - Riconciliazione completata: 187 prodotti analizzati
2025-09-19 11:49:20,054 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_114920.csv
2025-09-19 11:49:20,055 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 11:49:20,057 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 11:49:20] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 12:52:12,414 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 12:52:12,416 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 12:52:12,417 - magazzino_reconciliation - INFO - Estratti 24 prodotti da Magazzino_27_Grossisti
2025-09-19 12:52:12,418 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 12:52:12,419 - magazzino_reconciliation - INFO - Estratti 112 prodotti da Magazzino_28_Deposito
2025-09-19 12:52:12,420 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 12:52:12,423 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 12:52:12,423 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 12:52:12,438 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 12:52:12,438 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 12:52:12,450 - magazzino_reconciliation - INFO - Riconciliazione completata: 187 prodotti analizzati
2025-09-19 12:52:12,465 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_125212.csv
2025-09-19 12:52:12,466 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 12:52:12,467 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 12:52:12] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 12:56:34,012 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 12:56:34] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-19 12:56:58,341 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 12:56:58,345 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 12:56:58,346 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 12:56:58,346 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 12:56:58,347 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 12:56:58,347 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 12:56:58,348 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 12:56:58,348 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 12:56:58,348 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 12:56:58,350 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 12:56:58,351 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 12:56:58,351 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 12:56:58,353 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 12:56:58,353 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 12:56:58,353 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 12:56:58,353 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 12:56:58,354 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 12:56:58,354 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 12:56:58,355 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 12:56:58,355 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 12:56:58,356 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 12:56:58,358 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 12:56:58,359 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 12:56:58,359 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 12:56:58,360 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 12:56:58,361 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 12:56:58,362 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 12:56:58,362 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 12:56:58,364 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 12:56:58,364 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 12:56:58,364 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 12:56:58,365 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 12:56:58,365 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 12:56:58,366 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 12:56:58,369 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 12:56:58,369 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 12:56:58,390 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 12:56:58,392 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 12:56:58,411 - magazzino_reconciliation - INFO - Riconciliazione completata: 187 prodotti analizzati
2025-09-19 12:56:58,424 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_125658.csv
2025-09-19 12:56:58,425 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 12:56:58,428 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 12:56:58] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 13:09:25,856 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 13:09:25] "POST /api/debug-as400-format HTTP/1.1" 200 -
2025-09-19 13:12:37,284 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 13:12:37,290 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 13:12:37,290 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 13:12:37,291 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 13:12:37,291 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 13:12:37,291 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:12:37,292 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 13:12:37,292 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 13:12:37,293 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:12:37,293 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:12:37,294 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:12:37,296 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 13:12:37,296 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 13:12:37,296 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 13:12:37,298 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 13:12:37,298 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 13:12:37,299 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 13:12:37,299 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:12:37,299 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 13:12:37,300 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 13:12:37,301 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 13:12:37,301 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 13:12:37,303 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 13:12:37,304 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:12:37,304 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 13:12:37,305 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 13:12:37,306 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:12:37,306 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:12:37,307 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:12:37,307 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 13:12:37,307 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 13:12:37,308 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 13:12:37,310 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 13:12:37,310 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 13:12:37,311 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 13:12:37,311 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:12:37,311 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 13:12:37,312 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 13:12:37,312 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 13:12:37,313 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 13:12:37,314 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 13:12:37,337 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 13:12:37,338 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 13:12:37,344 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 13:12:37,344 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 13:12:37,363 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 13:12:37,363 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 13:12:37,363 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 13:12:37,364 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:12:37,365 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:12:37,365 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 13:12:37,366 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 13:12:37,366 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 13:12:37,366 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 13:12:37,367 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:12:37,368 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 13:12:37,369 - magazzino_reconciliation - INFO - Esecuzione merge AS400 vs WebApp...
2025-09-19 13:12:37,376 - magazzino_reconciliation - INFO - Dopo merge: 186 righe
2025-09-19 13:12:37,377 - magazzino_reconciliation - INFO - Quantita_AS400 non-null prima conversione: 135
2025-09-19 13:12:37,377 - magazzino_reconciliation - INFO - Sample Quantita_AS400 prima conversione: [1.0, 1.0, 10.0, 3.0, 17.0]
2025-09-19 13:12:37,377 - magazzino_reconciliation - INFO - Conversione numerica quantità...
2025-09-19 13:12:37,379 - magazzino_reconciliation - INFO - Somma AS400 dopo conversione: 1532
2025-09-19 13:12:37,379 - magazzino_reconciliation - INFO - Somma WebApp dopo conversione: 455
2025-09-19 13:12:37,382 - magazzino_reconciliation - INFO - Campione quantità convertite:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245               1                0
1  0000564               1                0
2  0094308              10                0
3  0094624               3                0
4  0094625              17                0
2025-09-19 13:12:37,393 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 13:12:37,394 - magazzino_reconciliation - INFO - Riconciliazione completata: 186 prodotti analizzati
2025-09-19 13:12:37,409 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_131237.csv
2025-09-19 13:12:37,409 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 13:12:37,410 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 13:12:37] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 13:19:53,983 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 13:19:53,986 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 13:19:53,986 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 13:19:53,986 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 13:19:53,986 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 13:19:53,986 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:19:53,987 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 13:19:53,987 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 13:19:53,987 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:19:53,987 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:19:53,987 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:19:53,989 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 13:19:53,989 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 13:19:53,989 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 13:19:53,991 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 13:19:53,991 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 13:19:53,991 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 13:19:53,991 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:19:53,991 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 13:19:53,992 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 13:19:53,993 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 13:19:53,994 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 13:19:53,994 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 13:19:53,995 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:19:53,995 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 13:19:53,995 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 13:19:53,996 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:19:53,996 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:19:53,996 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:19:53,997 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 13:19:53,997 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 13:19:53,997 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 13:19:53,999 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 13:19:53,999 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 13:19:54,001 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 13:19:54,001 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:19:54,001 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 13:19:54,003 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 13:19:54,004 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 13:19:54,004 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 13:19:54,006 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 13:19:54,028 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 13:19:54,028 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 13:19:54,035 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 13:19:54,036 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 13:19:54,057 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 13:19:54,057 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 13:19:54,057 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 13:19:54,058 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:19:54,058 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:19:54,059 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 13:19:54,060 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 13:19:54,062 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 13:19:54,064 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 13:19:54,065 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:19:54,066 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 13:19:54,066 - magazzino_reconciliation - INFO - Esecuzione merge AS400 vs WebApp...
2025-09-19 13:19:54,066 - magazzino_reconciliation - INFO - AS400 columns: ['Codice', 'Descrizione', 'Quantita_AS400', 'Fonte_AS400']
2025-09-19 13:19:54,066 - magazzino_reconciliation - INFO - WebApp columns: ['Codice', 'Descrizione', 'Quantita_WebApp', 'Magazzino_Web', 'Stato', 'Ubicazione', 'Note']
2025-09-19 13:19:54,070 - magazzino_reconciliation - INFO - AS400 pre-merge sample:
    Codice  Quantita_AS400
0  0000245               1
1  0000564               1
2  0094308              10
2025-09-19 13:19:54,074 - magazzino_reconciliation - INFO - Dopo merge: 186 righe
2025-09-19 13:19:54,074 - magazzino_reconciliation - INFO - Righe con Quantita_AS400 non-null dopo merge: 135
2025-09-19 13:19:54,081 - magazzino_reconciliation - INFO - Sample dopo merge:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245             1.0              NaN
1  0000564             1.0              NaN
2  0094308            10.0              NaN
3  0094624             3.0              NaN
4  0094625            17.0              NaN
2025-09-19 13:19:54,082 - magazzino_reconciliation - INFO - Quantita_AS400 valori null dopo merge: 51
2025-09-19 13:19:54,082 - magazzino_reconciliation - INFO - Quantita_AS400 non-null prima conversione: 135
2025-09-19 13:19:54,083 - magazzino_reconciliation - INFO - Sample Quantita_AS400 prima conversione: [1.0, 1.0, 10.0, 3.0, 17.0]
2025-09-19 13:19:54,083 - magazzino_reconciliation - INFO - Conversione numerica quantità...
2025-09-19 13:19:54,083 - magazzino_reconciliation - INFO - Somma AS400 PRIMA conversione: 1532.0
2025-09-19 13:19:54,084 - magazzino_reconciliation - INFO - Valori null/NaN in Quantita_AS400 prima conversione: 51
2025-09-19 13:19:54,084 - magazzino_reconciliation - INFO - Valori unici in Quantita_AS400: [ 1. 10.  3. 17.  4. 20. 33. 15. 16.  7.]
2025-09-19 13:19:54,086 - magazzino_reconciliation - INFO - Somma AS400 dopo conversione: 1532
2025-09-19 13:19:54,086 - magazzino_reconciliation - INFO - Somma WebApp dopo conversione: 455
2025-09-19 13:19:54,087 - magazzino_reconciliation - INFO - Campione quantità convertite:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245               1                0
1  0000564               1                0
2  0094308              10                0
3  0094624               3                0
4  0094625              17                0
2025-09-19 13:19:54,098 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 13:19:54,100 - magazzino_reconciliation - INFO - Riconciliazione completata: 186 prodotti analizzati
2025-09-19 13:19:54,115 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_131954.csv
2025-09-19 13:19:54,115 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 13:19:54,117 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 13:19:54] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 13:23:58,442 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 13:23:58,447 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 13:23:58,448 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 13:23:58,448 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 13:23:58,449 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 13:23:58,449 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:23:58,449 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 13:23:58,449 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 13:23:58,450 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:23:58,450 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:23:58,450 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:23:58,453 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 13:23:58,453 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 13:23:58,454 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 13:23:58,455 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 13:23:58,456 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 13:23:58,456 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 13:23:58,456 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:23:58,456 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 13:23:58,457 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 13:23:58,458 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 13:23:58,458 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 13:23:58,459 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 13:23:58,461 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:23:58,461 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 13:23:58,463 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 13:23:58,464 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:23:58,464 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:23:58,465 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:23:58,465 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 13:23:58,466 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 13:23:58,466 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 13:23:58,468 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 13:23:58,468 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 13:23:58,468 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 13:23:58,469 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:23:58,469 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 13:23:58,469 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 13:23:58,470 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 13:23:58,471 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 13:23:58,471 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 13:23:58,490 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 13:23:58,490 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 13:23:58,494 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 13:23:58,496 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 13:23:58,508 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 13:23:58,509 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 13:23:58,509 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 13:23:58,512 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:23:58,514 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:23:58,516 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 13:23:58,516 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 13:23:58,517 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 13:23:58,517 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 13:23:58,518 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:23:58,518 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 13:23:58,518 - magazzino_reconciliation - INFO - Esecuzione merge AS400 vs WebApp...
2025-09-19 13:23:58,519 - magazzino_reconciliation - INFO - AS400 columns: ['Codice', 'Descrizione', 'Quantita_AS400', 'Fonte_AS400']
2025-09-19 13:23:58,519 - magazzino_reconciliation - INFO - WebApp columns: ['Codice', 'Descrizione', 'Quantita_WebApp', 'Magazzino_Web', 'Stato', 'Ubicazione', 'Note']
2025-09-19 13:23:58,522 - magazzino_reconciliation - INFO - AS400 pre-merge sample:
    Codice  Quantita_AS400
0  0000245               1
1  0000564               1
2  0094308              10
2025-09-19 13:23:58,526 - magazzino_reconciliation - INFO - Dopo merge: 186 righe
2025-09-19 13:23:58,527 - magazzino_reconciliation - INFO - Righe con Quantita_AS400 non-null dopo merge: 135
2025-09-19 13:23:58,533 - magazzino_reconciliation - INFO - Sample dopo merge:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245             1.0              NaN
1  0000564             1.0              NaN
2  0094308            10.0              NaN
3  0094624             3.0              NaN
4  0094625            17.0              NaN
2025-09-19 13:23:58,533 - magazzino_reconciliation - INFO - Quantita_AS400 valori null dopo merge: 51
2025-09-19 13:23:58,534 - magazzino_reconciliation - INFO - Quantita_AS400 non-null prima conversione: 135
2025-09-19 13:23:58,534 - magazzino_reconciliation - INFO - Sample Quantita_AS400 prima conversione: [1.0, 1.0, 10.0, 3.0, 17.0]
2025-09-19 13:23:58,535 - magazzino_reconciliation - INFO - Conversione numerica quantità...
2025-09-19 13:23:58,535 - magazzino_reconciliation - INFO - Somma AS400 PRIMA conversione: 1532.0
2025-09-19 13:23:58,536 - magazzino_reconciliation - INFO - Valori null/NaN in Quantita_AS400 prima conversione: 51
2025-09-19 13:23:58,536 - magazzino_reconciliation - INFO - Valori unici in Quantita_AS400: [ 1. 10.  3. 17.  4. 20. 33. 15. 16.  7.]
2025-09-19 13:23:58,537 - magazzino_reconciliation - INFO - Somma AS400 dopo conversione: 1532
2025-09-19 13:23:58,538 - magazzino_reconciliation - INFO - Somma WebApp dopo conversione: 455
2025-09-19 13:23:58,539 - magazzino_reconciliation - INFO - Campione quantità convertite:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245               1                0
1  0000564               1                0
2  0094308              10                0
3  0094624               3                0
4  0094625              17                0
2025-09-19 13:23:58,548 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 13:23:58,549 - magazzino_reconciliation - INFO - Riconciliazione completata: 186 prodotti analizzati
2025-09-19 13:23:58,564 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_132358.csv
2025-09-19 13:23:58,564 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 13:23:58,565 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 13:23:58] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 13:29:31,904 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 13:29:31,907 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 13:29:31,907 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 13:29:31,907 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 13:29:31,907 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 13:29:31,907 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:29:31,908 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 13:29:31,908 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 13:29:31,908 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:29:31,908 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:29:31,908 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:29:31,910 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 13:29:31,911 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 13:29:31,911 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 13:29:31,913 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 13:29:31,914 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 13:29:31,914 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 13:29:31,914 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:29:31,915 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 13:29:31,915 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 13:29:31,916 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 13:29:31,916 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 13:29:31,917 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 13:29:31,917 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:29:31,917 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 13:29:31,918 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 13:29:31,918 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:29:31,918 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:29:31,918 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:29:31,918 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 13:29:31,919 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 13:29:31,919 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 13:29:31,921 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 13:29:31,921 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 13:29:31,922 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 13:29:31,923 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:29:31,923 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 13:29:31,924 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 13:29:31,926 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 13:29:31,928 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 13:29:31,930 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 13:29:31,950 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 13:29:31,951 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 13:29:31,953 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 13:29:31,953 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 13:29:31,970 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 13:29:31,970 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 13:29:31,971 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 13:29:31,972 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:29:31,972 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:29:31,973 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 13:29:31,973 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 13:29:31,973 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 13:29:31,973 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 13:29:31,974 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:29:31,975 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 13:29:31,975 - magazzino_reconciliation - INFO - Esecuzione merge AS400 vs WebApp...
2025-09-19 13:29:31,975 - magazzino_reconciliation - INFO - AS400 columns: ['Codice', 'Descrizione', 'Quantita_AS400', 'Fonte_AS400']
2025-09-19 13:29:31,975 - magazzino_reconciliation - INFO - WebApp columns: ['Codice', 'Descrizione', 'Quantita_WebApp', 'Magazzino_Web', 'Stato', 'Ubicazione', 'Note']
2025-09-19 13:29:31,982 - magazzino_reconciliation - INFO - AS400 pre-merge sample:
    Codice  Quantita_AS400
0  0000245               1
1  0000564               1
2  0094308              10
2025-09-19 13:29:31,985 - magazzino_reconciliation - INFO - Dopo merge: 186 righe
2025-09-19 13:29:31,986 - magazzino_reconciliation - INFO - Righe con Quantita_AS400 non-null dopo merge: 135
2025-09-19 13:29:31,988 - magazzino_reconciliation - INFO - Sample dopo merge:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245             1.0              NaN
1  0000564             1.0              NaN
2  0094308            10.0              NaN
3  0094624             3.0              NaN
4  0094625            17.0              NaN
2025-09-19 13:29:31,989 - magazzino_reconciliation - INFO - Quantita_AS400 valori null dopo merge: 51
2025-09-19 13:29:31,990 - magazzino_reconciliation - INFO - Quantita_AS400 non-null prima conversione: 135
2025-09-19 13:29:31,990 - magazzino_reconciliation - INFO - Sample Quantita_AS400 prima conversione: [1.0, 1.0, 10.0, 3.0, 17.0]
2025-09-19 13:29:31,990 - magazzino_reconciliation - INFO - Conversione numerica quantità...
2025-09-19 13:29:31,991 - magazzino_reconciliation - INFO - Somma AS400 PRIMA conversione: 1532.0
2025-09-19 13:29:31,991 - magazzino_reconciliation - INFO - Valori null/NaN in Quantita_AS400 prima conversione: 51
2025-09-19 13:29:31,992 - magazzino_reconciliation - INFO - Valori unici in Quantita_AS400: [ 1. 10.  3. 17.  4. 20. 33. 15. 16.  7.]
2025-09-19 13:29:31,995 - magazzino_reconciliation - INFO - Somma AS400 dopo conversione: 1532
2025-09-19 13:29:31,995 - magazzino_reconciliation - INFO - Somma WebApp dopo conversione: 455
2025-09-19 13:29:31,998 - magazzino_reconciliation - INFO - Campione quantità convertite:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245               1                0
1  0000564               1                0
2  0094308              10                0
3  0094624               3                0
4  0094625              17                0
2025-09-19 13:29:32,004 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 13:29:32,005 - magazzino_reconciliation - INFO - Riconciliazione completata: 186 prodotti analizzati
2025-09-19 13:29:32,019 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_132932.csv
2025-09-19 13:29:32,019 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 13:29:32,021 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 13:29:32] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 13:34:34,763 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 13:34:34] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-19 13:34:46,945 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 13:34:46,946 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 13:34:46,947 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 13:34:46,947 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 13:34:46,948 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 13:34:46,948 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:34:46,949 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 13:34:46,949 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 13:34:46,949 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:34:46,950 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:34:46,950 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:34:46,950 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 13:34:46,951 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 13:34:46,951 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 13:34:46,953 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 13:34:46,953 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 13:34:46,954 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 13:34:46,954 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:34:46,954 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 13:34:46,955 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 13:34:46,955 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 13:34:46,955 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 13:34:46,956 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 13:34:46,956 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:34:46,956 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 13:34:46,956 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 13:34:46,957 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:34:46,957 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:34:46,957 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:34:46,957 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 13:34:46,957 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 13:34:46,958 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 13:34:46,959 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 13:34:46,959 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 13:34:46,959 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 13:34:46,959 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:34:46,960 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 13:34:46,960 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 13:34:46,960 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 13:34:46,961 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 13:34:46,961 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 13:34:46,971 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 13:34:46,971 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 13:34:46,974 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 13:34:46,975 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 13:34:46,992 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 13:34:46,992 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 13:34:46,992 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 13:34:46,993 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:34:46,994 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:34:46,994 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 13:34:46,994 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 13:34:46,995 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 13:34:46,995 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 13:34:46,996 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:34:46,996 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 13:34:46,997 - magazzino_reconciliation - INFO - Esecuzione merge AS400 vs WebApp...
2025-09-19 13:34:46,997 - magazzino_reconciliation - INFO - AS400 columns: ['Codice', 'Descrizione', 'Quantita_AS400', 'Fonte_AS400']
2025-09-19 13:34:46,997 - magazzino_reconciliation - INFO - WebApp columns: ['Codice', 'Descrizione', 'Quantita_WebApp', 'Magazzino_Web', 'Stato', 'Ubicazione', 'Note']
2025-09-19 13:34:47,000 - magazzino_reconciliation - INFO - AS400 pre-merge sample:
    Codice  Quantita_AS400
0  0000245               1
1  0000564               1
2  0094308              10
2025-09-19 13:34:47,004 - magazzino_reconciliation - INFO - Dopo merge: 186 righe
2025-09-19 13:34:47,005 - magazzino_reconciliation - INFO - Righe con Quantita_AS400 non-null dopo merge: 135
2025-09-19 13:34:47,007 - magazzino_reconciliation - INFO - Sample dopo merge:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245             1.0              NaN
1  0000564             1.0              NaN
2  0094308            10.0              NaN
3  0094624             3.0              NaN
4  0094625            17.0              NaN
2025-09-19 13:34:47,008 - magazzino_reconciliation - INFO - Quantita_AS400 valori null dopo merge: 51
2025-09-19 13:34:47,008 - magazzino_reconciliation - INFO - Quantita_AS400 non-null prima conversione: 135
2025-09-19 13:34:47,009 - magazzino_reconciliation - INFO - Sample Quantita_AS400 prima conversione: [1.0, 1.0, 10.0, 3.0, 17.0]
2025-09-19 13:34:47,009 - magazzino_reconciliation - INFO - Conversione numerica quantità...
2025-09-19 13:34:47,009 - magazzino_reconciliation - INFO - Somma AS400 PRIMA conversione: 1532.0
2025-09-19 13:34:47,010 - magazzino_reconciliation - INFO - Valori null/NaN in Quantita_AS400 prima conversione: 51
2025-09-19 13:34:47,010 - magazzino_reconciliation - INFO - Valori unici in Quantita_AS400: [ 1. 10.  3. 17.  4. 20. 33. 15. 16.  7.]
2025-09-19 13:34:47,012 - magazzino_reconciliation - INFO - Somma AS400 dopo conversione: 1532
2025-09-19 13:34:47,012 - magazzino_reconciliation - INFO - Somma WebApp dopo conversione: 455
2025-09-19 13:34:47,014 - magazzino_reconciliation - INFO - Campione quantità convertite:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245               1                0
1  0000564               1                0
2  0094308              10                0
3  0094624               3                0
4  0094625              17                0
2025-09-19 13:34:47,021 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 13:34:47,022 - magazzino_reconciliation - INFO - Riconciliazione completata: 186 prodotti analizzati
2025-09-19 13:34:47,032 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_133447.csv
2025-09-19 13:34:47,033 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 13:34:47,034 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 13:34:47] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 13:37:41,036 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 13:37:41] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-19 13:37:53,278 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 13:37:53] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-19 13:38:03,687 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 13:38:03,688 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 13:38:03,688 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 13:38:03,688 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 13:38:03,688 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 13:38:03,688 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:38:03,689 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 13:38:03,689 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 13:38:03,689 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:38:03,689 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:38:03,689 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:38:03,690 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 13:38:03,690 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 13:38:03,690 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 13:38:03,691 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 13:38:03,691 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 13:38:03,691 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 13:38:03,691 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:38:03,691 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 13:38:03,691 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 13:38:03,692 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 13:38:03,692 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 13:38:03,692 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 13:38:03,692 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:38:03,692 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 13:38:03,692 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 13:38:03,693 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:38:03,693 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:38:03,693 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:38:03,693 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 13:38:03,693 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 13:38:03,693 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 13:38:03,695 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 13:38:03,695 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 13:38:03,696 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 13:38:03,696 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:38:03,696 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 13:38:03,697 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 13:38:03,698 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 13:38:03,699 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 13:38:03,699 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 13:38:03,714 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 13:38:03,714 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 13:38:03,718 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 13:38:03,719 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 13:38:03,741 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 13:38:03,741 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 13:38:03,741 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 13:38:03,742 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:38:03,742 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:38:03,743 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 13:38:03,743 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 13:38:03,743 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 13:38:03,744 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 13:38:03,744 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:38:03,745 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 13:38:03,745 - magazzino_reconciliation - INFO - Esecuzione merge AS400 vs WebApp...
2025-09-19 13:38:03,745 - magazzino_reconciliation - INFO - AS400 columns: ['Codice', 'Descrizione', 'Quantita_AS400', 'Fonte_AS400']
2025-09-19 13:38:03,745 - magazzino_reconciliation - INFO - WebApp columns: ['Codice', 'Descrizione', 'Quantita_WebApp', 'Magazzino_Web', 'Stato', 'Ubicazione', 'Note']
2025-09-19 13:38:03,747 - magazzino_reconciliation - INFO - AS400 pre-merge sample:
    Codice  Quantita_AS400
0  0000245               1
1  0000564               1
2  0094308              10
2025-09-19 13:38:03,750 - magazzino_reconciliation - INFO - Dopo merge: 186 righe
2025-09-19 13:38:03,751 - magazzino_reconciliation - INFO - Righe con Quantita_AS400 non-null dopo merge: 135
2025-09-19 13:38:03,756 - magazzino_reconciliation - INFO - Sample dopo merge:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245             1.0              NaN
1  0000564             1.0              NaN
2  0094308            10.0              NaN
3  0094624             3.0              NaN
4  0094625            17.0              NaN
2025-09-19 13:38:03,757 - magazzino_reconciliation - INFO - Quantita_AS400 valori null dopo merge: 51
2025-09-19 13:38:03,757 - magazzino_reconciliation - INFO - Quantita_AS400 non-null prima conversione: 135
2025-09-19 13:38:03,758 - magazzino_reconciliation - INFO - Sample Quantita_AS400 prima conversione: [1.0, 1.0, 10.0, 3.0, 17.0]
2025-09-19 13:38:03,758 - magazzino_reconciliation - INFO - Conversione numerica quantità...
2025-09-19 13:38:03,758 - magazzino_reconciliation - INFO - Somma AS400 PRIMA conversione: 1532.0
2025-09-19 13:38:03,758 - magazzino_reconciliation - INFO - Valori null/NaN in Quantita_AS400 prima conversione: 51
2025-09-19 13:38:03,759 - magazzino_reconciliation - INFO - Valori unici in Quantita_AS400: [ 1. 10.  3. 17.  4. 20. 33. 15. 16.  7.]
2025-09-19 13:38:03,761 - magazzino_reconciliation - INFO - Somma AS400 dopo conversione: 1532
2025-09-19 13:38:03,761 - magazzino_reconciliation - INFO - Somma WebApp dopo conversione: 455
2025-09-19 13:38:03,763 - magazzino_reconciliation - INFO - Campione quantità convertite:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245               1                0
1  0000564               1                0
2  0094308              10                0
3  0094624               3                0
4  0094625              17                0
2025-09-19 13:38:03,771 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 13:38:03,773 - magazzino_reconciliation - INFO - Riconciliazione completata: 186 prodotti analizzati
2025-09-19 13:38:03,782 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_133803.csv
2025-09-19 13:38:03,782 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 13:38:03,783 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 13:38:03] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 13:38:25,005 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 13:38:25,006 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 13:38:25,006 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 13:38:25,006 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 13:38:25,007 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 13:38:25,007 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:38:25,007 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 13:38:25,007 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 13:38:25,007 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:38:25,007 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:38:25,008 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:38:25,008 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 13:38:25,008 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 13:38:25,008 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 13:38:25,009 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 13:38:25,009 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 13:38:25,010 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 13:38:25,010 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:38:25,010 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 13:38:25,011 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 13:38:25,011 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 13:38:25,012 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 13:38:25,012 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 13:38:25,012 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 13:38:25,013 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 13:38:25,013 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 13:38:25,013 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 13:38:25,013 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 13:38:25,014 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 13:38:25,014 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 13:38:25,014 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 13:38:25,014 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 13:38:25,016 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 13:38:25,016 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 13:38:25,016 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 13:38:25,017 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 13:38:25,018 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 13:38:25,019 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 13:38:25,019 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 13:38:25,020 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 13:38:25,021 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 13:38:25,035 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 13:38:25,037 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 13:38:25,044 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 13:38:25,044 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 13:38:25,063 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 13:38:25,064 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 13:38:25,064 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 13:38:25,065 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:38:25,066 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:38:25,067 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 13:38:25,067 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 13:38:25,067 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 13:38:25,068 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 13:38:25,070 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 13:38:25,072 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 13:38:25,072 - magazzino_reconciliation - INFO - Esecuzione merge AS400 vs WebApp...
2025-09-19 13:38:25,073 - magazzino_reconciliation - INFO - AS400 columns: ['Codice', 'Descrizione', 'Quantita_AS400', 'Fonte_AS400']
2025-09-19 13:38:25,074 - magazzino_reconciliation - INFO - WebApp columns: ['Codice', 'Descrizione', 'Quantita_WebApp', 'Magazzino_Web', 'Stato', 'Ubicazione', 'Note']
2025-09-19 13:38:25,076 - magazzino_reconciliation - INFO - AS400 pre-merge sample:
    Codice  Quantita_AS400
0  0000245               1
1  0000564               1
2  0094308              10
2025-09-19 13:38:25,080 - magazzino_reconciliation - INFO - Dopo merge: 186 righe
2025-09-19 13:38:25,080 - magazzino_reconciliation - INFO - Righe con Quantita_AS400 non-null dopo merge: 135
2025-09-19 13:38:25,083 - magazzino_reconciliation - INFO - Sample dopo merge:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245             1.0              NaN
1  0000564             1.0              NaN
2  0094308            10.0              NaN
3  0094624             3.0              NaN
4  0094625            17.0              NaN
2025-09-19 13:38:25,083 - magazzino_reconciliation - INFO - Quantita_AS400 valori null dopo merge: 51
2025-09-19 13:38:25,084 - magazzino_reconciliation - INFO - Quantita_AS400 non-null prima conversione: 135
2025-09-19 13:38:25,084 - magazzino_reconciliation - INFO - Sample Quantita_AS400 prima conversione: [1.0, 1.0, 10.0, 3.0, 17.0]
2025-09-19 13:38:25,085 - magazzino_reconciliation - INFO - Conversione numerica quantità...
2025-09-19 13:38:25,085 - magazzino_reconciliation - INFO - Somma AS400 PRIMA conversione: 1532.0
2025-09-19 13:38:25,086 - magazzino_reconciliation - INFO - Valori null/NaN in Quantita_AS400 prima conversione: 51
2025-09-19 13:38:25,087 - magazzino_reconciliation - INFO - Valori unici in Quantita_AS400: [ 1. 10.  3. 17.  4. 20. 33. 15. 16.  7.]
2025-09-19 13:38:25,090 - magazzino_reconciliation - INFO - Somma AS400 dopo conversione: 1532
2025-09-19 13:38:25,091 - magazzino_reconciliation - INFO - Somma WebApp dopo conversione: 455
2025-09-19 13:38:25,093 - magazzino_reconciliation - INFO - Campione quantità convertite:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245               1                0
1  0000564               1                0
2  0094308              10                0
3  0094624               3                0
4  0094625              17                0
2025-09-19 13:38:25,098 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 13:38:25,099 - magazzino_reconciliation - INFO - Riconciliazione completata: 186 prodotti analizzati
2025-09-19 13:38:25,112 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_133825.csv
2025-09-19 13:38:25,112 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 13:38:25,113 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 13:38:25] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 14:09:28,218 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 14:09:28,222 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 14:09:28,222 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 14:09:28,223 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 14:09:28,223 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 14:09:28,223 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:09:28,223 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 14:09:28,224 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 14:09:28,224 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:09:28,224 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:09:28,224 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:09:28,226 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 14:09:28,226 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 14:09:28,227 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 14:09:28,228 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 14:09:28,228 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 14:09:28,228 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 14:09:28,229 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:09:28,229 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 14:09:28,229 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 14:09:28,230 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 14:09:28,230 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 14:09:28,230 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 14:09:28,230 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:09:28,231 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 14:09:28,231 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 14:09:28,231 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:09:28,231 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:09:28,232 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:09:28,232 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 14:09:28,233 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 14:09:28,233 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 14:09:28,236 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 14:09:28,236 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 14:09:28,236 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 14:09:28,237 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:09:28,237 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 14:09:28,238 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 14:09:28,239 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 14:09:28,240 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 14:09:28,241 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 14:09:28,262 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 14:09:28,262 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 14:09:28,264 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 14:09:28,264 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 14:09:28,281 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 14:09:28,281 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 14:09:28,281 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 14:09:28,282 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:09:28,283 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:09:28,283 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:09:28,283 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 14:09:28,284 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 14:09:28,286 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 14:09:28,287 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:09:28,289 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 14:09:28,290 - magazzino_reconciliation - INFO - Esecuzione merge AS400 vs WebApp...
2025-09-19 14:09:28,291 - magazzino_reconciliation - INFO - AS400 columns: ['Codice', 'Descrizione', 'Quantita_AS400', 'Fonte_AS400']
2025-09-19 14:09:28,291 - magazzino_reconciliation - INFO - WebApp columns: ['Codice', 'Descrizione', 'Quantita_WebApp', 'Magazzino_Web', 'Stato', 'Ubicazione', 'Note']
2025-09-19 14:09:28,295 - magazzino_reconciliation - INFO - AS400 pre-merge sample:
    Codice  Quantita_AS400
0  0000245               1
1  0000564               1
2  0094308              10
2025-09-19 14:09:28,298 - magazzino_reconciliation - INFO - Dopo merge: 186 righe
2025-09-19 14:09:28,299 - magazzino_reconciliation - INFO - Righe con Quantita_AS400 non-null dopo merge: 135
2025-09-19 14:09:28,303 - magazzino_reconciliation - INFO - Sample dopo merge:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245             1.0              NaN
1  0000564             1.0              NaN
2  0094308            10.0              NaN
3  0094624             3.0              NaN
4  0094625            17.0              NaN
2025-09-19 14:09:28,304 - magazzino_reconciliation - INFO - Quantita_AS400 valori null dopo merge: 51
2025-09-19 14:09:28,305 - magazzino_reconciliation - INFO - Quantita_AS400 non-null prima conversione: 135
2025-09-19 14:09:28,306 - magazzino_reconciliation - INFO - Sample Quantita_AS400 prima conversione: [1.0, 1.0, 10.0, 3.0, 17.0]
2025-09-19 14:09:28,306 - magazzino_reconciliation - INFO - Conversione numerica quantità...
2025-09-19 14:09:28,307 - magazzino_reconciliation - INFO - Somma AS400 PRIMA conversione: 1532.0
2025-09-19 14:09:28,307 - magazzino_reconciliation - INFO - Valori null/NaN in Quantita_AS400 prima conversione: 51
2025-09-19 14:09:28,307 - magazzino_reconciliation - INFO - Valori unici in Quantita_AS400: [ 1. 10.  3. 17.  4. 20. 33. 15. 16.  7.]
2025-09-19 14:09:28,309 - magazzino_reconciliation - INFO - Somma AS400 dopo conversione: 1532
2025-09-19 14:09:28,309 - magazzino_reconciliation - INFO - Somma WebApp dopo conversione: 455
2025-09-19 14:09:28,311 - magazzino_reconciliation - INFO - Campione quantità convertite:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245               1                0
1  0000564               1                0
2  0094308              10                0
3  0094624               3                0
4  0094625              17                0
2025-09-19 14:09:28,317 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 14:09:28,320 - magazzino_reconciliation - INFO - Riconciliazione completata: 186 prodotti analizzati
2025-09-19 14:09:28,334 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_140928.csv
2025-09-19 14:09:28,334 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 14:09:28,335 - magazzino_reconciliation - INFO - DEBUG - Report keys: ['success', 'metadata', 'statistics', 'products', 'recommendations']
2025-09-19 14:09:28,335 - magazzino_reconciliation - INFO - DEBUG - Products keys: ['aligned', 'webapp_higher', 'as400_higher']
2025-09-19 14:09:28,336 - magazzino_reconciliation - INFO - DEBUG - Sample webapp_higher: {'Codice': '95950', 'Descrizione': '', 'Quantita_AS400': 0, 'Quantita_WebApp': 92, 'Differenza': 92, 'Stato': 'baia_uscita, in_magazzino', 'Note': '*Luparelli guaste da smaltire | *batteria per etichette ID.TAG'}
2025-09-19 14:09:28,336 - magazzino_reconciliation - INFO - DEBUG - Sample as400_higher: {'Codice': '0000245', 'Descrizione': 'SCANNER MANUALE CANON DR-M140II', 'Quantita_AS400': 1, 'Quantita_WebApp': 0, 'Differenza': -1, 'Fonte_AS400': 'Magazzino_28_Deposito'}
2025-09-19 14:09:28,337 - magazzino_reconciliation - INFO - DEBUG - Response details keys: ['webapp_higher', 'as400_higher', 'aligned_products']
2025-09-19 14:09:28,338 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:09:28] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 14:10:24,761 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:10:24] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-19 14:10:33,601 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 14:10:33,602 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 14:10:33,603 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 14:10:33,603 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 14:10:33,603 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 14:10:33,604 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:10:33,604 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 14:10:33,604 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 14:10:33,604 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:10:33,605 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:10:33,605 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:10:33,605 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 14:10:33,606 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 14:10:33,607 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 14:10:33,609 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 14:10:33,609 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 14:10:33,609 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 14:10:33,610 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:10:33,610 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 14:10:33,611 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 14:10:33,612 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 14:10:33,612 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 14:10:33,613 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 14:10:33,613 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:10:33,613 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 14:10:33,614 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 14:10:33,614 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:10:33,614 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:10:33,615 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:10:33,616 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 14:10:33,616 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 14:10:33,617 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 14:10:33,622 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 14:10:33,622 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 14:10:33,623 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 14:10:33,623 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:10:33,624 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 14:10:33,625 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 14:10:33,627 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 14:10:33,628 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 14:10:33,629 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 14:10:33,639 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 14:10:33,641 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 14:10:33,644 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 14:10:33,645 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 14:10:33,662 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 14:10:33,662 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 14:10:33,663 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 14:10:33,663 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:10:33,664 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:10:33,664 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:10:33,665 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 14:10:33,665 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 14:10:33,665 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 14:10:33,666 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:10:33,666 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 14:10:33,667 - magazzino_reconciliation - INFO - Esecuzione merge AS400 vs WebApp...
2025-09-19 14:10:33,667 - magazzino_reconciliation - INFO - AS400 columns: ['Codice', 'Descrizione', 'Quantita_AS400', 'Fonte_AS400']
2025-09-19 14:10:33,667 - magazzino_reconciliation - INFO - WebApp columns: ['Codice', 'Descrizione', 'Quantita_WebApp', 'Magazzino_Web', 'Stato', 'Ubicazione', 'Note']
2025-09-19 14:10:33,670 - magazzino_reconciliation - INFO - AS400 pre-merge sample:
    Codice  Quantita_AS400
0  0000245               1
1  0000564               1
2  0094308              10
2025-09-19 14:10:33,677 - magazzino_reconciliation - INFO - Dopo merge: 186 righe
2025-09-19 14:10:33,678 - magazzino_reconciliation - INFO - Righe con Quantita_AS400 non-null dopo merge: 135
2025-09-19 14:10:33,680 - magazzino_reconciliation - INFO - Sample dopo merge:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245             1.0              NaN
1  0000564             1.0              NaN
2  0094308            10.0              NaN
3  0094624             3.0              NaN
4  0094625            17.0              NaN
2025-09-19 14:10:33,680 - magazzino_reconciliation - INFO - Quantita_AS400 valori null dopo merge: 51
2025-09-19 14:10:33,681 - magazzino_reconciliation - INFO - Quantita_AS400 non-null prima conversione: 135
2025-09-19 14:10:33,681 - magazzino_reconciliation - INFO - Sample Quantita_AS400 prima conversione: [1.0, 1.0, 10.0, 3.0, 17.0]
2025-09-19 14:10:33,681 - magazzino_reconciliation - INFO - Conversione numerica quantità...
2025-09-19 14:10:33,681 - magazzino_reconciliation - INFO - Somma AS400 PRIMA conversione: 1532.0
2025-09-19 14:10:33,682 - magazzino_reconciliation - INFO - Valori null/NaN in Quantita_AS400 prima conversione: 51
2025-09-19 14:10:33,682 - magazzino_reconciliation - INFO - Valori unici in Quantita_AS400: [ 1. 10.  3. 17.  4. 20. 33. 15. 16.  7.]
2025-09-19 14:10:33,684 - magazzino_reconciliation - INFO - Somma AS400 dopo conversione: 1532
2025-09-19 14:10:33,685 - magazzino_reconciliation - INFO - Somma WebApp dopo conversione: 455
2025-09-19 14:10:33,689 - magazzino_reconciliation - INFO - Campione quantità convertite:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245               1                0
1  0000564               1                0
2  0094308              10                0
3  0094624               3                0
4  0094625              17                0
2025-09-19 14:10:33,696 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 14:10:33,697 - magazzino_reconciliation - INFO - Riconciliazione completata: 186 prodotti analizzati
2025-09-19 14:10:33,708 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_141033.csv
2025-09-19 14:10:33,708 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 14:10:33,708 - magazzino_reconciliation - INFO - DEBUG - Report keys: ['success', 'metadata', 'statistics', 'products', 'recommendations']
2025-09-19 14:10:33,708 - magazzino_reconciliation - INFO - DEBUG - Products keys: ['aligned', 'webapp_higher', 'as400_higher']
2025-09-19 14:10:33,709 - magazzino_reconciliation - INFO - DEBUG - Sample webapp_higher: {'Codice': '95950', 'Descrizione': '', 'Quantita_AS400': 0, 'Quantita_WebApp': 92, 'Differenza': 92, 'Stato': 'baia_uscita, in_magazzino', 'Note': '*Luparelli guaste da smaltire | *batteria per etichette ID.TAG'}
2025-09-19 14:10:33,709 - magazzino_reconciliation - INFO - DEBUG - Sample as400_higher: {'Codice': '0000245', 'Descrizione': 'SCANNER MANUALE CANON DR-M140II', 'Quantita_AS400': 1, 'Quantita_WebApp': 0, 'Differenza': -1, 'Fonte_AS400': 'Magazzino_28_Deposito'}
2025-09-19 14:10:33,709 - magazzino_reconciliation - INFO - DEBUG - Response details keys: ['webapp_higher', 'as400_higher', 'aligned_products']
2025-09-19 14:10:33,710 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:10:33] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 14:15:53,315 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 14:15:53,318 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 14:15:53,318 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 14:15:53,318 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 14:15:53,318 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 14:15:53,319 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:15:53,319 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 14:15:53,319 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 14:15:53,319 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:15:53,319 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:15:53,320 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:15:53,322 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 14:15:53,322 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 14:15:53,323 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 14:15:53,325 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 14:15:53,326 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 14:15:53,326 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 14:15:53,327 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:15:53,327 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 14:15:53,328 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 14:15:53,329 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 14:15:53,329 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 14:15:53,329 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 14:15:53,329 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:15:53,330 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 14:15:53,330 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 14:15:53,331 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:15:53,331 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:15:53,332 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:15:53,332 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 14:15:53,333 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 14:15:53,333 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 14:15:53,336 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 14:15:53,337 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 14:15:53,337 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 14:15:53,337 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:15:53,337 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 14:15:53,338 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 14:15:53,341 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 14:15:53,342 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 14:15:53,344 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 14:15:53,355 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 14:15:53,355 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 14:15:53,361 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 14:15:53,362 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 14:15:53,377 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 14:15:53,378 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 14:15:53,378 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 14:15:53,379 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:15:53,379 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:15:53,380 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:15:53,380 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 14:15:53,380 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 14:15:53,381 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 14:15:53,381 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:15:53,381 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 14:15:53,382 - magazzino_reconciliation - INFO - Esecuzione merge AS400 vs WebApp...
2025-09-19 14:15:53,382 - magazzino_reconciliation - INFO - AS400 columns: ['Codice', 'Descrizione', 'Quantita_AS400', 'Fonte_AS400']
2025-09-19 14:15:53,382 - magazzino_reconciliation - INFO - WebApp columns: ['Codice', 'Descrizione', 'Quantita_WebApp', 'Magazzino_Web', 'Stato', 'Ubicazione', 'Note']
2025-09-19 14:15:53,385 - magazzino_reconciliation - INFO - AS400 pre-merge sample:
    Codice  Quantita_AS400
0  0000245               1
1  0000564               1
2  0094308              10
2025-09-19 14:15:53,389 - magazzino_reconciliation - INFO - Dopo merge: 186 righe
2025-09-19 14:15:53,392 - magazzino_reconciliation - INFO - Righe con Quantita_AS400 non-null dopo merge: 135
2025-09-19 14:15:53,395 - magazzino_reconciliation - INFO - Sample dopo merge:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245             1.0              NaN
1  0000564             1.0              NaN
2  0094308            10.0              NaN
3  0094624             3.0              NaN
4  0094625            17.0              NaN
2025-09-19 14:15:53,396 - magazzino_reconciliation - INFO - Quantita_AS400 valori null dopo merge: 51
2025-09-19 14:15:53,396 - magazzino_reconciliation - INFO - Quantita_AS400 non-null prima conversione: 135
2025-09-19 14:15:53,397 - magazzino_reconciliation - INFO - Sample Quantita_AS400 prima conversione: [1.0, 1.0, 10.0, 3.0, 17.0]
2025-09-19 14:15:53,397 - magazzino_reconciliation - INFO - Conversione numerica quantità...
2025-09-19 14:15:53,397 - magazzino_reconciliation - INFO - Somma AS400 PRIMA conversione: 1532.0
2025-09-19 14:15:53,397 - magazzino_reconciliation - INFO - Valori null/NaN in Quantita_AS400 prima conversione: 51
2025-09-19 14:15:53,398 - magazzino_reconciliation - INFO - Valori unici in Quantita_AS400: [ 1. 10.  3. 17.  4. 20. 33. 15. 16.  7.]
2025-09-19 14:15:53,399 - magazzino_reconciliation - INFO - Somma AS400 dopo conversione: 1532
2025-09-19 14:15:53,399 - magazzino_reconciliation - INFO - Somma WebApp dopo conversione: 455
2025-09-19 14:15:53,401 - magazzino_reconciliation - INFO - Campione quantità convertite:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245               1                0
1  0000564               1                0
2  0094308              10                0
3  0094624               3                0
4  0094625              17                0
2025-09-19 14:15:53,411 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 14:15:53,412 - magazzino_reconciliation - INFO - Riconciliazione completata: 186 prodotti analizzati
2025-09-19 14:15:53,427 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_141553.csv
2025-09-19 14:15:53,427 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 14:15:53,428 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:15:53] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 14:17:26,478 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:17:26] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-19 14:17:51,238 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 14:17:51,244 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 14:17:51,245 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 14:17:51,245 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 14:17:51,245 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 14:17:51,246 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:17:51,246 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 14:17:51,246 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 14:17:51,246 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:17:51,247 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:17:51,247 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:17:51,249 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 14:17:51,249 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 14:17:51,249 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 14:17:51,250 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 14:17:51,251 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 14:17:51,251 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 14:17:51,251 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:17:51,252 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 14:17:51,253 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 14:17:51,254 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 14:17:51,254 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 14:17:51,254 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 14:17:51,254 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:17:51,255 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 14:17:51,256 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 14:17:51,256 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:17:51,257 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:17:51,258 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:17:51,258 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 14:17:51,259 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 14:17:51,259 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 14:17:51,261 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 14:17:51,261 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 14:17:51,262 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 14:17:51,262 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:17:51,262 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 14:17:51,262 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 14:17:51,263 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 14:17:51,264 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 14:17:51,264 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 14:17:51,280 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 14:17:51,281 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 14:17:51,283 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 14:17:51,283 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 14:17:51,298 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 14:17:51,299 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 14:17:51,299 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 14:17:51,300 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:17:51,300 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:17:51,300 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:17:51,301 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 14:17:51,301 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 14:17:51,302 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 14:17:51,302 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:17:51,303 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 14:17:51,303 - magazzino_reconciliation - INFO - Esecuzione merge AS400 vs WebApp...
2025-09-19 14:17:51,303 - magazzino_reconciliation - INFO - AS400 columns: ['Codice', 'Descrizione', 'Quantita_AS400', 'Fonte_AS400']
2025-09-19 14:17:51,303 - magazzino_reconciliation - INFO - WebApp columns: ['Codice', 'Descrizione', 'Quantita_WebApp', 'Magazzino_Web', 'Stato', 'Ubicazione', 'Note']
2025-09-19 14:17:51,309 - magazzino_reconciliation - INFO - AS400 pre-merge sample:
    Codice  Quantita_AS400
0  0000245               1
1  0000564               1
2  0094308              10
2025-09-19 14:17:51,313 - magazzino_reconciliation - INFO - Dopo merge: 186 righe
2025-09-19 14:17:51,313 - magazzino_reconciliation - INFO - Righe con Quantita_AS400 non-null dopo merge: 135
2025-09-19 14:17:51,316 - magazzino_reconciliation - INFO - Sample dopo merge:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245             1.0              NaN
1  0000564             1.0              NaN
2  0094308            10.0              NaN
3  0094624             3.0              NaN
4  0094625            17.0              NaN
2025-09-19 14:17:51,317 - magazzino_reconciliation - INFO - Quantita_AS400 valori null dopo merge: 51
2025-09-19 14:17:51,317 - magazzino_reconciliation - INFO - Quantita_AS400 non-null prima conversione: 135
2025-09-19 14:17:51,317 - magazzino_reconciliation - INFO - Sample Quantita_AS400 prima conversione: [1.0, 1.0, 10.0, 3.0, 17.0]
2025-09-19 14:17:51,317 - magazzino_reconciliation - INFO - Conversione numerica quantità...
2025-09-19 14:17:51,318 - magazzino_reconciliation - INFO - Somma AS400 PRIMA conversione: 1532.0
2025-09-19 14:17:51,318 - magazzino_reconciliation - INFO - Valori null/NaN in Quantita_AS400 prima conversione: 51
2025-09-19 14:17:51,318 - magazzino_reconciliation - INFO - Valori unici in Quantita_AS400: [ 1. 10.  3. 17.  4. 20. 33. 15. 16.  7.]
2025-09-19 14:17:51,320 - magazzino_reconciliation - INFO - Somma AS400 dopo conversione: 1532
2025-09-19 14:17:51,320 - magazzino_reconciliation - INFO - Somma WebApp dopo conversione: 455
2025-09-19 14:17:51,323 - magazzino_reconciliation - INFO - Campione quantità convertite:
    Codice  Quantita_AS400  Quantita_WebApp
0  0000245               1                0
1  0000564               1                0
2  0094308              10                0
3  0094624               3                0
4  0094625              17                0
2025-09-19 14:17:51,331 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 14:17:51,333 - magazzino_reconciliation - INFO - Riconciliazione completata: 186 prodotti analizzati
2025-09-19 14:17:51,334 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 14:17:51,335 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 0
2025-09-19 14:17:51,335 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 51
2025-09-19 14:17:51,335 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 135
2025-09-19 14:17:51,337 - magazzino_reconciliation - INFO - Top 10 differenze: {-1: 35, 1: 17, -2: 16, -3: 12, -4: 12, 2: 8, -6: 6, -10: 5, 3: 5, -5: 4}
2025-09-19 14:17:51,337 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95950 (AS400:0, WebApp:92, Diff:92)
2025-09-19 14:17:51,338 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 0000245 (AS400:1, WebApp:0, Diff:-1)
2025-09-19 14:17:51,351 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_141751.csv
2025-09-19 14:17:51,351 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 14:17:51,352 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:17:51] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 14:22:28,134 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 14:22:28,137 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 14:22:28,137 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 14:22:28,138 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 14:22:28,138 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 14:22:28,138 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:22:28,138 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 14:22:28,139 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 14:22:28,139 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:22:28,140 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:22:28,141 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:22:28,145 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 14:22:28,146 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 14:22:28,147 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 14:22:28,149 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 14:22:28,150 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 14:22:28,151 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 14:22:28,152 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:22:28,152 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 14:22:28,155 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 14:22:28,156 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 14:22:28,159 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 14:22:28,161 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 14:22:28,162 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:22:28,163 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 14:22:28,164 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 14:22:28,164 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:22:28,165 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:22:28,165 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:22:28,166 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 14:22:28,167 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 14:22:28,167 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 14:22:28,170 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 14:22:28,170 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 14:22:28,171 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 14:22:28,172 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:22:28,174 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 14:22:28,177 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 14:22:28,180 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 14:22:28,181 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 14:22:28,182 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 14:22:28,200 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 14:22:28,201 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 14:22:28,204 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 14:22:28,204 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 14:22:28,228 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 14:22:28,229 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 14:22:28,229 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 14:22:28,230 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:22:28,231 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:22:28,231 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:22:28,231 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 14:22:28,232 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 14:22:28,232 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 14:22:28,233 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:22:28,233 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 14:22:28,236 - magazzino_reconciliation - INFO - Distribuzione magazzini WebApp: {'farmacia': 33, 'grossisti': 8, '-': 3, '12A': 1, '15B': 1, '6B': 1, '11E': 1, '13B': 1, '-, 12A': 1, 'None': 1}
2025-09-19 14:22:28,242 - magazzino_reconciliation - INFO - WebApp separata: farmacia=33, grossisti=8, altri=10
2025-09-19 14:22:28,245 - magazzino_reconciliation - INFO - AS400 separato: mag27=24, mag28=112
2025-09-19 14:22:28,246 - magazzino_reconciliation - INFO - Riconciliazione categoria Grossisti: AS400=24, WebApp=8
2025-09-19 14:22:28,256 - magazzino_reconciliation - INFO - Riconciliazione categoria Farmacia: AS400=112, WebApp=33
2025-09-19 14:22:28,268 - magazzino_reconciliation - INFO - Riconciliazione completata: 187 prodotti analizzati
2025-09-19 14:22:28,271 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 14:22:28,271 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 0
2025-09-19 14:22:28,271 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 51
2025-09-19 14:22:28,272 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 136
2025-09-19 14:22:28,272 - magazzino_reconciliation - INFO - Top 10 differenze: {-1: 35, 1: 17, -2: 16, -4: 12, -3: 12, 2: 8, -6: 6, -10: 5, 3: 5, 4: 4}
2025-09-19 14:22:28,273 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95631 (AS400:0, WebApp:12, Diff:12)
2025-09-19 14:22:28,274 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 0094308 (AS400:10, WebApp:0, Diff:-10)
2025-09-19 14:22:28,287 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_142228.csv
2025-09-19 14:22:28,287 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 14:22:28,288 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:22:28] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 14:25:01,067 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 14:25:01,073 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 14:25:01,073 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 14:25:01,074 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 14:25:01,074 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 14:25:01,074 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:25:01,074 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 14:25:01,077 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 14:25:01,077 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:25:01,078 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:25:01,081 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:25:01,085 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 14:25:01,085 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 14:25:01,086 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 14:25:01,088 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 14:25:01,088 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 14:25:01,089 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 14:25:01,090 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:25:01,091 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 14:25:01,093 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 14:25:01,096 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 14:25:01,097 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 14:25:01,097 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 14:25:01,098 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:25:01,098 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 14:25:01,099 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 14:25:01,099 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:25:01,099 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:25:01,100 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:25:01,100 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 14:25:01,100 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 14:25:01,101 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 14:25:01,103 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 14:25:01,103 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 14:25:01,103 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 14:25:01,104 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:25:01,104 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 14:25:01,105 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 14:25:01,106 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 14:25:01,107 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 14:25:01,111 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 14:25:01,138 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 14:25:01,138 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 14:25:01,142 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 14:25:01,143 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 14:25:01,170 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 14:25:01,170 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 14:25:01,170 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 14:25:01,172 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:25:01,172 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:25:01,173 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:25:01,173 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 14:25:01,174 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 14:25:01,174 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 14:25:01,175 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 14:25:01,179 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:25:01,181 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 14:25:01,181 - magazzino_reconciliation - INFO - Sample codici WebApp: ['94859', '94881', '94906', '94908', '94966', '94991', '94995', '94997', '95140', '95151']
2025-09-19 14:25:01,182 - magazzino_reconciliation - INFO - Codici AS400 unici: 135
2025-09-19 14:25:01,182 - magazzino_reconciliation - INFO - Codici WebApp unici: 51
2025-09-19 14:25:01,183 - magazzino_reconciliation - INFO - Codici in comune: 0
2025-09-19 14:25:01,183 - magazzino_reconciliation - WARNING - NESSUN CODICE IN COMUNE TRA AS400 E WEBAPP!
2025-09-19 14:25:01,183 - magazzino_reconciliation - INFO - Esecuzione merge AS400 vs WebApp...
2025-09-19 14:25:01,188 - magazzino_reconciliation - INFO - Dopo merge: 186 righe
2025-09-19 14:25:01,197 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 0
2025-09-19 14:25:01,204 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 14:25:01,205 - magazzino_reconciliation - INFO - Riconciliazione completata: 186 prodotti analizzati
2025-09-19 14:25:01,208 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 14:25:01,208 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 0
2025-09-19 14:25:01,208 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 51
2025-09-19 14:25:01,208 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 135
2025-09-19 14:25:01,213 - magazzino_reconciliation - INFO - Top 10 differenze: {-1: 35, 1: 17, -2: 16, -3: 12, -4: 12, 2: 8, -6: 6, -10: 5, 3: 5, -5: 4}
2025-09-19 14:25:01,214 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95950 (AS400:0, WebApp:92, Diff:92)
2025-09-19 14:25:01,214 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 0000245 (AS400:1, WebApp:0, Diff:-1)
2025-09-19 14:25:01,229 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_142501.csv
2025-09-19 14:25:01,230 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 14:25:01,231 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:25:01] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 14:26:22,326 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 14:26:22,330 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 14:26:22,331 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 14:26:22,331 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 14:26:22,331 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 14:26:22,331 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:26:22,332 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 14:26:22,332 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 14:26:22,333 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:26:22,333 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:26:22,333 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:26:22,337 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 14:26:22,338 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 14:26:22,339 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 14:26:22,341 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 14:26:22,341 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 14:26:22,341 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 14:26:22,342 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:26:22,342 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 14:26:22,343 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 14:26:22,343 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 14:26:22,344 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 14:26:22,346 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 14:26:22,347 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:26:22,347 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 14:26:22,349 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 14:26:22,349 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:26:22,350 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:26:22,350 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:26:22,350 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 14:26:22,351 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 14:26:22,351 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 14:26:22,354 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 14:26:22,355 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 14:26:22,356 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 14:26:22,356 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:26:22,356 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 14:26:22,357 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 14:26:22,358 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 14:26:22,358 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 14:26:22,359 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 14:26:22,375 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 14:26:22,375 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 14:26:22,381 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 14:26:22,382 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 14:26:22,403 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 14:26:22,403 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 14:26:22,403 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 14:26:22,404 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:26:22,404 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:26:22,405 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:26:22,405 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 14:26:22,406 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 14:26:22,406 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 14:26:22,407 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 14:26:22,407 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:26:22,407 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 14:26:22,408 - magazzino_reconciliation - INFO - Sample codici WebApp: ['94859', '94881', '94906', '94908', '94966', '94991', '94995', '94997', '95140', '95151']
2025-09-19 14:26:22,408 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-19 14:26:22,415 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-19 14:26:22,416 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-19 14:26:22,416 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 135
2025-09-19 14:26:22,417 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 51
2025-09-19 14:26:22,417 - magazzino_reconciliation - INFO -   - Codici in comune: 50
2025-09-19 14:26:22,417 - magazzino_reconciliation - INFO - Esempi codici comuni: ['94859', '94881', '94906', '94908', '94966']
2025-09-19 14:26:22,420 - magazzino_reconciliation - INFO -   Match: 95508 -> AS400:27, WebApp:6
2025-09-19 14:26:22,421 - magazzino_reconciliation - INFO -   Match: 95928 -> AS400:1, WebApp:1
2025-09-19 14:26:22,423 - magazzino_reconciliation - INFO -   Match: 95973 -> AS400:10, WebApp:10
2025-09-19 14:26:22,423 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-19 14:26:22,426 - magazzino_reconciliation - INFO - Dopo merge: 136 righe
2025-09-19 14:26:22,433 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 50
2025-09-19 14:26:22,438 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
   Codice  Quantita_AS400  Quantita_WebApp  Differenza
6   94859               4                4           0
8   94881              20                1         -19
11  94906              33               33           0
12  94908              15                1         -14
18  94966               1                1           0
2025-09-19 14:26:22,443 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 14:26:22,446 - magazzino_reconciliation - INFO - Riconciliazione completata: 136 prodotti analizzati
2025-09-19 14:26:22,450 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 14:26:22,450 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 24
2025-09-19 14:26:22,450 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 2
2025-09-19 14:26:22,450 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 110
2025-09-19 14:26:22,451 - magazzino_reconciliation - INFO - Top 10 differenze: {-1: 32, 0: 24, -2: 12, -4: 9, -3: 8, -5: 5, -6: 4, -12: 3, -17: 3, -7: 3}
2025-09-19 14:26:22,451 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 94859
2025-09-19 14:26:22,452 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:42, Diff:41)
2025-09-19 14:26:22,452 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 245 (AS400:1, WebApp:0, Diff:-1)
2025-09-19 14:26:22,466 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_142622.csv
2025-09-19 14:26:22,467 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 14:26:22,467 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:26:22] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 14:26:53,066 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 14:26:53,068 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 14:26:53,068 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 14:26:53,068 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 14:26:53,068 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 14:26:53,069 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:26:53,069 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 14:26:53,069 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 14:26:53,070 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:26:53,070 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:26:53,070 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:26:53,070 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 14:26:53,070 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 14:26:53,071 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 14:26:53,071 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 14:26:53,072 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 14:26:53,072 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 14:26:53,072 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:26:53,072 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 14:26:53,073 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 14:26:53,075 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 14:26:53,076 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 14:26:53,076 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 14:26:53,076 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:26:53,077 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 14:26:53,077 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 14:26:53,079 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:26:53,080 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:26:53,081 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:26:53,081 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 14:26:53,083 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 14:26:53,084 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 14:26:53,087 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 14:26:53,087 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 14:26:53,087 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 14:26:53,087 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:26:53,088 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 14:26:53,088 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 14:26:53,089 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 14:26:53,089 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 14:26:53,089 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 14:26:53,102 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 14:26:53,103 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 14:26:53,106 - magazzino_reconciliation - INFO - Estratte 82 righe da export WebApp
2025-09-19 14:26:53,106 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 14:26:53,126 - magazzino_reconciliation - INFO - Aggregati in 51 prodotti unici
2025-09-19 14:26:53,126 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 14:26:53,126 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 14:26:53,127 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:26:53,128 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:26:53,129 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:26:53,130 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 14:26:53,133 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 14:26:53,133 - magazzino_reconciliation - INFO - Input WebApp: 51 righe
2025-09-19 14:26:53,134 - magazzino_reconciliation - INFO - WebApp sample: 94859 -> Qty: 4 (type: <class 'int'>)
2025-09-19 14:26:53,134 - magazzino_reconciliation - INFO - WebApp sample: 94881 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:26:53,135 - magazzino_reconciliation - INFO - WebApp sample: 94906 -> Qty: 33 (type: <class 'int'>)
2025-09-19 14:26:53,135 - magazzino_reconciliation - INFO - Sample codici WebApp: ['94859', '94881', '94906', '94908', '94966', '94991', '94995', '94997', '95140', '95151']
2025-09-19 14:26:53,136 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-19 14:26:53,138 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-19 14:26:53,139 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-19 14:26:53,139 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 135
2025-09-19 14:26:53,139 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 51
2025-09-19 14:26:53,139 - magazzino_reconciliation - INFO -   - Codici in comune: 50
2025-09-19 14:26:53,139 - magazzino_reconciliation - INFO - Esempi codici comuni: ['94859', '94881', '94906', '94908', '94966']
2025-09-19 14:26:53,141 - magazzino_reconciliation - INFO -   Match: 95508 -> AS400:27, WebApp:6
2025-09-19 14:26:53,143 - magazzino_reconciliation - INFO -   Match: 95928 -> AS400:1, WebApp:1
2025-09-19 14:26:53,144 - magazzino_reconciliation - INFO -   Match: 95973 -> AS400:10, WebApp:10
2025-09-19 14:26:53,144 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-19 14:26:53,150 - magazzino_reconciliation - INFO - Dopo merge: 136 righe
2025-09-19 14:26:53,155 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 50
2025-09-19 14:26:53,157 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
   Codice  Quantita_AS400  Quantita_WebApp  Differenza
6   94859               4                4           0
8   94881              20                1         -19
11  94906              33               33           0
12  94908              15                1         -14
18  94966               1                1           0
2025-09-19 14:26:53,163 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 455
2025-09-19 14:26:53,167 - magazzino_reconciliation - INFO - Riconciliazione completata: 136 prodotti analizzati
2025-09-19 14:26:53,169 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 14:26:53,169 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 24
2025-09-19 14:26:53,169 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 2
2025-09-19 14:26:53,169 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 110
2025-09-19 14:26:53,171 - magazzino_reconciliation - INFO - Top 10 differenze: {-1: 32, 0: 24, -2: 12, -4: 9, -3: 8, -5: 5, -6: 4, -12: 3, -17: 3, -7: 3}
2025-09-19 14:26:53,171 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 94859
2025-09-19 14:26:53,171 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:42, Diff:41)
2025-09-19 14:26:53,172 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 245 (AS400:1, WebApp:0, Diff:-1)
2025-09-19 14:26:53,181 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_142653.csv
2025-09-19 14:26:53,182 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 14:26:53,183 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:26:53] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 14:34:02,521 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 14:34:02,525 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 14:34:02,526 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 14:34:02,526 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 14:34:02,527 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 14:34:02,527 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:34:02,527 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 14:34:02,528 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 14:34:02,528 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:34:02,528 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:34:02,528 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:34:02,531 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 14:34:02,531 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 14:34:02,531 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 14:34:02,535 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 14:34:02,536 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 14:34:02,536 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 14:34:02,536 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:34:02,536 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 14:34:02,537 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 14:34:02,538 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 14:34:02,539 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 14:34:02,539 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 14:34:02,540 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:34:02,540 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 14:34:02,540 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 14:34:02,540 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:34:02,541 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:34:02,541 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:34:02,541 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 14:34:02,541 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 14:34:02,541 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 14:34:02,543 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 14:34:02,543 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 14:34:02,544 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 14:34:02,544 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:34:02,544 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 14:34:02,544 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 14:34:02,545 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 14:34:02,546 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 14:34:02,546 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 14:34:02,561 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 14:34:02,561 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 14:34:02,562 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 233
2025-09-19 14:34:02,562 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 228
2025-09-19 14:34:02,562 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 14:34:02,563 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 14:34:02,563 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 14:34:02,563 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 14:34:02,569 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 14:34:02,570 - magazzino_reconciliation - INFO -   - Righe processate: 228
2025-09-19 14:34:02,570 - magazzino_reconciliation - INFO -   - Righe valide: 140
2025-09-19 14:34:02,570 - magazzino_reconciliation - INFO -   - Prodotti estratti: 140
2025-09-19 14:34:02,570 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 14:34:02,594 - magazzino_reconciliation - INFO - Aggregati in 90 prodotti unici
2025-09-19 14:34:02,594 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 14:34:02,595 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 14:34:02,595 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:34:02,596 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:34:02,596 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:34:02,596 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 14:34:02,597 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 14:34:02,597 - magazzino_reconciliation - INFO - Input WebApp: 90 righe
2025-09-19 14:34:02,598 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:34:02,598 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:34:02,600 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:34:02,601 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94838', '94874', '94881', '94882', '94884', '94908']
2025-09-19 14:34:02,602 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-19 14:34:02,605 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-19 14:34:02,606 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-19 14:34:02,607 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 135
2025-09-19 14:34:02,607 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 90
2025-09-19 14:34:02,607 - magazzino_reconciliation - INFO -   - Codici in comune: 90
2025-09-19 14:34:02,607 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94838']
2025-09-19 14:34:02,609 - magazzino_reconciliation - INFO -   Match: 95633 -> AS400:16, WebApp:13
2025-09-19 14:34:02,610 - magazzino_reconciliation - INFO -   Match: 95882 -> AS400:1, WebApp:1
2025-09-19 14:34:02,612 - magazzino_reconciliation - INFO -   Match: 96075 -> AS400:22, WebApp:22
2025-09-19 14:34:02,612 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-19 14:34:02,614 - magazzino_reconciliation - INFO - Dopo merge: 135 righe
2025-09-19 14:34:02,621 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 90
2025-09-19 14:34:02,625 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
5  94838               1                1           0
2025-09-19 14:34:02,630 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 2311
2025-09-19 14:34:02,632 - magazzino_reconciliation - INFO - Riconciliazione completata: 135 prodotti analizzati
2025-09-19 14:34:02,636 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 14:34:02,636 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 79
2025-09-19 14:34:02,637 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 2
2025-09-19 14:34:02,637 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 54
2025-09-19 14:34:02,638 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 79, -1: 14, -2: 8, -6: 4, -5: 4, -3: 3, -13: 3, -33: 2, -10: 2, -4: 2}
2025-09-19 14:34:02,638 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-19 14:34:02,639 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:1245, Diff:1244)
2025-09-19 14:34:02,639 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 94964 (AS400:1, WebApp:0, Diff:-1)
2025-09-19 14:34:02,652 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_143402.csv
2025-09-19 14:34:02,652 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 14:34:02,654 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:34:02] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 14:50:38,651 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 14:50:38,653 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 14:50:38,654 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 14:50:38,654 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 14:50:38,654 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 51
2025-09-19 14:50:38,655 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:50:38,655 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:08:35 Pag.   1'
2025-09-19 14:50:38,655 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 14:50:38,655 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:50:38,656 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:50:38,656 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:50:38,656 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 14:50:38,656 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 14:50:38,657 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 14:50:38,658 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 14:50:38,658 - magazzino_reconciliation - INFO -   Righe processate: 50
2025-09-19 14:50:38,658 - magazzino_reconciliation - INFO -   Match pattern originale: 24
2025-09-19 14:50:38,658 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:50:38,659 - magazzino_reconciliation - INFO -   Prodotti estratti: 24
2025-09-19 14:50:38,659 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 24 prodotti estratti, somma quantità: 679
2025-09-19 14:50:38,660 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 14:50:38,660 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 14:50:38,660 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 254
2025-09-19 14:50:38,661 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:50:38,661 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***         Lunedi  4.08.25 Ora 17:07:05 Pag.   1'
2025-09-19 14:50:38,661 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 14:50:38,662 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:50:38,662 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:50:38,662 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:50:38,663 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 14:50:38,663 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 14:50:38,664 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 14:50:38,666 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 14:50:38,666 - magazzino_reconciliation - INFO -   Righe processate: 253
2025-09-19 14:50:38,666 - magazzino_reconciliation - INFO -   Match pattern originale: 112
2025-09-19 14:50:38,667 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:50:38,667 - magazzino_reconciliation - INFO -   Prodotti estratti: 112
2025-09-19 14:50:38,668 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 112 prodotti estratti, somma quantità: 853
2025-09-19 14:50:38,669 - magazzino_reconciliation - INFO - AS400 unificato: 136 prodotti totali
2025-09-19 14:50:38,670 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1532
2025-09-19 14:50:38,671 - magazzino_reconciliation - WARNING - Trovati 1 codici duplicati in AS400 - verranno sommati
2025-09-19 14:50:38,681 - magazzino_reconciliation - INFO - Dopo aggregazione duplicati AS400: 135 prodotti, somma: 1532
2025-09-19 14:50:38,681 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 14:50:38,681 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 233
2025-09-19 14:50:38,682 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 228
2025-09-19 14:50:38,682 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 14:50:38,682 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 14:50:38,682 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 14:50:38,682 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 14:50:38,685 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 14:50:38,686 - magazzino_reconciliation - INFO -   - Righe processate: 228
2025-09-19 14:50:38,686 - magazzino_reconciliation - INFO -   - Righe valide: 140
2025-09-19 14:50:38,687 - magazzino_reconciliation - INFO -   - Prodotti estratti: 140
2025-09-19 14:50:38,688 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 14:50:38,709 - magazzino_reconciliation - INFO - Aggregati in 90 prodotti unici
2025-09-19 14:50:38,709 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 14:50:38,709 - magazzino_reconciliation - INFO - Input AS400: 135 righe
2025-09-19 14:50:38,710 - magazzino_reconciliation - INFO - AS400 sample: 0000245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:50:38,710 - magazzino_reconciliation - INFO - AS400 sample: 0000564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:50:38,710 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:50:38,710 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1532
2025-09-19 14:50:38,711 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 14:50:38,711 - magazzino_reconciliation - INFO - Input WebApp: 90 righe
2025-09-19 14:50:38,711 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:50:38,712 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:50:38,712 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:50:38,712 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94838', '94874', '94881', '94882', '94884', '94908']
2025-09-19 14:50:38,713 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-19 14:50:38,714 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-19 14:50:38,715 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-19 14:50:38,715 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 135
2025-09-19 14:50:38,715 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 90
2025-09-19 14:50:38,715 - magazzino_reconciliation - INFO -   - Codici in comune: 90
2025-09-19 14:50:38,716 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94838']
2025-09-19 14:50:38,717 - magazzino_reconciliation - INFO -   Match: 95633 -> AS400:16, WebApp:13
2025-09-19 14:50:38,721 - magazzino_reconciliation - INFO -   Match: 95882 -> AS400:1, WebApp:1
2025-09-19 14:50:38,723 - magazzino_reconciliation - INFO -   Match: 96075 -> AS400:22, WebApp:22
2025-09-19 14:50:38,723 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-19 14:50:38,725 - magazzino_reconciliation - INFO - Dopo merge: 135 righe
2025-09-19 14:50:38,728 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 90
2025-09-19 14:50:38,730 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
5  94838               1                1           0
2025-09-19 14:50:38,735 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1532, WebApp total: 2311
2025-09-19 14:50:38,737 - magazzino_reconciliation - INFO - Riconciliazione completata: 135 prodotti analizzati
2025-09-19 14:50:38,740 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 14:50:38,741 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 79
2025-09-19 14:50:38,741 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 2
2025-09-19 14:50:38,741 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 54
2025-09-19 14:50:38,742 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 79, -1: 14, -2: 8, -6: 4, -5: 4, -3: 3, -13: 3, -33: 2, -10: 2, -4: 2}
2025-09-19 14:50:38,743 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-19 14:50:38,743 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:1245, Diff:1244)
2025-09-19 14:50:38,743 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 94964 (AS400:1, WebApp:0, Diff:-1)
2025-09-19 14:50:38,750 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_145038.csv
2025-09-19 14:50:38,751 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 14:50:38,753 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:50:38] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 14:59:49,426 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 14:59:49,427 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 14:59:49,428 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 14:59:49,428 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 14:59:49,428 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-19 14:59:49,429 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:59:49,429 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-19 14:59:49,429 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 14:59:49,430 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:59:49,430 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:59:49,430 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:59:49,431 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 14:59:49,432 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 14:59:49,432 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 14:59:49,434 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 14:59:49,434 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-19 14:59:49,435 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-19 14:59:49,435 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:59:49,435 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-19 14:59:49,436 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-19 14:59:49,437 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 14:59:49,437 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 14:59:49,438 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-19 14:59:49,438 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 14:59:49,438 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-19 14:59:49,438 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 14:59:49,439 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 14:59:49,439 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 14:59:49,439 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 14:59:49,440 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 14:59:49,440 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 14:59:49,441 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 14:59:49,442 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 14:59:49,443 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-19 14:59:49,443 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-19 14:59:49,443 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 14:59:49,443 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-19 14:59:49,444 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 848
2025-09-19 14:59:49,445 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-19 14:59:49,445 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1472
2025-09-19 14:59:49,446 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 14:59:49,447 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-19 14:59:49,447 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-19 14:59:49,447 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 14:59:49,448 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 14:59:49,448 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 14:59:49,448 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 14:59:49,453 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 14:59:49,454 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-19 14:59:49,454 - magazzino_reconciliation - INFO -   - Righe valide: 145
2025-09-19 14:59:49,454 - magazzino_reconciliation - INFO -   - Prodotti estratti: 145
2025-09-19 14:59:49,454 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 14:59:49,478 - magazzino_reconciliation - INFO - Aggregati in 88 prodotti unici
2025-09-19 14:59:49,479 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 14:59:49,480 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-19 14:59:49,481 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:59:49,482 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-19 14:59:49,483 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-19 14:59:49,483 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1472
2025-09-19 14:59:49,484 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 14:59:49,486 - magazzino_reconciliation - INFO - Input WebApp: 88 righe
2025-09-19 14:59:49,488 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:59:49,489 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 14:59:49,490 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 14:59:49,491 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94838', '94874', '94881', '94882', '94884', '94908']
2025-09-19 14:59:49,492 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-19 14:59:49,496 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-19 14:59:49,496 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-19 14:59:49,497 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-19 14:59:49,497 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 88
2025-09-19 14:59:49,498 - magazzino_reconciliation - INFO -   - Codici in comune: 88
2025-09-19 14:59:49,498 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94838']
2025-09-19 14:59:49,501 - magazzino_reconciliation - INFO -   Match: 95882 -> AS400:1, WebApp:1
2025-09-19 14:59:49,506 - magazzino_reconciliation - INFO -   Match: 96075 -> AS400:21, WebApp:21
2025-09-19 14:59:49,507 - magazzino_reconciliation - INFO -   Match: 95947 -> AS400:4, WebApp:3
2025-09-19 14:59:49,508 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-19 14:59:49,510 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-19 14:59:49,512 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 88
2025-09-19 14:59:49,514 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
5  94838               1                1           0
2025-09-19 14:59:49,524 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1472, WebApp total: 2320
2025-09-19 14:59:49,525 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-19 14:59:49,527 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 14:59:49,527 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 74
2025-09-19 14:59:49,527 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 5
2025-09-19 14:59:49,528 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 53
2025-09-19 14:59:49,529 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 74, -1: 15, -2: 8, -5: 5, -4: 5, -6: 3, -10: 2, -3: 2, -13: 2, 18: 1}
2025-09-19 14:59:49,529 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-19 14:59:49,529 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:1245, Diff:1244)
2025-09-19 14:59:49,530 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 94964 (AS400:1, WebApp:0, Diff:-1)
2025-09-19 14:59:49,541 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_145949.csv
2025-09-19 14:59:49,541 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 14:59:49,542 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 14:59:49] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 15:10:14,914 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 15:10:14,917 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 15:10:14,918 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 15:10:14,918 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 15:10:14,918 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-19 15:10:14,918 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 15:10:14,918 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-19 15:10:14,919 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 15:10:14,919 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 15:10:14,919 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 15:10:14,919 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 15:10:14,921 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 15:10:14,922 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 15:10:14,922 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 15:10:14,923 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 15:10:14,924 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-19 15:10:14,924 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-19 15:10:14,924 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 15:10:14,924 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-19 15:10:14,925 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-19 15:10:14,925 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 15:10:14,925 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 15:10:14,925 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-19 15:10:14,926 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 15:10:14,926 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-19 15:10:14,928 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 15:10:14,929 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 15:10:14,929 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 15:10:14,930 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 15:10:14,930 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 15:10:14,931 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 15:10:14,931 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 15:10:14,934 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 15:10:14,935 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-19 15:10:14,935 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-19 15:10:14,935 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 15:10:14,936 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-19 15:10:14,936 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 848
2025-09-19 15:10:14,937 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-19 15:10:14,938 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1472
2025-09-19 15:10:14,940 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 15:10:14,942 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-19 15:10:14,946 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-19 15:10:14,947 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 15:10:14,949 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 15:10:14,950 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 15:10:14,950 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 15:10:14,953 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 15:10:14,953 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-19 15:10:14,953 - magazzino_reconciliation - INFO -   - Righe valide: 145
2025-09-19 15:10:14,953 - magazzino_reconciliation - INFO -   - Prodotti estratti: 145
2025-09-19 15:10:14,953 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 15:10:14,977 - magazzino_reconciliation - INFO - Aggregati in 88 prodotti unici
2025-09-19 15:10:14,978 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 15:10:14,979 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-19 15:10:14,982 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 15:10:14,983 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-19 15:10:14,983 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-19 15:10:14,983 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1472
2025-09-19 15:10:14,983 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 15:10:14,984 - magazzino_reconciliation - INFO - Input WebApp: 88 righe
2025-09-19 15:10:14,984 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 15:10:14,985 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 15:10:14,985 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 15:10:14,985 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94838', '94874', '94881', '94882', '94884', '94908']
2025-09-19 15:10:14,986 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-19 15:10:14,988 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-19 15:10:14,989 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-19 15:10:14,989 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-19 15:10:14,989 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 88
2025-09-19 15:10:14,989 - magazzino_reconciliation - INFO -   - Codici in comune: 88
2025-09-19 15:10:14,989 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94838']
2025-09-19 15:10:14,991 - magazzino_reconciliation - INFO -   Match: 95726 -> AS400:5, WebApp:5
2025-09-19 15:10:14,993 - magazzino_reconciliation - INFO -   Match: 95680 -> AS400:2, WebApp:2
2025-09-19 15:10:14,997 - magazzino_reconciliation - INFO -   Match: 95049 -> AS400:2, WebApp:2
2025-09-19 15:10:14,998 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-19 15:10:15,001 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-19 15:10:15,004 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 88
2025-09-19 15:10:15,007 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
5  94838               1                1           0
2025-09-19 15:10:15,015 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1472, WebApp total: 2320
2025-09-19 15:10:15,016 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-19 15:10:15,018 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 15:10:15,018 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 74
2025-09-19 15:10:15,018 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 5
2025-09-19 15:10:15,019 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 53
2025-09-19 15:10:15,019 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 74, -1: 15, -2: 8, -5: 5, -4: 5, -6: 3, -10: 2, -3: 2, -13: 2, 18: 1}
2025-09-19 15:10:15,020 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-19 15:10:15,020 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:1245, Diff:1244)
2025-09-19 15:10:15,020 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 94964 (AS400:1, WebApp:0, Diff:-1)
2025-09-19 15:10:15,033 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_151015.csv
2025-09-19 15:10:15,033 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 15:10:15,034 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 15:10:15] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 15:11:25,520 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 15:11:25] "POST /api/debug-as400-format HTTP/1.1" 200 -
2025-09-19 15:11:32,121 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 15:11:32] "POST /api/debug-as400-format HTTP/1.1" 200 -
2025-09-19 15:12:00,560 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 15:12:00] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-19 15:15:54,342 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 15:15:54,346 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 15:15:54,346 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 15:15:54,347 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 15:15:54,347 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-19 15:15:54,347 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 15:15:54,347 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-19 15:15:54,348 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 15:15:54,348 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 15:15:54,348 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 15:15:54,349 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 15:15:54,352 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 15:15:54,353 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 15:15:54,353 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 15:15:54,356 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 15:15:54,356 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-19 15:15:54,357 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-19 15:15:54,357 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 15:15:54,357 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-19 15:15:54,358 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-19 15:15:54,359 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 15:15:54,359 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 15:15:54,360 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-19 15:15:54,360 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 15:15:54,361 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-19 15:15:54,362 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 15:15:54,362 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 15:15:54,363 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 15:15:54,363 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 15:15:54,365 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 15:15:54,366 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 15:15:54,367 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 15:15:54,369 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 15:15:54,370 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-19 15:15:54,370 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-19 15:15:54,371 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 15:15:54,371 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-19 15:15:54,371 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 848
2025-09-19 15:15:54,372 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-19 15:15:54,373 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1472
2025-09-19 15:15:54,376 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 15:15:54,378 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-19 15:15:54,380 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-19 15:15:54,380 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 15:15:54,381 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 15:15:54,382 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 15:15:54,383 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 15:15:54,385 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 15:15:54,386 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-19 15:15:54,386 - magazzino_reconciliation - INFO -   - Righe valide: 188
2025-09-19 15:15:54,387 - magazzino_reconciliation - INFO -   - Prodotti estratti: 188
2025-09-19 15:15:54,387 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 15:15:54,421 - magazzino_reconciliation - INFO - Aggregati in 126 prodotti unici
2025-09-19 15:15:54,422 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 15:15:54,422 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-19 15:15:54,423 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 15:15:54,423 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-19 15:15:54,424 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-19 15:15:54,424 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1472
2025-09-19 15:15:54,424 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 15:15:54,425 - magazzino_reconciliation - INFO - Input WebApp: 126 righe
2025-09-19 15:15:54,425 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 15:15:54,426 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 15:15:54,427 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 15:15:54,429 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94874', '94881', '94882', '94884']
2025-09-19 15:15:54,430 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-19 15:15:54,433 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-19 15:15:54,434 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-19 15:15:54,434 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-19 15:15:54,434 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 126
2025-09-19 15:15:54,434 - magazzino_reconciliation - INFO -   - Codici in comune: 126
2025-09-19 15:15:54,435 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-19 15:15:54,436 - magazzino_reconciliation - INFO -   Match: 95412 -> AS400:3, WebApp:3
2025-09-19 15:15:54,438 - magazzino_reconciliation - INFO -   Match: 95663 -> AS400:1, WebApp:1
2025-09-19 15:15:54,439 - magazzino_reconciliation - INFO -   Match: 95745 -> AS400:43, WebApp:43
2025-09-19 15:15:54,439 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-19 15:15:54,442 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-19 15:15:54,449 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 126
2025-09-19 15:15:54,452 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-19 15:15:54,457 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1472, WebApp total: 2604
2025-09-19 15:15:54,458 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-19 15:15:54,463 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 15:15:54,463 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 105
2025-09-19 15:15:54,464 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 6
2025-09-19 15:15:54,464 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 21
2025-09-19 15:15:54,465 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 105, -2: 6, -1: 5, -4: 2, 18: 1, 1244: 1, 2: 1, 5: 1, 13: 1, 17: 1}
2025-09-19 15:15:54,466 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-19 15:15:54,466 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:1245, Diff:1244)
2025-09-19 15:15:54,466 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95151 (AS400:4, WebApp:3, Diff:-1)
2025-09-19 15:15:54,480 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_151554.csv
2025-09-19 15:15:54,480 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 15:15:54,482 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 15:15:54] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 15:18:47,107 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 15:18:47,112 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 15:18:47,113 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 15:18:47,113 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 15:18:47,114 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-19 15:18:47,115 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 15:18:47,115 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-19 15:18:47,116 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 15:18:47,116 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 15:18:47,116 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 15:18:47,117 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 15:18:47,118 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 15:18:47,119 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 15:18:47,119 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 15:18:47,120 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 15:18:47,121 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-19 15:18:47,121 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-19 15:18:47,121 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 15:18:47,122 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-19 15:18:47,123 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-19 15:18:47,123 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 15:18:47,124 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 15:18:47,124 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-19 15:18:47,125 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 15:18:47,126 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-19 15:18:47,126 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 15:18:47,127 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 15:18:47,127 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 15:18:47,128 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 15:18:47,128 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 15:18:47,128 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 15:18:47,129 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 15:18:47,131 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 15:18:47,132 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-19 15:18:47,132 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-19 15:18:47,133 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 15:18:47,133 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-19 15:18:47,134 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 848
2025-09-19 15:18:47,134 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-19 15:18:47,135 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1472
2025-09-19 15:18:47,135 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 15:18:47,136 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-19 15:18:47,136 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-19 15:18:47,137 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 15:18:47,137 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 15:18:47,137 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 15:18:47,137 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 15:18:47,140 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 15:18:47,141 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-19 15:18:47,141 - magazzino_reconciliation - INFO -   - Righe valide: 188
2025-09-19 15:18:47,141 - magazzino_reconciliation - INFO -   - Prodotti estratti: 188
2025-09-19 15:18:47,142 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 15:18:47,176 - magazzino_reconciliation - INFO - Aggregati in 126 prodotti unici
2025-09-19 15:18:47,177 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 15:18:47,178 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-19 15:18:47,180 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 15:18:47,180 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-19 15:18:47,181 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-19 15:18:47,182 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1472
2025-09-19 15:18:47,182 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 15:18:47,182 - magazzino_reconciliation - INFO - Input WebApp: 126 righe
2025-09-19 15:18:47,183 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 15:18:47,184 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 15:18:47,184 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 15:18:47,185 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94874', '94881', '94882', '94884']
2025-09-19 15:18:47,185 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-19 15:18:47,187 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-19 15:18:47,188 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-19 15:18:47,188 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-19 15:18:47,188 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 126
2025-09-19 15:18:47,188 - magazzino_reconciliation - INFO -   - Codici in comune: 126
2025-09-19 15:18:47,188 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-19 15:18:47,190 - magazzino_reconciliation - INFO -   Match: 95822 -> AS400:5, WebApp:18
2025-09-19 15:18:47,192 - magazzino_reconciliation - INFO -   Match: 95167 -> AS400:3, WebApp:3
2025-09-19 15:18:47,194 - magazzino_reconciliation - INFO -   Match: 95749 -> AS400:1, WebApp:1
2025-09-19 15:18:47,195 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-19 15:18:47,199 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-19 15:18:47,202 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 126
2025-09-19 15:18:47,205 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-19 15:18:47,214 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1472, WebApp total: 2604
2025-09-19 15:18:47,215 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-19 15:18:47,217 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 15:18:47,217 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 105
2025-09-19 15:18:47,217 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 6
2025-09-19 15:18:47,217 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 21
2025-09-19 15:18:47,218 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 105, -2: 6, -1: 5, -4: 2, 18: 1, 1244: 1, 2: 1, 5: 1, 13: 1, 17: 1}
2025-09-19 15:18:47,218 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-19 15:18:47,218 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:1245, Diff:1244)
2025-09-19 15:18:47,219 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95151 (AS400:4, WebApp:3, Diff:-1)
2025-09-19 15:18:47,231 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_151847.csv
2025-09-19 15:18:47,231 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 15:18:47,232 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 15:18:47] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 15:27:55,716 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 15:27:55,717 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 233
2025-09-19 15:27:55,717 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 228
2025-09-19 15:27:55,718 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 15:27:55,718 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 15:27:55,718 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 15:27:55,718 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 15:27:55,720 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 15:27:55,721 - magazzino_reconciliation - INFO -   - Righe processate: 228
2025-09-19 15:27:55,721 - magazzino_reconciliation - INFO -   - Righe valide: 182
2025-09-19 15:27:55,721 - magazzino_reconciliation - INFO -   - Prodotti estratti: 182
2025-09-19 15:27:55,727 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 15:27:55,752 - magazzino_reconciliation - INFO - Aggregati in 128 prodotti unici
2025-09-19 15:32:48,503 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 15:32:48,509 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 15:32:48,509 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 15:32:48,510 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 15:32:48,510 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-19 15:32:48,510 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 15:32:48,511 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-19 15:32:48,511 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 15:32:48,512 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 15:32:48,512 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 15:32:48,512 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 15:32:48,514 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 15:32:48,515 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 15:32:48,515 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 15:32:48,516 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 15:32:48,517 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-19 15:32:48,517 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-19 15:32:48,518 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 15:32:48,518 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-19 15:32:48,519 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-19 15:32:48,520 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 15:32:48,520 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 15:32:48,521 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-19 15:32:48,521 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 15:32:48,522 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-19 15:32:48,523 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 15:32:48,524 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 15:32:48,524 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 15:32:48,525 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 15:32:48,526 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 15:32:48,526 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 15:32:48,526 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 15:32:48,528 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 15:32:48,528 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-19 15:32:48,528 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-19 15:32:48,529 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 15:32:48,529 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-19 15:32:48,529 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 848
2025-09-19 15:32:48,530 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-19 15:32:48,530 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1472
2025-09-19 15:32:48,531 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 15:32:48,533 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-19 15:32:48,533 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-19 15:32:48,533 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 15:32:48,534 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 15:32:48,534 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 15:32:48,534 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 15:32:48,538 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 15:32:48,539 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-19 15:32:48,540 - magazzino_reconciliation - INFO -   - Righe valide: 188
2025-09-19 15:32:48,541 - magazzino_reconciliation - INFO -   - Prodotti estratti: 188
2025-09-19 15:32:48,543 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 15:32:48,578 - magazzino_reconciliation - INFO - Aggregati in 126 prodotti unici
2025-09-19 15:32:48,579 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 15:32:48,579 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-19 15:32:48,580 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 15:32:48,580 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-19 15:32:48,580 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-19 15:32:48,581 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1472
2025-09-19 15:32:48,581 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 15:32:48,581 - magazzino_reconciliation - INFO - Input WebApp: 126 righe
2025-09-19 15:32:48,582 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 15:32:48,582 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 15:32:48,583 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 15:32:48,583 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94874', '94881', '94882', '94884']
2025-09-19 15:32:48,584 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-19 15:32:48,586 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-19 15:32:48,587 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-19 15:32:48,587 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-19 15:32:48,587 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 126
2025-09-19 15:32:48,587 - magazzino_reconciliation - INFO -   - Codici in comune: 126
2025-09-19 15:32:48,588 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-19 15:32:48,592 - magazzino_reconciliation - INFO -   Match: 95625 -> AS400:1, WebApp:1
2025-09-19 15:32:48,594 - magazzino_reconciliation - INFO -   Match: 95608 -> AS400:2, WebApp:2
2025-09-19 15:32:48,595 - magazzino_reconciliation - INFO -   Match: 96046 -> AS400:5, WebApp:3
2025-09-19 15:32:48,595 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-19 15:32:48,598 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-19 15:32:48,601 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 126
2025-09-19 15:32:48,605 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-19 15:32:48,612 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1472, WebApp total: 2604
2025-09-19 15:32:48,613 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-19 15:32:48,615 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 15:32:48,615 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 105
2025-09-19 15:32:48,615 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 6
2025-09-19 15:32:48,616 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 21
2025-09-19 15:32:48,616 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 105, -2: 6, -1: 5, -4: 2, 18: 1, 1244: 1, 2: 1, 5: 1, 13: 1, 17: 1}
2025-09-19 15:32:48,617 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-19 15:32:48,617 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:1245, Diff:1244)
2025-09-19 15:32:48,617 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95151 (AS400:4, WebApp:3, Diff:-1)
2025-09-19 15:32:48,631 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_153248.csv
2025-09-19 15:32:48,631 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 15:32:48,632 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 15:32:48] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 15:40:26,982 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 15:40:26,983 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 233
2025-09-19 15:40:26,983 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 228
2025-09-19 15:40:26,984 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 15:40:26,984 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 15:40:26,984 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 15:40:26,985 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 15:40:26,988 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 15:40:26,989 - magazzino_reconciliation - INFO -   - Righe processate: 228
2025-09-19 15:40:26,989 - magazzino_reconciliation - INFO -   - Righe valide: 195
2025-09-19 15:40:26,989 - magazzino_reconciliation - INFO -   - Prodotti estratti: 195
2025-09-19 15:40:26,997 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 15:40:27,037 - magazzino_reconciliation - INFO - Aggregati in 134 prodotti unici
2025-09-19 16:19:27,399 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 16:19:27,407 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 16:19:27,407 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 16:19:27,407 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 16:19:27,407 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-19 16:19:27,407 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 16:19:27,408 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-19 16:19:27,408 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 16:19:27,408 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 16:19:27,408 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 16:19:27,408 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 16:19:27,409 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 16:19:27,409 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 16:19:27,409 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 16:19:27,411 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 16:19:27,411 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-19 16:19:27,412 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-19 16:19:27,412 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 16:19:27,412 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-19 16:19:27,414 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-19 16:19:27,415 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 16:19:27,416 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 16:19:27,416 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-19 16:19:27,416 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 16:19:27,416 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-19 16:19:27,419 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 16:19:27,419 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 16:19:27,420 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 16:19:27,420 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 16:19:27,421 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 16:19:27,421 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 16:19:27,421 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 16:19:27,423 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 16:19:27,424 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-19 16:19:27,424 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-19 16:19:27,424 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 16:19:27,424 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-19 16:19:27,425 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 848
2025-09-19 16:19:27,425 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-19 16:19:27,426 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1472
2025-09-19 16:19:27,429 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 16:19:27,430 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-19 16:19:27,430 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-19 16:19:27,430 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 16:19:27,431 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 16:19:27,431 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 16:19:27,431 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 16:19:27,436 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 16:19:27,437 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-19 16:19:27,438 - magazzino_reconciliation - INFO -   - Righe valide: 200
2025-09-19 16:19:27,438 - magazzino_reconciliation - INFO -   - Prodotti estratti: 200
2025-09-19 16:19:27,438 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 16:19:27,479 - magazzino_reconciliation - INFO - Aggregati in 131 prodotti unici
2025-09-19 16:19:27,479 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 16:19:27,479 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-19 16:19:27,480 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 16:19:27,481 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-19 16:19:27,481 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-19 16:19:27,482 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1472
2025-09-19 16:19:27,482 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 16:19:27,483 - magazzino_reconciliation - INFO - Input WebApp: 131 righe
2025-09-19 16:19:27,486 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 16:19:27,487 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 16:19:27,488 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 16:19:27,488 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-19 16:19:27,489 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-19 16:19:27,491 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-19 16:19:27,492 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-19 16:19:27,492 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-19 16:19:27,492 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 131
2025-09-19 16:19:27,492 - magazzino_reconciliation - INFO -   - Codici in comune: 131
2025-09-19 16:19:27,492 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-19 16:19:27,494 - magazzino_reconciliation - INFO -   Match: 94625 -> AS400:17, WebApp:17
2025-09-19 16:19:27,495 - magazzino_reconciliation - INFO -   Match: 95650 -> AS400:48, WebApp:48
2025-09-19 16:19:27,495 - magazzino_reconciliation - INFO -   Match: 94997 -> AS400:21, WebApp:21
2025-09-19 16:19:27,496 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-19 16:19:27,500 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-19 16:19:27,504 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 131
2025-09-19 16:19:27,508 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-19 16:19:27,514 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1472, WebApp total: 2741
2025-09-19 16:19:27,515 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-19 16:19:27,516 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 16:19:27,516 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 113
2025-09-19 16:19:27,517 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 6
2025-09-19 16:19:27,517 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 13
2025-09-19 16:19:27,519 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 113, -1: 6, -2: 4, 1244: 1, 13: 1, 17: 1, 18: 1, 2: 1, 5: 1, -3: 1}
2025-09-19 16:19:27,520 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-19 16:19:27,520 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:1245, Diff:1244)
2025-09-19 16:19:27,521 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95151 (AS400:4, WebApp:3, Diff:-1)
2025-09-19 16:19:27,531 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_161927.csv
2025-09-19 16:19:27,531 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 16:19:27,532 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 16:19:27] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 16:20:50,244 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 16:20:50,247 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 16:20:50,248 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 16:20:50,248 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 16:20:50,248 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-19 16:20:50,248 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 16:20:50,248 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-19 16:20:50,249 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 16:20:50,249 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 16:20:50,250 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 16:20:50,250 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 16:20:50,253 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 16:20:50,254 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 16:20:50,254 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 16:20:50,256 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 16:20:50,256 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-19 16:20:50,257 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-19 16:20:50,257 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 16:20:50,257 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-19 16:20:50,259 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-19 16:20:50,260 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 16:20:50,261 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 16:20:50,261 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-19 16:20:50,261 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 16:20:50,261 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-19 16:20:50,262 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 16:20:50,262 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 16:20:50,262 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 16:20:50,262 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 16:20:50,262 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 16:20:50,263 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 16:20:50,263 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 16:20:50,265 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 16:20:50,266 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-19 16:20:50,266 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-19 16:20:50,266 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 16:20:50,267 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-19 16:20:50,269 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 848
2025-09-19 16:20:50,270 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-19 16:20:50,270 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1472
2025-09-19 16:20:50,271 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 16:20:50,272 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-19 16:20:50,272 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-19 16:20:50,272 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 16:20:50,272 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 16:20:50,273 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 16:20:50,273 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 16:20:50,276 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 16:20:50,277 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-19 16:20:50,277 - magazzino_reconciliation - INFO -   - Righe valide: 200
2025-09-19 16:20:50,277 - magazzino_reconciliation - INFO -   - Prodotti estratti: 200
2025-09-19 16:20:50,278 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 16:20:50,338 - magazzino_reconciliation - INFO - Aggregati in 131 prodotti unici
2025-09-19 16:20:50,338 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 16:20:50,338 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-19 16:20:50,339 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 16:20:50,339 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-19 16:20:50,340 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-19 16:20:50,340 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1472
2025-09-19 16:20:50,340 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 16:20:50,340 - magazzino_reconciliation - INFO - Input WebApp: 131 righe
2025-09-19 16:20:50,341 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 16:20:50,342 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 16:20:50,342 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 16:20:50,343 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-19 16:20:50,343 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-19 16:20:50,351 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-19 16:20:50,352 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-19 16:20:50,352 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-19 16:20:50,352 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 131
2025-09-19 16:20:50,352 - magazzino_reconciliation - INFO -   - Codici in comune: 131
2025-09-19 16:20:50,353 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-19 16:20:50,355 - magazzino_reconciliation - INFO -   Match: 95439 -> AS400:1, WebApp:1
2025-09-19 16:20:50,357 - magazzino_reconciliation - INFO -   Match: 95994 -> AS400:5, WebApp:5
2025-09-19 16:20:50,360 - magazzino_reconciliation - INFO -   Match: 95273 -> AS400:2, WebApp:2
2025-09-19 16:20:50,360 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-19 16:20:50,369 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-19 16:20:50,373 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 131
2025-09-19 16:20:50,378 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-19 16:20:50,389 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1472, WebApp total: 2741
2025-09-19 16:20:50,391 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-19 16:20:50,393 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 16:20:50,394 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 113
2025-09-19 16:20:50,394 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 6
2025-09-19 16:20:50,394 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 13
2025-09-19 16:20:50,395 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 113, -1: 6, -2: 4, 1244: 1, 13: 1, 17: 1, 18: 1, 2: 1, 5: 1, -3: 1}
2025-09-19 16:20:50,395 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-19 16:20:50,396 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:1245, Diff:1244)
2025-09-19 16:20:50,398 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95151 (AS400:4, WebApp:3, Diff:-1)
2025-09-19 16:20:50,416 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_162050.csv
2025-09-19 16:20:50,417 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 16:20:50,418 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 16:20:50] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 16:49:21,632 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 16:49:21,632 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 233
2025-09-19 16:49:21,633 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 228
2025-09-19 16:49:21,633 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 16:49:21,633 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 16:49:21,633 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 16:49:21,633 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 16:49:21,637 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 16:49:21,638 - magazzino_reconciliation - INFO -   - Righe processate: 228
2025-09-19 16:49:21,638 - magazzino_reconciliation - INFO -   - Righe valide: 228
2025-09-19 16:49:21,638 - magazzino_reconciliation - INFO -   - Prodotti estratti: 228
2025-09-19 16:49:21,648 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 16:49:21,678 - magazzino_reconciliation - INFO - Aggregati in 136 prodotti unici
2025-09-19 16:51:50,097 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 16:51:50,098 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 233
2025-09-19 16:51:50,098 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 228
2025-09-19 16:51:50,098 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 16:51:50,099 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 16:51:50,099 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 16:51:50,099 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 16:51:50,100 - magazzino_reconciliation - INFO - DEBUG 95774: numeri_trovati=[(5, 20)], inizio_note=6, qty_scelta=20
2025-09-19 16:51:50,100 - magazzino_reconciliation - INFO - DEBUG 95774: numeri_trovati=[(5, 13)], inizio_note=6, qty_scelta=13
2025-09-19 16:51:50,101 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 16:51:50,102 - magazzino_reconciliation - INFO -   - Righe processate: 228
2025-09-19 16:51:50,102 - magazzino_reconciliation - INFO -   - Righe valide: 36
2025-09-19 16:51:50,102 - magazzino_reconciliation - INFO -   - Prodotti estratti: 36
2025-09-19 16:53:38,196 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 16:53:38,197 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 233
2025-09-19 16:53:38,197 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 228
2025-09-19 16:53:38,197 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 16:53:38,198 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 16:53:38,198 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 16:53:38,198 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 16:53:38,198 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-19 16:53:38,199 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-19 16:53:38,200 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-19 16:53:38,200 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 13)], qty_finale=13
2025-09-19 16:53:38,202 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 16:53:38,202 - magazzino_reconciliation - INFO -   - Righe processate: 228
2025-09-19 16:53:38,202 - magazzino_reconciliation - INFO -   - Righe valide: 228
2025-09-19 16:53:38,203 - magazzino_reconciliation - INFO -   - Prodotti estratti: 228
2025-09-19 16:53:38,205 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 16:53:38,232 - magazzino_reconciliation - INFO - Aggregati in 136 prodotti unici
2025-09-19 16:54:04,923 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-19 16:54:04,930 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-19 16:54:04,930 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-19 16:54:04,931 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-19 16:54:04,931 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-19 16:54:04,931 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 16:54:04,932 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-19 16:54:04,932 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-19 16:54:04,933 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 16:54:04,933 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 16:54:04,933 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 16:54:04,937 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-19 16:54:04,938 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-19 16:54:04,938 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-19 16:54:04,942 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-19 16:54:04,943 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-19 16:54:04,943 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-19 16:54:04,944 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 16:54:04,945 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-19 16:54:04,947 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-19 16:54:04,950 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-19 16:54:04,950 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-19 16:54:04,951 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-19 16:54:04,951 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-19 16:54:04,952 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-19 16:54:04,952 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-19 16:54:04,952 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-19 16:54:04,953 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-19 16:54:04,953 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-19 16:54:04,953 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-19 16:54:04,953 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-19 16:54:04,954 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-19 16:54:04,956 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-19 16:54:04,956 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-19 16:54:04,956 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-19 16:54:04,956 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-19 16:54:04,957 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-19 16:54:04,957 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 848
2025-09-19 16:54:04,958 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-19 16:54:04,959 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1472
2025-09-19 16:54:04,960 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-19 16:54:04,961 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-19 16:54:04,963 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-19 16:54:04,963 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-19 16:54:04,964 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-19 16:54:04,964 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-19 16:54:04,965 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-19 16:54:04,965 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-19 16:54:04,966 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-19 16:54:04,967 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(4, 1)], qty_finale=1
2025-09-19 16:54:04,968 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-19 16:54:04,968 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 10)], qty_finale=10
2025-09-19 16:54:04,970 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-19 16:54:04,970 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-19 16:54:04,970 - magazzino_reconciliation - INFO -   - Righe valide: 235
2025-09-19 16:54:04,971 - magazzino_reconciliation - INFO -   - Prodotti estratti: 235
2025-09-19 16:54:04,971 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-19 16:54:05,008 - magazzino_reconciliation - INFO - Aggregati in 132 prodotti unici
2025-09-19 16:54:05,009 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-19 16:54:05,009 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-19 16:54:05,010 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 16:54:05,011 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-19 16:54:05,012 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-19 16:54:05,013 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1472
2025-09-19 16:54:05,014 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-19 16:54:05,014 - magazzino_reconciliation - INFO - Input WebApp: 132 righe
2025-09-19 16:54:05,015 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-19 16:54:05,016 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-19 16:54:05,017 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-19 16:54:05,017 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-19 16:54:05,018 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-19 16:54:05,020 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-19 16:54:05,021 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-19 16:54:05,021 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-19 16:54:05,021 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 132
2025-09-19 16:54:05,021 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-19 16:54:05,022 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-19 16:54:05,024 - magazzino_reconciliation - INFO -   Match: 95254 -> AS400:5, WebApp:5
2025-09-19 16:54:05,025 - magazzino_reconciliation - INFO -   Match: 95953 -> AS400:2, WebApp:2
2025-09-19 16:54:05,029 - magazzino_reconciliation - INFO -   Match: 95802 -> AS400:1, WebApp:1
2025-09-19 16:54:05,030 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-19 16:54:05,033 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-19 16:54:05,037 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-19 16:54:05,040 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-19 16:54:05,047 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1472, WebApp total: 2783
2025-09-19 16:54:05,048 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-19 16:54:05,050 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-19 16:54:05,050 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 121
2025-09-19 16:54:05,050 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 9
2025-09-19 16:54:05,050 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 2
2025-09-19 16:54:05,051 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 121, 20: 2, 2: 2, 1: 2, -2: 2, 10: 1, 1244: 1, 15: 1}
2025-09-19 16:54:05,051 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-19 16:54:05,052 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:1245, Diff:1244)
2025-09-19 16:54:05,052 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95592 (AS400:3, WebApp:1, Diff:-2)
2025-09-19 16:54:05,065 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250919_165405.csv
2025-09-19 16:54:05,065 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-19 16:54:05,066 - werkzeug - INFO - 127.0.0.1 - - [19/Sep/2025 16:54:05] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-19 17:10:43,167 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:10:43] "GET /login HTTP/1.1" 200 -
2025-09-19 17:10:43,543 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:10:43] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-09-19 17:10:45,699 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:10:45] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-09-19 17:10:45,801 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:10:45] "GET / HTTP/1.1" 200 -
2025-09-19 17:10:48,353 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:10:48] "GET /movimento HTTP/1.1" 200 -
2025-09-19 17:10:58,159 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:10:58] "GET /api/ubicazioni/14 HTTP/1.1" 200 -
2025-09-19 17:11:06,692 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:11:06] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-19 17:11:06,714 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:11:06] "GET /movimento HTTP/1.1" 200 -
2025-09-19 17:11:21,201 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:11:21] "GET /api/ubicazioni/59 HTTP/1.1" 200 -
2025-09-19 17:14:15,565 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:14:15] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-19 17:14:15,587 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:14:15] "GET /movimento HTTP/1.1" 200 -
2025-09-19 17:14:23,042 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:14:23] "GET /api/ubicazioni/31 HTTP/1.1" 200 -
2025-09-19 17:14:36,714 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:14:36] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-19 17:14:36,734 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:14:36] "GET /movimento HTTP/1.1" 200 -
2025-09-19 17:14:39,319 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:14:39] "GET / HTTP/1.1" 200 -
2025-09-19 17:14:42,946 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:14:42] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=campomorone HTTP/1.1" 200 -
2025-09-19 17:15:06,673 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:15:06] "GET / HTTP/1.1" 200 -
2025-09-19 17:15:13,083 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:15:13] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=spedito&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-19 17:15:19,281 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:15:19] "GET /?filtro_codice=&filtro_nome=t22&filtro_magazzino=&filtro_stato=spedito&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-19 17:15:28,347 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:15:28] "GET /?filtro_codice=&filtro_nome=22&filtro_magazzino=&filtro_stato=spedito&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-19 17:15:53,992 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:15:53] "GET /?filtro_codice=&filtro_nome=22&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-19 17:16:26,927 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:16:26] "GET /?filtro_codice=95637&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-19 17:26:06,925 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:26:06] "GET /?filtro_codice=&filtro_nome=t22&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-19 17:26:26,141 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:26:26] "GET /movimento HTTP/1.1" 200 -
2025-09-19 17:26:39,653 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:26:39] "GET /api/ubicazioni/31 HTTP/1.1" 200 -
2025-09-19 17:26:50,630 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:26:50] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-19 17:26:50,650 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:26:50] "GET /movimento HTTP/1.1" 200 -
2025-09-19 17:26:53,217 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:26:53] "GET / HTTP/1.1" 200 -
2025-09-19 17:26:58,092 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:26:58] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=campomorone HTTP/1.1" 200 -
2025-09-19 17:27:08,688 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:27:08] "GET /rientro_merce HTTP/1.1" 200 -
2025-09-19 17:27:25,425 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:27:25] "[32mPOST /rientro_merce HTTP/1.1[0m" 302 -
2025-09-19 17:27:25,448 - werkzeug - INFO - 10.77.0.106 - - [19/Sep/2025 17:27:25] "GET /rientro_merce HTTP/1.1" 200 -
2025-09-22 09:16:05,555 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:16:05] "[32mGET / HTTP/1.1[0m" 302 -
2025-09-22 09:16:06,477 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:16:06] "GET /login HTTP/1.1" 200 -
2025-09-22 09:16:06,928 - werkzeug - INFO - 127.0.0.1 - - [22/Sep/2025 09:16:06] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-22 09:16:06,977 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:16:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-09-22 09:16:42,199 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-22 09:16:42,202 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-22 09:16:42,203 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-22 09:16:42,203 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-22 09:16:42,203 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-22 09:16:42,203 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 09:16:42,204 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-22 09:16:42,204 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-22 09:16:42,205 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 09:16:42,205 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 09:16:42,206 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 09:16:42,208 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-22 09:16:42,209 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-22 09:16:42,209 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-22 09:16:42,211 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-22 09:16:42,211 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-22 09:16:42,211 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-22 09:16:42,211 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 09:16:42,212 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-22 09:16:42,212 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-22 09:16:42,213 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-22 09:16:42,213 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-22 09:16:42,213 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-22 09:16:42,213 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 09:16:42,214 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-22 09:16:42,214 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-22 09:16:42,214 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 09:16:42,214 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 09:16:42,215 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 09:16:42,215 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-22 09:16:42,215 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-22 09:16:42,216 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-22 09:16:42,217 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-22 09:16:42,217 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1 units from Magazzino_28_Deposito
2025-09-22 09:16:42,219 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-22 09:16:42,219 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-22 09:16:42,219 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-22 09:16:42,220 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 09:16:42,221 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-22 09:16:42,223 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 848
2025-09-22 09:16:42,224 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-22 09:16:42,224 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 1472
2025-09-22 09:16:42,226 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-22 09:16:42,227 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1, Source=Magazzino_28_Deposito
2025-09-22 09:16:42,228 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-22 09:16:42,230 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-22 09:16:42,230 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-22 09:16:42,230 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-22 09:16:42,231 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-22 09:16:42,232 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-22 09:16:42,232 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-22 09:16:42,233 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-22 09:16:42,234 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-22 09:16:42,236 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(4, 1)], qty_finale=1
2025-09-22 09:16:42,237 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-22 09:16:42,238 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 10)], qty_finale=10
2025-09-22 09:16:42,242 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-22 09:16:42,243 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-22 09:16:42,243 - magazzino_reconciliation - INFO -   - Righe valide: 235
2025-09-22 09:16:42,244 - magazzino_reconciliation - INFO -   - Prodotti estratti: 235
2025-09-22 09:16:42,245 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-22 09:16:42,278 - magazzino_reconciliation - INFO - Aggregati in 132 prodotti unici
2025-09-22 09:16:42,278 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-22 09:16:42,279 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-22 09:16:42,279 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 09:16:42,280 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-22 09:16:42,280 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-22 09:16:42,280 - magazzino_reconciliation - INFO - AS400 total quantity sum: 1472
2025-09-22 09:16:42,280 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-22 09:16:42,280 - magazzino_reconciliation - INFO - Input WebApp: 132 righe
2025-09-22 09:16:42,281 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-22 09:16:42,281 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-22 09:16:42,282 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 09:16:42,282 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-22 09:16:42,282 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-22 09:16:42,285 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-22 09:16:42,285 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-22 09:16:42,285 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-22 09:16:42,285 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 132
2025-09-22 09:16:42,286 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-22 09:16:42,286 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-22 09:16:42,290 - magazzino_reconciliation - INFO -   Match: 94991 -> AS400:4, WebApp:4
2025-09-22 09:16:42,292 - magazzino_reconciliation - INFO -   Match: 95974 -> AS400:20, WebApp:20
2025-09-22 09:16:42,294 - magazzino_reconciliation - INFO -   Match: 95642 -> AS400:5, WebApp:5
2025-09-22 09:16:42,294 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-22 09:16:42,297 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-22 09:16:42,300 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-22 09:16:42,305 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-22 09:16:42,314 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 1472, WebApp total: 2783
2025-09-22 09:16:42,315 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-22 09:16:42,317 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-22 09:16:42,317 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 121
2025-09-22 09:16:42,317 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 9
2025-09-22 09:16:42,317 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 2
2025-09-22 09:16:42,318 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 121, 20: 2, 2: 2, 1: 2, -2: 2, 10: 1, 1244: 1, 15: 1}
2025-09-22 09:16:42,318 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-22 09:16:42,319 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1, WebApp:1245, Diff:1244)
2025-09-22 09:16:42,319 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95592 (AS400:3, WebApp:1, Diff:-2)
2025-09-22 09:16:42,334 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250922_091642.csv
2025-09-22 09:16:42,334 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-22 09:16:42,335 - werkzeug - INFO - 127.0.0.1 - - [22/Sep/2025 09:16:42] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-22 09:19:18,000 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:19:18] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-09-22 09:19:18,201 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:19:18] "GET / HTTP/1.1" 200 -
2025-09-22 09:21:58,321 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-22 09:21:58,324 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-22 09:21:58,325 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-22 09:21:58,325 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-22 09:21:58,325 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-22 09:21:58,326 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 09:21:58,326 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-22 09:21:58,326 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-22 09:21:58,327 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 09:21:58,327 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 09:21:58,327 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 09:21:58,332 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-22 09:21:58,333 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-22 09:21:58,333 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-22 09:21:58,335 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-22 09:21:58,336 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-22 09:21:58,336 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-22 09:21:58,336 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 09:21:58,336 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-22 09:21:58,338 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-22 09:21:58,339 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-22 09:21:58,339 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-22 09:21:58,340 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-22 09:21:58,340 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 09:21:58,340 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-22 09:21:58,340 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-22 09:21:58,340 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 09:21:58,341 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 09:21:58,341 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 09:21:58,341 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-22 09:21:58,342 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-22 09:21:58,342 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-22 09:21:58,343 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-22 09:21:58,343 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1245 units (from '1.245') from Magazzino_28_Deposito
2025-09-22 09:21:58,345 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-22 09:21:58,345 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-22 09:21:58,347 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-22 09:21:58,347 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 09:21:58,348 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-22 09:21:58,349 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 2092
2025-09-22 09:21:58,351 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-22 09:21:58,351 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 2716
2025-09-22 09:21:58,354 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-22 09:21:58,355 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1245, Source=Magazzino_28_Deposito
2025-09-22 09:21:58,355 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-22 09:21:58,356 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-22 09:21:58,356 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-22 09:21:58,357 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-22 09:21:58,357 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-22 09:21:58,357 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-22 09:21:58,358 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-22 09:21:58,358 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-22 09:21:58,359 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-22 09:21:58,360 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(4, 1)], qty_finale=1
2025-09-22 09:21:58,361 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-22 09:21:58,361 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 10)], qty_finale=10
2025-09-22 09:21:58,369 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-22 09:21:58,369 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-22 09:21:58,370 - magazzino_reconciliation - INFO -   - Righe valide: 235
2025-09-22 09:21:58,370 - magazzino_reconciliation - INFO -   - Prodotti estratti: 235
2025-09-22 09:21:58,370 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-22 09:21:58,406 - magazzino_reconciliation - INFO - Aggregati in 132 prodotti unici
2025-09-22 09:21:58,407 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-22 09:21:58,407 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-22 09:21:58,407 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 09:21:58,408 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-22 09:21:58,408 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-22 09:21:58,408 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2716
2025-09-22 09:21:58,409 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-22 09:21:58,409 - magazzino_reconciliation - INFO - Input WebApp: 132 righe
2025-09-22 09:21:58,409 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-22 09:21:58,410 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-22 09:21:58,410 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 09:21:58,410 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-22 09:21:58,411 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-22 09:21:58,417 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-22 09:21:58,417 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-22 09:21:58,417 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-22 09:21:58,417 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 132
2025-09-22 09:21:58,418 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-22 09:21:58,418 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-22 09:21:58,420 - magazzino_reconciliation - INFO -   Match: 95947 -> AS400:4, WebApp:4
2025-09-22 09:21:58,421 - magazzino_reconciliation - INFO -   Match: 95689 -> AS400:9, WebApp:9
2025-09-22 09:21:58,422 - magazzino_reconciliation - INFO -   Match: 94964 -> AS400:1, WebApp:1
2025-09-22 09:21:58,422 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-22 09:21:58,425 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-22 09:21:58,428 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-22 09:21:58,435 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-22 09:21:58,439 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2716, WebApp total: 2783
2025-09-22 09:21:58,440 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-22 09:21:58,442 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-22 09:21:58,442 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 122
2025-09-22 09:21:58,442 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 8
2025-09-22 09:21:58,442 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 2
2025-09-22 09:21:58,443 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 122, 2: 2, 20: 2, 1: 2, -2: 2, 10: 1, 15: 1}
2025-09-22 09:21:58,444 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-22 09:21:58,444 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95638 (AS400:21, WebApp:41, Diff:20)
2025-09-22 09:21:58,444 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95592 (AS400:3, WebApp:1, Diff:-2)
2025-09-22 09:21:58,457 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250922_092158.csv
2025-09-22 09:21:58,457 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-22 09:21:58,458 - werkzeug - INFO - 127.0.0.1 - - [22/Sep/2025 09:21:58] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-22 09:37:54,919 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:37:54] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=ceranesi HTTP/1.1" 200 -
2025-09-22 09:38:09,214 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:38:09] "GET /?filtro_codice=95944&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-22 09:38:27,614 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:38:27] "[32mPOST /modifica_giacenza/2018 HTTP/1.1[0m" 302 -
2025-09-22 09:38:27,701 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:38:27] "GET / HTTP/1.1" 200 -
2025-09-22 09:38:27,754 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:38:27] "GET /?filtro_codice=95944&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-22 09:38:32,065 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:38:32] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-22 09:38:35,069 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:38:35] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=ceranesi HTTP/1.1" 200 -
2025-09-22 09:42:08,250 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:42:08] "GET /movimento HTTP/1.1" 200 -
2025-09-22 09:42:14,966 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:42:14] "GET /api/ubicazioni/25 HTTP/1.1" 200 -
2025-09-22 09:42:26,244 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:42:26] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-22 09:42:26,260 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:42:26] "GET /movimento HTTP/1.1" 200 -
2025-09-22 09:42:27,613 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:42:27] "GET / HTTP/1.1" 200 -
2025-09-22 09:42:30,641 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:42:30] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=ceranesi HTTP/1.1" 200 -
2025-09-22 09:42:53,124 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:42:53] "GET /?filtro_codice=&filtro_nome=logitech&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-22 09:44:51,779 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:44:51] "GET /scarico_merce_non_in_magazzino HTTP/1.1" 200 -
2025-09-22 09:44:54,759 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:44:54] "GET /scarico_merce_non_in_magazzino?filtro_stato=&filtro_note=ceranesi HTTP/1.1" 200 -
2025-09-22 09:45:03,814 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:45:03] "[32mPOST /scarico_merce_non_in_magazzino HTTP/1.1[0m" 302 -
2025-09-22 09:45:03,833 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:45:03] "GET /scarico_merce_non_in_magazzino?filtro_stato=&filtro_note=ceranesi HTTP/1.1" 200 -
2025-09-22 09:45:04,888 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:45:04] "GET / HTTP/1.1" 200 -
2025-09-22 09:46:39,908 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:46:39] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=fabio HTTP/1.1" 200 -
2025-09-22 09:46:42,337 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:46:42] "GET /scarico_merce_non_in_magazzino HTTP/1.1" 200 -
2025-09-22 09:46:45,623 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:46:45] "GET /scarico_merce_non_in_magazzino?filtro_stato=&filtro_note=fabio HTTP/1.1" 200 -
2025-09-22 09:46:45,632 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:46:45] "GET /scarico_merce_non_in_magazzino?filtro_stato=&filtro_note=fabio HTTP/1.1" 200 -
2025-09-22 09:46:48,462 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:46:48] "[32mPOST /scarico_merce_non_in_magazzino HTTP/1.1[0m" 302 -
2025-09-22 09:46:48,479 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:46:48] "GET /scarico_merce_non_in_magazzino?filtro_stato=&filtro_note=fabio HTTP/1.1" 200 -
2025-09-22 09:46:49,430 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 09:46:49] "GET / HTTP/1.1" 200 -
2025-09-22 10:35:02,901 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-22 10:35:02,906 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-22 10:35:02,907 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-22 10:35:02,907 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-22 10:35:02,907 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-22 10:35:02,907 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 10:35:02,907 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-22 10:35:02,908 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-22 10:35:02,908 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 10:35:02,908 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 10:35:02,909 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 10:35:02,912 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-22 10:35:02,912 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-22 10:35:02,912 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-22 10:35:02,914 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-22 10:35:02,914 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-22 10:35:02,915 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-22 10:35:02,917 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 10:35:02,918 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-22 10:35:02,920 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-22 10:35:02,921 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-22 10:35:02,921 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-22 10:35:02,922 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-22 10:35:02,922 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 10:35:02,922 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-22 10:35:02,922 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-22 10:35:02,922 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 10:35:02,923 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 10:35:02,923 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 10:35:02,923 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-22 10:35:02,924 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-22 10:35:02,924 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-22 10:35:02,925 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-22 10:35:02,925 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1245 units (from '1.245') from Magazzino_28_Deposito
2025-09-22 10:35:02,926 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-22 10:35:02,927 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-22 10:35:02,927 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-22 10:35:02,927 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 10:35:02,928 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-22 10:35:02,928 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 2092
2025-09-22 10:35:02,929 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-22 10:35:02,930 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 2716
2025-09-22 10:35:02,933 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-22 10:35:02,934 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1245, Source=Magazzino_28_Deposito
2025-09-22 10:35:02,935 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-22 10:35:02,936 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-22 10:35:02,937 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-22 10:35:02,937 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-22 10:35:02,938 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-22 10:35:02,939 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-22 10:35:02,939 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-22 10:35:02,940 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-22 10:35:02,940 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-22 10:35:02,941 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], qty_finale=1
2025-09-22 10:35:02,942 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(4, 1)], qty_finale=1
2025-09-22 10:35:02,942 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-22 10:35:02,943 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 10)], qty_finale=10
2025-09-22 10:35:02,944 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-22 10:35:02,945 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-22 10:35:02,945 - magazzino_reconciliation - INFO -   - Righe valide: 235
2025-09-22 10:35:02,946 - magazzino_reconciliation - INFO -   - Prodotti estratti: 235
2025-09-22 10:35:02,946 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-22 10:35:02,987 - magazzino_reconciliation - INFO - Aggregati in 132 prodotti unici
2025-09-22 10:35:02,988 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-22 10:35:02,988 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-22 10:35:02,989 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 10:35:02,989 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-22 10:35:02,990 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-22 10:35:02,990 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2716
2025-09-22 10:35:02,990 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-22 10:35:02,990 - magazzino_reconciliation - INFO - Input WebApp: 132 righe
2025-09-22 10:35:02,991 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-22 10:35:02,991 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-22 10:35:02,992 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 10:35:02,992 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-22 10:35:02,992 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-22 10:35:02,995 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-22 10:35:02,996 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-22 10:35:02,996 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-22 10:35:02,996 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 132
2025-09-22 10:35:02,996 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-22 10:35:02,997 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-22 10:35:03,002 - magazzino_reconciliation - INFO -   Match: 95748 -> AS400:3, WebApp:3
2025-09-22 10:35:03,004 - magazzino_reconciliation - INFO -   Match: 94963 -> AS400:1, WebApp:1
2025-09-22 10:35:03,006 - magazzino_reconciliation - INFO -   Match: 95196 -> AS400:1, WebApp:1
2025-09-22 10:35:03,006 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-22 10:35:03,009 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-22 10:35:03,012 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-22 10:35:03,018 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-22 10:35:03,022 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2716, WebApp total: 2783
2025-09-22 10:35:03,024 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-22 10:35:03,025 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-22 10:35:03,026 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 122
2025-09-22 10:35:03,026 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 8
2025-09-22 10:35:03,026 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 2
2025-09-22 10:35:03,027 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 122, 2: 2, 20: 2, 1: 2, -2: 2, 10: 1, 15: 1}
2025-09-22 10:35:03,027 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-22 10:35:03,027 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95638 (AS400:21, WebApp:41, Diff:20)
2025-09-22 10:35:03,028 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95592 (AS400:3, WebApp:1, Diff:-2)
2025-09-22 10:35:03,044 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250922_103503.csv
2025-09-22 10:35:03,044 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-22 10:35:03,045 - werkzeug - INFO - 127.0.0.1 - - [22/Sep/2025 10:35:03] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-22 10:41:42,860 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-22 10:41:42,864 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-22 10:41:42,864 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-22 10:41:42,864 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-22 10:41:42,864 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-22 10:41:42,865 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 10:41:42,865 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-22 10:41:42,865 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-22 10:41:42,866 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 10:41:42,866 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 10:41:42,866 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 10:41:42,869 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-22 10:41:42,870 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-22 10:41:42,870 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-22 10:41:42,873 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-22 10:41:42,874 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-22 10:41:42,874 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-22 10:41:42,874 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 10:41:42,875 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-22 10:41:42,876 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-22 10:41:42,876 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-22 10:41:42,877 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-22 10:41:42,877 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-22 10:41:42,878 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 10:41:42,878 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-22 10:41:42,879 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-22 10:41:42,879 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 10:41:42,879 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 10:41:42,879 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 10:41:42,880 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-22 10:41:42,880 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-22 10:41:42,880 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-22 10:41:42,881 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-22 10:41:42,881 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1245 units (from '1.245') from Magazzino_28_Deposito
2025-09-22 10:41:42,883 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-22 10:41:42,883 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-22 10:41:42,883 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-22 10:41:42,883 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 10:41:42,884 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-22 10:41:42,884 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 2092
2025-09-22 10:41:42,885 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-22 10:41:42,886 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 2716
2025-09-22 10:41:42,888 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-22 10:41:42,891 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1245, Source=Magazzino_28_Deposito
2025-09-22 10:41:42,892 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-22 10:41:42,894 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-22 10:41:42,894 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-22 10:41:42,894 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-22 10:41:42,895 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-22 10:41:42,895 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-22 10:41:42,895 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-22 10:41:42,896 - magazzino_reconciliation - INFO - DEBUG 94906: riga_completa='94906         MULTIMEDS_-_KIT_DI_PREPARAZIONE farmacia            6B                in_magazzino        33  VENDIBILI SOLO 25'
2025-09-22 10:41:42,896 - magazzino_reconciliation - INFO - DEBUG 94906: words=['94906', 'MULTIMEDS_-_KIT_DI_PREPARAZIONE', 'farmacia', '6B', 'in_magazzino', '33', 'VENDIBILI', 'SOLO', '25']
2025-09-22 10:41:42,896 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], nota_start=6, qty_finale=33
2025-09-22 10:41:42,897 - magazzino_reconciliation - INFO - DEBUG 94964: riga_completa='94964         MINI_TASTIERA_ACK_RF420_WIRELES farmacia            9C                in_magazzino         1'
2025-09-22 10:41:42,897 - magazzino_reconciliation - INFO - DEBUG 94964: words=['94964', 'MINI_TASTIERA_ACK_RF420_WIRELES', 'farmacia', '9C', 'in_magazzino', '1']
2025-09-22 10:41:42,897 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], nota_start=6, qty_finale=1
2025-09-22 10:41:42,899 - magazzino_reconciliation - INFO - DEBUG 95592: riga_completa='95592         DISCO_KINGSTONE_480GB_SSD       farmacia            9B                in_magazzino         3  1 pz ha l'imballo riciclato'
2025-09-22 10:41:42,899 - magazzino_reconciliation - INFO - DEBUG 95592: words=['95592', 'DISCO_KINGSTONE_480GB_SSD', 'farmacia', '9B', 'in_magazzino', '3', '1', 'pz', 'ha', "l'imballo", 'riciclato']
2025-09-22 10:41:42,899 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], nota_start=11, qty_finale=1
2025-09-22 10:41:42,900 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti                             baia_uscita          1  Ufficio luca (morra)'
2025-09-22 10:41:42,901 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', 'baia_uscita', '1', 'Ufficio', 'luca', '(morra)']
2025-09-22 10:41:42,901 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(4, 1)], nota_start=6, qty_finale=1
2025-09-22 10:41:42,901 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1A                in_magazzino        20'
2025-09-22 10:41:42,901 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1A', 'in_magazzino', '20']
2025-09-22 10:41:42,901 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], nota_start=6, qty_finale=20
2025-09-22 10:41:42,901 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1C                in_magazzino        10'
2025-09-22 10:41:42,902 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1C', 'in_magazzino', '10']
2025-09-22 10:41:42,902 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 10)], nota_start=6, qty_finale=10
2025-09-22 10:41:42,904 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-22 10:41:42,904 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-22 10:41:42,904 - magazzino_reconciliation - INFO -   - Righe valide: 235
2025-09-22 10:41:42,905 - magazzino_reconciliation - INFO -   - Prodotti estratti: 235
2025-09-22 10:41:42,906 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-22 10:41:42,937 - magazzino_reconciliation - INFO - Aggregati in 132 prodotti unici
2025-09-22 10:41:42,937 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-22 10:41:42,938 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-22 10:41:42,942 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 10:41:42,943 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-22 10:41:42,943 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-22 10:41:42,944 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2716
2025-09-22 10:41:42,944 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-22 10:41:42,944 - magazzino_reconciliation - INFO - Input WebApp: 132 righe
2025-09-22 10:41:42,945 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-22 10:41:42,945 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-22 10:41:42,946 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 10:41:42,946 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-22 10:41:42,946 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-22 10:41:42,948 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-22 10:41:42,949 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-22 10:41:42,949 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-22 10:41:42,949 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 132
2025-09-22 10:41:42,949 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-22 10:41:42,950 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-22 10:41:42,951 - magazzino_reconciliation - INFO -   Match: 95258 -> AS400:1, WebApp:1
2025-09-22 10:41:42,952 - magazzino_reconciliation - INFO -   Match: 95663 -> AS400:1, WebApp:1
2025-09-22 10:41:42,953 - magazzino_reconciliation - INFO -   Match: 95952 -> AS400:3, WebApp:23
2025-09-22 10:41:42,954 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-22 10:41:42,960 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-22 10:41:42,964 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-22 10:41:42,967 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-22 10:41:42,972 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2716, WebApp total: 2783
2025-09-22 10:41:42,976 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-22 10:41:42,978 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-22 10:41:42,978 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 122
2025-09-22 10:41:42,978 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 8
2025-09-22 10:41:42,978 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 2
2025-09-22 10:41:42,979 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 122, 2: 2, 20: 2, 1: 2, -2: 2, 10: 1, 15: 1}
2025-09-22 10:41:42,979 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-22 10:41:42,980 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95638 (AS400:21, WebApp:41, Diff:20)
2025-09-22 10:41:42,980 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95592 (AS400:3, WebApp:1, Diff:-2)
2025-09-22 10:41:42,993 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250922_104142.csv
2025-09-22 10:41:42,993 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-22 10:41:42,994 - werkzeug - INFO - 127.0.0.1 - - [22/Sep/2025 10:41:42] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-22 10:55:20,108 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-22 10:55:20,113 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-22 10:55:20,114 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-22 10:55:20,114 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-22 10:55:20,114 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-22 10:55:20,114 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 10:55:20,115 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-22 10:55:20,115 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-22 10:55:20,115 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 10:55:20,115 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 10:55:20,116 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 10:55:20,119 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-22 10:55:20,119 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-22 10:55:20,119 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-22 10:55:20,121 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-22 10:55:20,121 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-22 10:55:20,122 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-22 10:55:20,122 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 10:55:20,123 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-22 10:55:20,123 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-22 10:55:20,124 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-22 10:55:20,125 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-22 10:55:20,125 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-22 10:55:20,126 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 10:55:20,126 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-22 10:55:20,126 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-22 10:55:20,127 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 10:55:20,127 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 10:55:20,127 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 10:55:20,128 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-22 10:55:20,128 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-22 10:55:20,129 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-22 10:55:20,130 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-22 10:55:20,130 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1245 units (from '1.245') from Magazzino_28_Deposito
2025-09-22 10:55:20,132 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-22 10:55:20,132 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-22 10:55:20,133 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-22 10:55:20,133 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 10:55:20,133 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-22 10:55:20,134 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 2092
2025-09-22 10:55:20,135 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-22 10:55:20,135 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 2716
2025-09-22 10:55:20,142 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-22 10:55:20,143 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1245, Source=Magazzino_28_Deposito
2025-09-22 10:55:20,143 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-22 10:55:20,144 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-22 10:55:20,145 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-22 10:55:20,145 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-22 10:55:20,146 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-22 10:55:20,148 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-22 10:55:20,149 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-22 10:55:20,151 - magazzino_reconciliation - INFO - DEBUG 94906: riga_completa='94906         MULTIMEDS_-_KIT_DI_PREPARAZIONE farmacia            6B                in_magazzino        33  VENDIBILI SOLO 25'
2025-09-22 10:55:20,151 - magazzino_reconciliation - INFO - DEBUG 94906: words=['94906', 'MULTIMEDS_-_KIT_DI_PREPARAZIONE', 'farmacia', '6B', 'in_magazzino', '33', 'VENDIBILI', 'SOLO', '25']
2025-09-22 10:55:20,152 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-22 10:55:20,153 - magazzino_reconciliation - INFO - DEBUG 94964: riga_completa='94964         MINI_TASTIERA_ACK_RF420_WIRELES farmacia            9C                in_magazzino         1'
2025-09-22 10:55:20,154 - magazzino_reconciliation - INFO - DEBUG 94964: words=['94964', 'MINI_TASTIERA_ACK_RF420_WIRELES', 'farmacia', '9C', 'in_magazzino', '1']
2025-09-22 10:55:20,154 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-22 10:55:20,155 - magazzino_reconciliation - INFO - DEBUG 95592: riga_completa='95592         DISCO_KINGSTONE_480GB_SSD       farmacia            9B                in_magazzino         3  1 pz ha l'imballo riciclato'
2025-09-22 10:55:20,155 - magazzino_reconciliation - INFO - DEBUG 95592: words=['95592', 'DISCO_KINGSTONE_480GB_SSD', 'farmacia', '9B', 'in_magazzino', '3', '1', 'pz', 'ha', "l'imballo", 'riciclato']
2025-09-22 10:55:20,155 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], qty_finale=3
2025-09-22 10:55:20,156 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti                             baia_uscita          1  Ufficio luca (morra)'
2025-09-22 10:55:20,156 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', 'baia_uscita', '1', 'Ufficio', 'luca', '(morra)']
2025-09-22 10:55:20,157 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(4, 1)], qty_finale=1
2025-09-22 10:55:20,157 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1A                in_magazzino        20'
2025-09-22 10:55:20,157 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1A', 'in_magazzino', '20']
2025-09-22 10:55:20,158 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-22 10:55:20,158 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1C                in_magazzino        10'
2025-09-22 10:55:20,158 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1C', 'in_magazzino', '10']
2025-09-22 10:55:20,158 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 10)], qty_finale=10
2025-09-22 10:55:20,160 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-22 10:55:20,160 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-22 10:55:20,160 - magazzino_reconciliation - INFO -   - Righe valide: 235
2025-09-22 10:55:20,161 - magazzino_reconciliation - INFO -   - Prodotti estratti: 235
2025-09-22 10:55:20,162 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-22 10:55:20,199 - magazzino_reconciliation - INFO - Aggregati in 132 prodotti unici
2025-09-22 10:55:20,200 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-22 10:55:20,200 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-22 10:55:20,201 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 10:55:20,201 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-22 10:55:20,201 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-22 10:55:20,201 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2716
2025-09-22 10:55:20,202 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-22 10:55:20,202 - magazzino_reconciliation - INFO - Input WebApp: 132 righe
2025-09-22 10:55:20,202 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-22 10:55:20,203 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-22 10:55:20,203 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 10:55:20,203 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-22 10:55:20,203 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-22 10:55:20,205 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-22 10:55:20,206 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-22 10:55:20,206 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-22 10:55:20,206 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 132
2025-09-22 10:55:20,206 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-22 10:55:20,207 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-22 10:55:20,209 - magazzino_reconciliation - INFO -   Match: 95663 -> AS400:1, WebApp:1
2025-09-22 10:55:20,210 - magazzino_reconciliation - INFO -   Match: 94838 -> AS400:1, WebApp:1
2025-09-22 10:55:20,214 - magazzino_reconciliation - INFO -   Match: 94964 -> AS400:1, WebApp:1
2025-09-22 10:55:20,215 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-22 10:55:20,218 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-22 10:55:20,221 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-22 10:55:20,224 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-22 10:55:20,232 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2716, WebApp total: 2785
2025-09-22 10:55:20,233 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-22 10:55:20,235 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-22 10:55:20,235 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 123
2025-09-22 10:55:20,236 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 8
2025-09-22 10:55:20,236 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 1
2025-09-22 10:55:20,237 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 123, 2: 2, 20: 2, 1: 2, 15: 1, 10: 1, -2: 1}
2025-09-22 10:55:20,237 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-22 10:55:20,237 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95638 (AS400:21, WebApp:41, Diff:20)
2025-09-22 10:55:20,238 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95987 (AS400:76, WebApp:74, Diff:-2)
2025-09-22 10:55:20,250 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250922_105520.csv
2025-09-22 10:55:20,250 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-22 10:55:20,251 - werkzeug - INFO - 127.0.0.1 - - [22/Sep/2025 10:55:20] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-22 11:07:09,560 - werkzeug - INFO - 10.77.0.149 - - [22/Sep/2025 11:07:09] "GET /login HTTP/1.1" 200 -
2025-09-22 11:07:10,311 - werkzeug - INFO - 10.77.0.149 - - [22/Sep/2025 11:07:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-09-22 11:07:12,380 - werkzeug - INFO - 10.77.0.149 - - [22/Sep/2025 11:07:12] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-09-22 11:07:12,508 - werkzeug - INFO - 10.77.0.149 - - [22/Sep/2025 11:07:12] "GET / HTTP/1.1" 200 -
2025-09-22 11:07:25,047 - werkzeug - INFO - 10.77.0.149 - - [22/Sep/2025 11:07:25] "GET /?filtro_codice=95987&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-22 11:20:02,960 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-22 11:20:02,966 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-22 11:20:02,966 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-22 11:20:02,966 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-22 11:20:02,967 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-22 11:20:02,968 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 11:20:02,968 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-22 11:20:02,969 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-22 11:20:02,969 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 11:20:02,970 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 11:20:02,970 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 11:20:02,977 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-22 11:20:02,977 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-22 11:20:02,978 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-22 11:20:02,982 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-22 11:20:02,990 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-22 11:20:02,990 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-22 11:20:02,991 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 11:20:02,991 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-22 11:20:02,993 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-22 11:20:02,996 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-22 11:20:02,996 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-22 11:20:02,998 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-22 11:20:03,000 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 11:20:03,001 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-22 11:20:03,002 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-22 11:20:03,002 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 11:20:03,003 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 11:20:03,004 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 11:20:03,005 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-22 11:20:03,006 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-22 11:20:03,006 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-22 11:20:03,007 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-22 11:20:03,007 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1245 units (from '1.245') from Magazzino_28_Deposito
2025-09-22 11:20:03,018 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-22 11:20:03,020 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-22 11:20:03,022 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-22 11:20:03,022 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 11:20:03,023 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-22 11:20:03,025 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 2092
2025-09-22 11:20:03,028 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-22 11:20:03,035 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 2716
2025-09-22 11:20:03,043 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-22 11:20:03,053 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1245, Source=Magazzino_28_Deposito
2025-09-22 11:20:03,054 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-22 11:20:03,056 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-22 11:20:03,056 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-22 11:20:03,057 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-22 11:20:03,058 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-22 11:20:03,058 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-22 11:20:03,059 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-22 11:20:03,063 - magazzino_reconciliation - INFO - DEBUG 94906: riga_completa='94906         MULTIMEDS_-_KIT_DI_PREPARAZIONE farmacia            6B                in_magazzino        33  VENDIBILI SOLO 25'
2025-09-22 11:20:03,067 - magazzino_reconciliation - INFO - DEBUG 94906: words=['94906', 'MULTIMEDS_-_KIT_DI_PREPARAZIONE', 'farmacia', '6B', 'in_magazzino', '33', 'VENDIBILI', 'SOLO', '25']
2025-09-22 11:20:03,069 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-22 11:20:03,070 - magazzino_reconciliation - INFO - DEBUG 94964: riga_completa='94964         MINI_TASTIERA_ACK_RF420_WIRELES farmacia            9C                in_magazzino         1'
2025-09-22 11:20:03,071 - magazzino_reconciliation - INFO - DEBUG 94964: words=['94964', 'MINI_TASTIERA_ACK_RF420_WIRELES', 'farmacia', '9C', 'in_magazzino', '1']
2025-09-22 11:20:03,072 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-22 11:20:03,074 - magazzino_reconciliation - INFO - DEBUG 95592: riga_completa='95592         DISCO_KINGSTONE_480GB_SSD       farmacia            9B                in_magazzino         3  1 pz ha l'imballo riciclato'
2025-09-22 11:20:03,074 - magazzino_reconciliation - INFO - DEBUG 95592: words=['95592', 'DISCO_KINGSTONE_480GB_SSD', 'farmacia', '9B', 'in_magazzino', '3', '1', 'pz', 'ha', "l'imballo", 'riciclato']
2025-09-22 11:20:03,075 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], qty_finale=3
2025-09-22 11:20:03,080 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti                             baia_uscita          1  Ufficio luca (morra)'
2025-09-22 11:20:03,084 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', 'baia_uscita', '1', 'Ufficio', 'luca', '(morra)']
2025-09-22 11:20:03,085 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(4, 1)], qty_finale=1
2025-09-22 11:20:03,086 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1A                in_magazzino        20'
2025-09-22 11:20:03,086 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1A', 'in_magazzino', '20']
2025-09-22 11:20:03,087 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-22 11:20:03,088 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1C                in_magazzino        10'
2025-09-22 11:20:03,089 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1C', 'in_magazzino', '10']
2025-09-22 11:20:03,089 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 10)], qty_finale=10
2025-09-22 11:20:03,097 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-22 11:20:03,102 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-22 11:20:03,104 - magazzino_reconciliation - INFO -   - Righe valide: 235
2025-09-22 11:20:03,105 - magazzino_reconciliation - INFO -   - Prodotti estratti: 235
2025-09-22 11:20:03,105 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-22 11:20:03,232 - magazzino_reconciliation - INFO - Aggregati in 132 prodotti unici
2025-09-22 11:20:03,232 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-22 11:20:03,233 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-22 11:20:03,234 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 11:20:03,235 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-22 11:20:03,236 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-22 11:20:03,236 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2716
2025-09-22 11:20:03,237 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-22 11:20:03,238 - magazzino_reconciliation - INFO - Input WebApp: 132 righe
2025-09-22 11:20:03,240 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-22 11:20:03,242 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-22 11:20:03,249 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 11:20:03,250 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-22 11:20:03,251 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-22 11:20:03,258 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-22 11:20:03,265 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-22 11:20:03,266 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-22 11:20:03,267 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 132
2025-09-22 11:20:03,268 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-22 11:20:03,268 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-22 11:20:03,271 - magazzino_reconciliation - INFO -   Match: 95609 -> AS400:1, WebApp:1
2025-09-22 11:20:03,278 - magazzino_reconciliation - INFO -   Match: 94874 -> AS400:4, WebApp:4
2025-09-22 11:20:03,286 - magazzino_reconciliation - INFO -   Match: 94884 -> AS400:3, WebApp:3
2025-09-22 11:20:03,286 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-22 11:20:03,295 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-22 11:20:03,317 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-22 11:20:03,324 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-22 11:20:03,340 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2716, WebApp total: 2785
2025-09-22 11:20:03,342 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-22 11:20:03,350 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-22 11:20:03,350 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 123
2025-09-22 11:20:03,351 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 8
2025-09-22 11:20:03,351 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 1
2025-09-22 11:20:03,353 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 123, 2: 2, 20: 2, 1: 2, 15: 1, 10: 1, -2: 1}
2025-09-22 11:20:03,354 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-22 11:20:03,355 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95638 (AS400:21, WebApp:41, Diff:20)
2025-09-22 11:20:03,355 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95987 (AS400:76, WebApp:74, Diff:-2)
2025-09-22 11:20:03,375 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250922_112003.csv
2025-09-22 11:20:03,376 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-22 11:20:03,383 - werkzeug - INFO - 127.0.0.1 - - [22/Sep/2025 11:20:03] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-22 11:26:50,853 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-22 11:26:50,856 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-22 11:26:50,857 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-22 11:26:50,857 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-22 11:26:50,857 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2025-09-22 11:26:50,857 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 11:26:50,858 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:16 Pag.   1'
2025-09-22 11:26:50,858 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-22 11:26:50,858 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 11:26:50,858 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 11:26:50,858 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 11:26:50,863 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-22 11:26:50,864 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-22 11:26:50,864 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-22 11:26:50,866 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-22 11:26:50,867 - magazzino_reconciliation - INFO -   Righe processate: 46
2025-09-22 11:26:50,867 - magazzino_reconciliation - INFO -   Match pattern originale: 22
2025-09-22 11:26:50,867 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 11:26:50,868 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2025-09-22 11:26:50,869 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti, somma quantità: 624
2025-09-22 11:26:50,869 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-22 11:26:50,869 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-22 11:26:50,869 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 250
2025-09-22 11:26:50,870 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 11:26:50,870 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Venerdi 19.09.25 Ora 14:49:05 Pag.   1'
2025-09-22 11:26:50,870 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-22 11:26:50,870 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 11:26:50,871 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-22 11:26:50,871 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-22 11:26:50,871 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-22 11:26:50,872 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-22 11:26:50,872 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-22 11:26:50,873 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-22 11:26:50,873 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1245 units (from '1.245') from Magazzino_28_Deposito
2025-09-22 11:26:50,885 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-22 11:26:50,898 - magazzino_reconciliation - INFO -   Righe processate: 249
2025-09-22 11:26:50,899 - magazzino_reconciliation - INFO -   Match pattern originale: 110
2025-09-22 11:26:50,899 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 11:26:50,900 - magazzino_reconciliation - INFO -   Prodotti estratti: 110
2025-09-22 11:26:50,901 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 110 prodotti estratti, somma quantità: 2092
2025-09-22 11:26:50,902 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-22 11:26:50,911 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 2716
2025-09-22 11:26:50,920 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-22 11:26:50,921 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1245, Source=Magazzino_28_Deposito
2025-09-22 11:26:50,922 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-22 11:26:50,924 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 243
2025-09-22 11:26:50,924 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 235
2025-09-22 11:26:50,924 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-22 11:26:50,925 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-22 11:26:50,925 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-22 11:26:50,925 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-22 11:26:50,926 - magazzino_reconciliation - INFO - DEBUG 94906: riga_completa='94906         MULTIMEDS_-_KIT_DI_PREPARAZIONE farmacia            6B                in_magazzino        33  VENDIBILI SOLO 25'
2025-09-22 11:26:50,926 - magazzino_reconciliation - INFO - DEBUG 94906: words=['94906', 'MULTIMEDS_-_KIT_DI_PREPARAZIONE', 'farmacia', '6B', 'in_magazzino', '33', 'VENDIBILI', 'SOLO', '25']
2025-09-22 11:26:50,927 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-22 11:26:50,928 - magazzino_reconciliation - INFO - DEBUG 94964: riga_completa='94964         MINI_TASTIERA_ACK_RF420_WIRELES farmacia            9C                in_magazzino         1'
2025-09-22 11:26:50,931 - magazzino_reconciliation - INFO - DEBUG 94964: words=['94964', 'MINI_TASTIERA_ACK_RF420_WIRELES', 'farmacia', '9C', 'in_magazzino', '1']
2025-09-22 11:26:50,932 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-22 11:26:50,937 - magazzino_reconciliation - INFO - DEBUG 95592: riga_completa='95592         DISCO_KINGSTONE_480GB_SSD       farmacia            9B                in_magazzino         3  1 pz ha l'imballo riciclato'
2025-09-22 11:26:50,937 - magazzino_reconciliation - INFO - DEBUG 95592: words=['95592', 'DISCO_KINGSTONE_480GB_SSD', 'farmacia', '9B', 'in_magazzino', '3', '1', 'pz', 'ha', "l'imballo", 'riciclato']
2025-09-22 11:26:50,938 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], qty_finale=3
2025-09-22 11:26:50,940 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti                             baia_uscita          1  Ufficio luca (morra)'
2025-09-22 11:26:50,941 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', 'baia_uscita', '1', 'Ufficio', 'luca', '(morra)']
2025-09-22 11:26:50,941 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(4, 1)], qty_finale=1
2025-09-22 11:26:50,941 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1A                in_magazzino        20'
2025-09-22 11:26:50,942 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1A', 'in_magazzino', '20']
2025-09-22 11:26:50,942 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-22 11:26:50,943 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1C                in_magazzino        10'
2025-09-22 11:26:50,943 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1C', 'in_magazzino', '10']
2025-09-22 11:26:50,943 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 10)], qty_finale=10
2025-09-22 11:26:50,953 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-22 11:26:50,953 - magazzino_reconciliation - INFO -   - Righe processate: 235
2025-09-22 11:26:50,954 - magazzino_reconciliation - INFO -   - Righe valide: 235
2025-09-22 11:26:50,954 - magazzino_reconciliation - INFO -   - Prodotti estratti: 235
2025-09-22 11:26:50,954 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-22 11:26:51,006 - magazzino_reconciliation - INFO - Aggregati in 132 prodotti unici
2025-09-22 11:26:51,007 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-22 11:26:51,007 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-22 11:26:51,007 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 11:26:51,008 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-22 11:26:51,008 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-22 11:26:51,009 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2716
2025-09-22 11:26:51,009 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-22 11:26:51,009 - magazzino_reconciliation - INFO - Input WebApp: 132 righe
2025-09-22 11:26:51,009 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-22 11:26:51,010 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-22 11:26:51,011 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-22 11:26:51,014 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-22 11:26:51,016 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-22 11:26:51,020 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-22 11:26:51,021 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-22 11:26:51,022 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-22 11:26:51,023 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 132
2025-09-22 11:26:51,023 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-22 11:26:51,023 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-22 11:26:51,025 - magazzino_reconciliation - INFO -   Match: 95050 -> AS400:12, WebApp:12
2025-09-22 11:26:51,027 - magazzino_reconciliation - INFO -   Match: 95412 -> AS400:3, WebApp:3
2025-09-22 11:26:51,033 - magazzino_reconciliation - INFO -   Match: 94966 -> AS400:1, WebApp:1
2025-09-22 11:26:51,033 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-22 11:26:51,037 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-22 11:26:51,041 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-22 11:26:51,050 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-22 11:26:51,057 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2716, WebApp total: 2785
2025-09-22 11:26:51,058 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-22 11:26:51,060 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-22 11:26:51,064 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 123
2025-09-22 11:26:51,065 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 8
2025-09-22 11:26:51,066 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 1
2025-09-22 11:26:51,067 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 123, 2: 2, 20: 2, 1: 2, 15: 1, 10: 1, -2: 1}
2025-09-22 11:26:51,068 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-22 11:26:51,068 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95638 (AS400:21, WebApp:41, Diff:20)
2025-09-22 11:26:51,069 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95987 (AS400:76, WebApp:74, Diff:-2)
2025-09-22 11:26:51,089 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250922_112651.csv
2025-09-22 11:26:51,089 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-22 11:26:51,090 - werkzeug - INFO - 127.0.0.1 - - [22/Sep/2025 11:26:51] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-22 11:37:37,275 - werkzeug - INFO - 10.77.0.149 - - [22/Sep/2025 11:37:37] "GET /?filtro_codice=95987&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-22 12:25:01,167 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:01] "GET /?filtro_codice=95097&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-22 12:25:04,491 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:04] "GET /carico_merci HTTP/1.1" 200 -
2025-09-22 12:25:06,006 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:06] "GET /scaricomerce HTTP/1.1" 200 -
2025-09-22 12:25:09,318 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:09] "GET /api/quantita_disponibile/10 HTTP/1.1" 200 -
2025-09-22 12:25:13,071 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:13] "GET / HTTP/1.1" 200 -
2025-09-22 12:25:16,363 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:16] "GET /?filtro_codice=95097&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-22 12:25:18,195 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:18] "GET /carico_merci HTTP/1.1" 200 -
2025-09-22 12:25:19,407 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:19] "GET /scaricomerce HTTP/1.1" 200 -
2025-09-22 12:25:22,682 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:22] "GET /api/quantita_disponibile/10 HTTP/1.1" 200 -
2025-09-22 12:25:29,775 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:29] "[33mGET /api/quantita_disponibile/10/10E HTTP/1.1[0m" 404 -
2025-09-22 12:25:32,349 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:32] "[32mPOST /scaricomerce HTTP/1.1[0m" 302 -
2025-09-22 12:25:32,378 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:32] "GET /scaricomerce HTTP/1.1" 200 -
2025-09-22 12:25:34,076 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:34] "GET / HTTP/1.1" 200 -
2025-09-22 12:25:37,076 - werkzeug - INFO - 10.77.0.134 - - [22/Sep/2025 12:25:37] "GET /?filtro_codice=95097&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-22 14:10:28,681 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-22 14:10:28,684 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-22 14:10:28,684 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-22 14:10:28,685 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-22 14:10:28,685 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 244
2025-09-22 14:10:28,686 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 14:10:28,686 - magazzino_reconciliation - INFO -   Riga 1: 'PHARMAGEST - ESPORTAZIONE MAGAZZINO'
2025-09-22 14:10:28,686 - magazzino_reconciliation - INFO -   Riga 2: 'Data esportazione: 19/09/2025 14:59'
2025-09-22 14:10:28,686 - magazzino_reconciliation - INFO -   Riga 3: ''
2025-09-22 14:10:28,687 - magazzino_reconciliation - INFO -   Riga 4: 'Codice        Prodotto                        Magazzino           Ubicazione        Stato         Quantità  Note'
2025-09-22 14:10:28,687 - magazzino_reconciliation - INFO -   Riga 5: '------------------------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 14:10:28,688 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_27_Grossisti line 85: '95413         ETICHETTE_ELETTRONICHE_ID.TAG_  farmacia            -                 baia_uscita         42  *Luparelli guaste da smaltire'
2025-09-22 14:10:28,688 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_27_Grossisti line 86: '95413         ETICHETTE_ELETTRONICHE_ID.TAG_  farmacia            15A               in_magazzino      1203'
2025-09-22 14:10:28,689 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-22 14:10:28,690 - magazzino_reconciliation - INFO -   Righe processate: 239
2025-09-22 14:10:28,690 - magazzino_reconciliation - INFO -   Match pattern originale: 0
2025-09-22 14:10:28,690 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 14:10:28,690 - magazzino_reconciliation - INFO -   Prodotti estratti: 0
2025-09-22 14:10:28,691 - magazzino_reconciliation - WARNING - Magazzino_27_Grossisti: nessun prodotto estratto
2025-09-22 14:10:28,691 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-22 14:10:28,691 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-22 14:10:28,691 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 234
2025-09-22 14:10:28,691 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-22 14:10:28,692 - magazzino_reconciliation - INFO -   Riga 1: 'PHARMAGEST - ESPORTAZIONE MAGAZZINO'
2025-09-22 14:10:28,692 - magazzino_reconciliation - INFO -   Riga 2: 'Data esportazione: 05/08/2025 08:34'
2025-09-22 14:10:28,692 - magazzino_reconciliation - INFO -   Riga 3: ''
2025-09-22 14:10:28,692 - magazzino_reconciliation - INFO -   Riga 4: 'Codice        Prodotto                        Magazzino           Ubicazione        Stato         Quantità  Note'
2025-09-22 14:10:28,692 - magazzino_reconciliation - INFO -   Riga 5: '------------------------------------------------------------------------------------------------------------------------------------------------------'
2025-09-22 14:10:28,693 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 84: '95413         ETICHETTE_ELETTRONICHE_ID.TAG_  farmacia            -                 baia_uscita         42  *Luparelli guaste da smaltire'
2025-09-22 14:10:28,693 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 85: '95413         ETICHETTE_ELETTRONICHE_ID.TAG_  farmacia            15A               in_magazzino      1203'
2025-09-22 14:10:28,694 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-22 14:10:28,695 - magazzino_reconciliation - INFO -   Righe processate: 232
2025-09-22 14:10:28,695 - magazzino_reconciliation - INFO -   Match pattern originale: 0
2025-09-22 14:10:28,695 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-22 14:10:28,695 - magazzino_reconciliation - INFO -   Prodotti estratti: 0
2025-09-22 14:10:28,696 - magazzino_reconciliation - WARNING - Magazzino_28_Deposito: nessun prodotto estratto
2025-09-22 14:10:28,696 - magazzino_reconciliation - INFO - AS400 unificato: 0 prodotti totali
2025-09-22 14:10:28,697 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-22 14:10:28,698 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 273
2025-09-22 14:10:28,698 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 244
2025-09-22 14:10:28,699 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-22 14:10:28,699 - magazzino_reconciliation - INFO -   Riga 1: '==============================================================================...' se lunga
2025-09-22 14:10:28,699 - magazzino_reconciliation - INFO -   Riga 2: '      CONFRONTO COMPLETO AS400 (MAGAZZINO 27+28) vs WEBAPP - LISTA FINALE...' se lunga
2025-09-22 14:10:28,700 - magazzino_reconciliation - INFO -   Riga 3: '==============================================================================...' se lunga
2025-09-22 14:10:28,704 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-22 14:10:28,704 - magazzino_reconciliation - INFO -   - Righe processate: 244
2025-09-22 14:10:28,704 - magazzino_reconciliation - INFO -   - Righe valide: 0
2025-09-22 14:10:28,704 - magazzino_reconciliation - INFO -   - Prodotti estratti: 0
2025-09-22 14:10:28,705 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-22 14:10:28,706 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-22 14:10:28,706 - magazzino_reconciliation - INFO - Input AS400: 0 righe
2025-09-22 14:10:28,706 - magazzino_reconciliation - INFO - Input WebApp: 0 righe
2025-09-22 14:10:28,707 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-22 14:10:28,708 - werkzeug - INFO - 10.77.0.149 - - [22/Sep/2025 14:10:28] "[35m[1mPOST /api/reconcile-warehouse HTTP/1.1[0m" 500 -
2025-09-22 14:10:34,031 - werkzeug - INFO - 10.77.0.149 - - [22/Sep/2025 14:10:34] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-30 14:38:42,360 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:38:42] "[35m[1mPOST /api/reconcile-warehouse HTTP/1.1[0m" 500 -
2025-09-30 14:38:48,822 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:38:48] "[35m[1mPOST /api/reconcile-warehouse HTTP/1.1[0m" 500 -
2025-09-30 14:39:12,875 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:39:12] "GET / HTTP/1.1" 200 -
2025-09-30 14:39:15,362 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:39:15] "GET /esporta_magazzino HTTP/1.1" 200 -
2025-09-30 14:39:19,583 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:39:19] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-30 14:39:30,283 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:39:30] "GET / HTTP/1.1" 200 -
2025-09-30 14:39:31,632 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:39:31] "GET /rientro_merce HTTP/1.1" 200 -
2025-09-30 14:39:32,240 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:39:32] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-30 14:39:47,814 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-30 14:39:47,832 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-30 14:39:47,833 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-30 14:39:47,833 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-30 14:39:47,833 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 45
2025-09-30 14:39:47,833 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-30 14:39:47,834 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.09.25 Ora 14:35:18 Pag.   1'
2025-09-30 14:39:47,834 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-30 14:39:47,835 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-30 14:39:47,835 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-30 14:39:47,835 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-30 14:39:47,836 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-30 14:39:47,836 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-30 14:39:47,836 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-30 14:39:47,842 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-30 14:39:47,842 - magazzino_reconciliation - INFO -   Righe processate: 44
2025-09-30 14:39:47,842 - magazzino_reconciliation - INFO -   Match pattern originale: 21
2025-09-30 14:39:47,843 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-30 14:39:47,843 - magazzino_reconciliation - INFO -   Prodotti estratti: 21
2025-09-30 14:39:47,848 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 21 prodotti estratti, somma quantità: 587
2025-09-30 14:39:47,850 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-30 14:39:47,851 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-30 14:39:47,851 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 252
2025-09-30 14:39:47,851 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-30 14:39:47,852 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.09.25 Ora 14:34:56 Pag.   1'
2025-09-30 14:39:47,852 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-30 14:39:47,853 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-30 14:39:47,853 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-30 14:39:47,853 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-30 14:39:47,853 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-30 14:39:47,854 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-30 14:39:47,854 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-30 14:39:47,854 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-30 14:39:47,854 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1245 units (from '1.245') from Magazzino_28_Deposito
2025-09-30 14:39:47,856 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-30 14:39:47,856 - magazzino_reconciliation - INFO -   Righe processate: 251
2025-09-30 14:39:47,856 - magazzino_reconciliation - INFO -   Match pattern originale: 111
2025-09-30 14:39:47,856 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-30 14:39:47,856 - magazzino_reconciliation - INFO -   Prodotti estratti: 111
2025-09-30 14:39:47,857 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 111 prodotti estratti, somma quantità: 2177
2025-09-30 14:39:47,858 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-30 14:39:47,858 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 2764
2025-09-30 14:39:47,868 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-30 14:39:47,869 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1245, Source=Magazzino_28_Deposito
2025-09-30 14:39:47,869 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-30 14:39:47,870 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 230
2025-09-30 14:39:47,870 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 223
2025-09-30 14:39:47,870 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-30 14:39:47,870 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-30 14:39:47,871 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-30 14:39:47,871 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-30 14:39:47,871 - magazzino_reconciliation - INFO - DEBUG 94906: riga_completa='94906         MULTIMEDS_-_KIT_DI_PREPARAZIONE farmacia            6B                in_magazzino        33  VENDIBILI SOLO 25'
2025-09-30 14:39:47,871 - magazzino_reconciliation - INFO - DEBUG 94906: words=['94906', 'MULTIMEDS_-_KIT_DI_PREPARAZIONE', 'farmacia', '6B', 'in_magazzino', '33', 'VENDIBILI', 'SOLO', '25']
2025-09-30 14:39:47,872 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-30 14:39:47,872 - magazzino_reconciliation - INFO - DEBUG 94964: riga_completa='94964         MINI_TASTIERA_ACK_RF420_WIRELES farmacia            9C                in_magazzino         1'
2025-09-30 14:39:47,872 - magazzino_reconciliation - INFO - DEBUG 94964: words=['94964', 'MINI_TASTIERA_ACK_RF420_WIRELES', 'farmacia', '9C', 'in_magazzino', '1']
2025-09-30 14:39:47,872 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-30 14:39:47,873 - magazzino_reconciliation - INFO - DEBUG 95592: riga_completa='95592         DISCO_KINGSTONE_480GB_SSD       farmacia            9B                in_magazzino         3  1 pz ha l'imballo riciclato'
2025-09-30 14:39:47,874 - magazzino_reconciliation - INFO - DEBUG 95592: words=['95592', 'DISCO_KINGSTONE_480GB_SSD', 'farmacia', '9B', 'in_magazzino', '3', '1', 'pz', 'ha', "l'imballo", 'riciclato']
2025-09-30 14:39:47,874 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], qty_finale=3
2025-09-30 14:39:47,875 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1A                in_magazzino        20'
2025-09-30 14:39:47,876 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1A', 'in_magazzino', '20']
2025-09-30 14:39:47,876 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-30 14:39:47,876 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1C                in_magazzino        11'
2025-09-30 14:39:47,876 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1C', 'in_magazzino', '11']
2025-09-30 14:39:47,877 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 11)], qty_finale=11
2025-09-30 14:39:47,878 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-30 14:39:47,878 - magazzino_reconciliation - INFO -   - Righe processate: 223
2025-09-30 14:39:47,879 - magazzino_reconciliation - INFO -   - Righe valide: 223
2025-09-30 14:39:47,879 - magazzino_reconciliation - INFO -   - Prodotti estratti: 223
2025-09-30 14:39:47,879 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-30 14:39:47,911 - magazzino_reconciliation - INFO - Aggregati in 133 prodotti unici
2025-09-30 14:39:47,912 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-30 14:39:47,912 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-30 14:39:47,913 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-30 14:39:47,913 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-30 14:39:47,913 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-30 14:39:47,914 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2764
2025-09-30 14:39:47,914 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-30 14:39:47,915 - magazzino_reconciliation - INFO - Input WebApp: 133 righe
2025-09-30 14:39:47,915 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-30 14:39:47,915 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-30 14:39:47,916 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-30 14:39:47,917 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-30 14:39:47,917 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-30 14:39:47,922 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-30 14:39:47,922 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-30 14:39:47,923 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-30 14:39:47,923 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 133
2025-09-30 14:39:47,923 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-30 14:39:47,923 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-30 14:39:47,925 - magazzino_reconciliation - INFO -   Match: 96046 -> AS400:4, WebApp:4
2025-09-30 14:39:47,926 - magazzino_reconciliation - INFO -   Match: 95950 -> AS400:92, WebApp:92
2025-09-30 14:39:47,927 - magazzino_reconciliation - INFO -   Match: 95001 -> AS400:1, WebApp:1
2025-09-30 14:39:47,927 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-30 14:39:47,932 - magazzino_reconciliation - INFO - Dopo merge: 133 righe
2025-09-30 14:39:47,935 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-30 14:39:47,943 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-30 14:39:47,948 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2764, WebApp total: 2804
2025-09-30 14:39:47,949 - magazzino_reconciliation - INFO - Riconciliazione completata: 133 prodotti analizzati
2025-09-30 14:39:47,951 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-30 14:39:47,951 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 123
2025-09-30 14:39:47,952 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 9
2025-09-30 14:39:47,952 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 1
2025-09-30 14:39:47,954 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 123, 2: 3, 1: 2, 15: 1, 3: 1, 6: 1, 10: 1, -2: 1}
2025-09-30 14:39:47,955 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-30 14:39:47,955 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95822 (AS400:1, WebApp:16, Diff:15)
2025-09-30 14:39:47,956 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95987 (AS400:76, WebApp:74, Diff:-2)
2025-09-30 14:39:47,969 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250930_143947.csv
2025-09-30 14:39:47,970 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-30 14:39:47,971 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:39:47] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-30 14:39:49,769 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-30 14:39:49,770 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-30 14:39:49,770 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-30 14:39:49,771 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-30 14:39:49,772 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 45
2025-09-30 14:39:49,772 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-30 14:39:49,772 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.09.25 Ora 14:35:18 Pag.   1'
2025-09-30 14:39:49,772 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-30 14:39:49,773 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-30 14:39:49,773 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-30 14:39:49,773 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-30 14:39:49,773 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-30 14:39:49,773 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-30 14:39:49,774 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-30 14:39:49,775 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-30 14:39:49,775 - magazzino_reconciliation - INFO -   Righe processate: 44
2025-09-30 14:39:49,775 - magazzino_reconciliation - INFO -   Match pattern originale: 21
2025-09-30 14:39:49,775 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-30 14:39:49,776 - magazzino_reconciliation - INFO -   Prodotti estratti: 21
2025-09-30 14:39:49,776 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 21 prodotti estratti, somma quantità: 587
2025-09-30 14:39:49,776 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-30 14:39:49,777 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-30 14:39:49,777 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 252
2025-09-30 14:39:49,777 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-30 14:39:49,777 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.09.25 Ora 14:34:56 Pag.   1'
2025-09-30 14:39:49,777 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-30 14:39:49,777 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-30 14:39:49,778 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-30 14:39:49,778 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-30 14:39:49,778 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-30 14:39:49,778 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-30 14:39:49,778 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-30 14:39:49,779 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-30 14:39:49,779 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1245 units (from '1.245') from Magazzino_28_Deposito
2025-09-30 14:39:49,781 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-30 14:39:49,781 - magazzino_reconciliation - INFO -   Righe processate: 251
2025-09-30 14:39:49,781 - magazzino_reconciliation - INFO -   Match pattern originale: 111
2025-09-30 14:39:49,781 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-30 14:39:49,781 - magazzino_reconciliation - INFO -   Prodotti estratti: 111
2025-09-30 14:39:49,782 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 111 prodotti estratti, somma quantità: 2177
2025-09-30 14:39:49,783 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-30 14:39:49,784 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 2764
2025-09-30 14:39:49,787 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-30 14:39:49,787 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1245, Source=Magazzino_28_Deposito
2025-09-30 14:39:49,787 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-30 14:39:49,788 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 230
2025-09-30 14:39:49,789 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 223
2025-09-30 14:39:49,789 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-30 14:39:49,789 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-30 14:39:49,789 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-30 14:39:49,789 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-30 14:39:49,790 - magazzino_reconciliation - INFO - DEBUG 94906: riga_completa='94906         MULTIMEDS_-_KIT_DI_PREPARAZIONE farmacia            6B                in_magazzino        33  VENDIBILI SOLO 25'
2025-09-30 14:39:49,790 - magazzino_reconciliation - INFO - DEBUG 94906: words=['94906', 'MULTIMEDS_-_KIT_DI_PREPARAZIONE', 'farmacia', '6B', 'in_magazzino', '33', 'VENDIBILI', 'SOLO', '25']
2025-09-30 14:39:49,790 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-30 14:39:49,790 - magazzino_reconciliation - INFO - DEBUG 94964: riga_completa='94964         MINI_TASTIERA_ACK_RF420_WIRELES farmacia            9C                in_magazzino         1'
2025-09-30 14:39:49,790 - magazzino_reconciliation - INFO - DEBUG 94964: words=['94964', 'MINI_TASTIERA_ACK_RF420_WIRELES', 'farmacia', '9C', 'in_magazzino', '1']
2025-09-30 14:39:49,791 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-30 14:39:49,792 - magazzino_reconciliation - INFO - DEBUG 95592: riga_completa='95592         DISCO_KINGSTONE_480GB_SSD       farmacia            9B                in_magazzino         3  1 pz ha l'imballo riciclato'
2025-09-30 14:39:49,792 - magazzino_reconciliation - INFO - DEBUG 95592: words=['95592', 'DISCO_KINGSTONE_480GB_SSD', 'farmacia', '9B', 'in_magazzino', '3', '1', 'pz', 'ha', "l'imballo", 'riciclato']
2025-09-30 14:39:49,792 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], qty_finale=3
2025-09-30 14:39:49,793 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1A                in_magazzino        20'
2025-09-30 14:39:49,793 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1A', 'in_magazzino', '20']
2025-09-30 14:39:49,794 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-30 14:39:49,794 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1C                in_magazzino        11'
2025-09-30 14:39:49,794 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1C', 'in_magazzino', '11']
2025-09-30 14:39:49,794 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 11)], qty_finale=11
2025-09-30 14:39:49,796 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-30 14:39:49,797 - magazzino_reconciliation - INFO -   - Righe processate: 223
2025-09-30 14:39:49,797 - magazzino_reconciliation - INFO -   - Righe valide: 223
2025-09-30 14:39:49,797 - magazzino_reconciliation - INFO -   - Prodotti estratti: 223
2025-09-30 14:39:49,797 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-30 14:39:49,828 - magazzino_reconciliation - INFO - Aggregati in 133 prodotti unici
2025-09-30 14:39:49,828 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-30 14:39:49,828 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-30 14:39:49,829 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-30 14:39:49,829 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-30 14:39:49,829 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-30 14:39:49,830 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2764
2025-09-30 14:39:49,830 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-30 14:39:49,830 - magazzino_reconciliation - INFO - Input WebApp: 133 righe
2025-09-30 14:39:49,831 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-30 14:39:49,831 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-30 14:39:49,831 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-30 14:39:49,831 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-30 14:39:49,832 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-30 14:39:49,836 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-30 14:39:49,836 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-30 14:39:49,837 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-30 14:39:49,837 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 133
2025-09-30 14:39:49,837 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-30 14:39:49,837 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-30 14:39:49,838 - magazzino_reconciliation - INFO -   Match: 96046 -> AS400:4, WebApp:4
2025-09-30 14:39:49,839 - magazzino_reconciliation - INFO -   Match: 95950 -> AS400:92, WebApp:92
2025-09-30 14:39:49,839 - magazzino_reconciliation - INFO -   Match: 95001 -> AS400:1, WebApp:1
2025-09-30 14:39:49,839 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-30 14:39:49,842 - magazzino_reconciliation - INFO - Dopo merge: 133 righe
2025-09-30 14:39:49,843 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-30 14:39:49,845 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-30 14:39:49,850 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2764, WebApp total: 2804
2025-09-30 14:39:49,851 - magazzino_reconciliation - INFO - Riconciliazione completata: 133 prodotti analizzati
2025-09-30 14:39:49,852 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-30 14:39:49,853 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 123
2025-09-30 14:39:49,853 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 9
2025-09-30 14:39:49,853 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 1
2025-09-30 14:39:49,854 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 123, 2: 3, 1: 2, 15: 1, 3: 1, 6: 1, 10: 1, -2: 1}
2025-09-30 14:39:49,854 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-30 14:39:49,854 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95822 (AS400:1, WebApp:16, Diff:15)
2025-09-30 14:39:49,854 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95987 (AS400:76, WebApp:74, Diff:-2)
2025-09-30 14:39:49,860 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250930_143949.csv
2025-09-30 14:39:49,861 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-30 14:39:49,861 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:39:49] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-30 14:41:18,913 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:41:18] "GET / HTTP/1.1" 200 -
2025-09-30 14:41:27,912 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:41:27] "GET /?filtro_codice=95822&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:48:50,810 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:48:50] "GET / HTTP/1.1" 200 -
2025-09-30 14:48:55,563 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:48:55] "GET /?filtro_codice=&filtro_nome=epson&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:49:03,271 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:49:03] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:49:06,035 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:49:06] "GET /?filtro_codice=94997&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:49:47,084 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:49:47] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:49:51,180 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:49:51] "GET /?filtro_codice=95828&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:50:12,133 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:50:12] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:50:18,294 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:50:18] "GET /?filtro_codice=96219&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:50:52,708 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:50:52] "POST /modifica_giacenza/2065 HTTP/1.1" 200 -
2025-09-30 14:50:57,396 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:50:57] "POST /conferma_modifica_giacenza HTTP/1.1" 200 -
2025-09-30 14:50:57,466 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:50:57] "GET /?filtro_codice=96219&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:51:00,573 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:51:00] "[32mPOST /elimina_giacenza/2075 HTTP/1.1[0m" 302 -
2025-09-30 14:51:00,663 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:51:00] "GET / HTTP/1.1" 200 -
2025-09-30 14:51:12,506 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:51:12] "GET /?filtro_codice=94910&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:51:42,912 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:51:42] "GET /logmovimenti HTTP/1.1" 200 -
2025-09-30 14:51:43,724 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:51:43] "GET /logscarico HTTP/1.1" 200 -
2025-09-30 14:52:32,450 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:52:32] "GET /scaricomerce HTTP/1.1" 200 -
2025-09-30 14:53:12,335 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:53:12] "GET / HTTP/1.1" 200 -
2025-09-30 14:53:18,238 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:53:18] "GET /?filtro_codice=94910&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:53:22,897 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:53:22] "POST /modifica_giacenza/1779 HTTP/1.1" 200 -
2025-09-30 14:53:27,578 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:53:27] "POST /conferma_modifica_giacenza HTTP/1.1" 200 -
2025-09-30 14:53:27,634 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:53:27] "GET /?filtro_codice=94910&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:53:29,947 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:53:29] "[32mPOST /elimina_giacenza/2076 HTTP/1.1[0m" 302 -
2025-09-30 14:53:30,034 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:53:30] "GET / HTTP/1.1" 200 -
2025-09-30 14:53:38,101 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:53:38] "GET /?filtro_codice=94910&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:54:06,407 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:54:06] "GET /?filtro_codice=96075&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:54:44,997 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:54:44] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:54:49,097 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:54:49] "GET /?filtro_codice=&filtro_nome=geforce&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:55:10,186 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:55:10] "GET /movimento HTTP/1.1" 200 -
2025-09-30 14:55:17,355 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:55:17] "GET /api/ubicazioni/98 HTTP/1.1" 200 -
2025-09-30 14:55:24,440 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:55:24] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-30 14:55:24,466 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:55:24] "GET /movimento HTTP/1.1" 200 -
2025-09-30 14:55:25,682 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:55:25] "GET / HTTP/1.1" 200 -
2025-09-30 14:55:36,332 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:55:36] "GET /?filtro_codice=&filtro_nome=georce&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:55:40,038 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:55:40] "GET /?filtro_codice=&filtro_nome=geforce&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:57:00,013 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:57:00] "POST /modifica_giacenza/1756 HTTP/1.1" 200 -
2025-09-30 14:57:04,062 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:57:04] "POST /conferma_modifica_giacenza HTTP/1.1" 200 -
2025-09-30 14:57:04,135 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:57:04] "GET /?filtro_codice=&filtro_nome=geforce&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:57:07,472 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:57:07] "[32mPOST /elimina_giacenza/2078 HTTP/1.1[0m" 302 -
2025-09-30 14:57:07,556 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:57:07] "GET / HTTP/1.1" 200 -
2025-09-30 14:57:28,035 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:57:28] "GET /?filtro_codice=96010&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:58:11,996 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:58:11] "GET /scaricomerce HTTP/1.1" 200 -
2025-09-30 14:58:16,679 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:58:16] "GET /scarico_merce_non_in_magazzino HTTP/1.1" 200 -
2025-09-30 14:58:21,371 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:58:21] "GET /scarico_merce_non_in_magazzino?filtro_stato=&filtro_note=ram HTTP/1.1" 200 -
2025-09-30 14:58:23,444 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:58:23] "[32mPOST /scarico_merce_non_in_magazzino HTTP/1.1[0m" 302 -
2025-09-30 14:58:23,461 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:58:23] "GET /scarico_merce_non_in_magazzino?filtro_stato=&filtro_note=ram HTTP/1.1" 200 -
2025-09-30 14:58:24,710 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:58:24] "GET / HTTP/1.1" 200 -
2025-09-30 14:58:36,505 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:58:36] "GET /?filtro_codice=95508&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 14:58:53,498 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:58:53] "GET /logmovimenti HTTP/1.1" 200 -
2025-09-30 14:59:00,698 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:59:00] "GET /logscarico HTTP/1.1" 200 -
2025-09-30 14:59:06,018 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:59:06] "GET / HTTP/1.1" 200 -
2025-09-30 14:59:11,827 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 14:59:11] "GET /?filtro_codice=95508&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:00:24,919 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:00:24] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:00:29,776 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:00:29] "GET /?filtro_codice=95987&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:03:35,368 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:03:35] "GET / HTTP/1.1" 200 -
2025-09-30 15:03:39,830 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:03:39] "GET /?filtro_codice=&filtro_nome=logitech&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:15:49,414 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:15:49] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:15:56,038 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:15:56] "GET /?filtro_codice=94997&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:16:11,103 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:11] "POST /modifica_giacenza/2030 HTTP/1.1" 200 -
2025-09-30 15:16:14,347 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:14] "POST /conferma_modifica_giacenza HTTP/1.1" 200 -
2025-09-30 15:16:14,416 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:14] "GET /?filtro_codice=94997&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:16:17,393 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:17] "[32mPOST /elimina_giacenza/2079 HTTP/1.1[0m" 302 -
2025-09-30 15:16:17,480 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:17] "GET / HTTP/1.1" 200 -
2025-09-30 15:16:24,075 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:24] "GET /?filtro_codice=95828&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:16:35,163 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:35] "POST /modifica_giacenza/2045 HTTP/1.1" 200 -
2025-09-30 15:16:37,868 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:37] "POST /conferma_modifica_giacenza HTTP/1.1" 200 -
2025-09-30 15:16:37,927 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:37] "GET /?filtro_codice=95828&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:16:40,407 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:40] "[32mPOST /elimina_giacenza/2080 HTTP/1.1[0m" 302 -
2025-09-30 15:16:40,499 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:40] "GET / HTTP/1.1" 200 -
2025-09-30 15:16:43,054 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:43] "GET /?filtro_codice=95828&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:16:57,160 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:16:57] "GET /?filtro_codice=96075&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:17:01,443 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:17:01] "GET /scaricomerce HTTP/1.1" 200 -
2025-09-30 15:17:04,960 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:17:04] "GET /api/quantita_disponibile/61 HTTP/1.1" 200 -
2025-09-30 15:17:09,378 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:17:09] "[33mGET /api/quantita_disponibile/61/6D HTTP/1.1[0m" 404 -
2025-09-30 15:17:11,229 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:17:11] "[32mPOST /scaricomerce HTTP/1.1[0m" 302 -
2025-09-30 15:17:11,252 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:17:11] "GET /scaricomerce HTTP/1.1" 200 -
2025-09-30 15:17:12,093 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:17:12] "GET / HTTP/1.1" 200 -
2025-09-30 15:17:23,141 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:17:23] "GET /logscarico HTTP/1.1" 200 -
2025-09-30 15:28:35,549 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:28:35] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-30 15:28:48,728 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:28:48] "GET /movimento HTTP/1.1" 200 -
2025-09-30 15:28:49,153 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:28:49] "GET / HTTP/1.1" 200 -
2025-09-30 15:28:50,738 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:28:50] "GET /esporta_magazzino HTTP/1.1" 200 -
2025-09-30 15:28:57,915 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:28:57] "GET /rientro_merce HTTP/1.1" 200 -
2025-09-30 15:28:58,536 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:28:58] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-30 15:29:14,061 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-30 15:29:14,062 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-30 15:29:14,063 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-30 15:29:14,064 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-30 15:29:14,064 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 45
2025-09-30 15:29:14,064 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-30 15:29:14,065 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.09.25 Ora 14:35:18 Pag.   1'
2025-09-30 15:29:14,065 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-30 15:29:14,065 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-30 15:29:14,065 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-30 15:29:14,065 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-30 15:29:14,066 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-30 15:29:14,066 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-30 15:29:14,066 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-30 15:29:14,067 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-30 15:29:14,067 - magazzino_reconciliation - INFO -   Righe processate: 44
2025-09-30 15:29:14,068 - magazzino_reconciliation - INFO -   Match pattern originale: 21
2025-09-30 15:29:14,068 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-30 15:29:14,069 - magazzino_reconciliation - INFO -   Prodotti estratti: 21
2025-09-30 15:29:14,069 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 21 prodotti estratti, somma quantità: 587
2025-09-30 15:29:14,069 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-30 15:29:14,070 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-30 15:29:14,070 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 252
2025-09-30 15:29:14,070 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-30 15:29:14,071 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.09.25 Ora 14:34:56 Pag.   1'
2025-09-30 15:29:14,071 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-30 15:29:14,071 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-30 15:29:14,071 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-30 15:29:14,072 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-30 15:29:14,072 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-30 15:29:14,072 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-30 15:29:14,073 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-30 15:29:14,073 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-30 15:29:14,074 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1245 units (from '1.245') from Magazzino_28_Deposito
2025-09-30 15:29:14,075 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-30 15:29:14,075 - magazzino_reconciliation - INFO -   Righe processate: 251
2025-09-30 15:29:14,075 - magazzino_reconciliation - INFO -   Match pattern originale: 111
2025-09-30 15:29:14,076 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-30 15:29:14,076 - magazzino_reconciliation - INFO -   Prodotti estratti: 111
2025-09-30 15:29:14,077 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 111 prodotti estratti, somma quantità: 2177
2025-09-30 15:29:14,077 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-30 15:29:14,077 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 2764
2025-09-30 15:29:14,078 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-30 15:29:14,079 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1245, Source=Magazzino_28_Deposito
2025-09-30 15:29:14,079 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-30 15:29:14,080 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 229
2025-09-30 15:29:14,080 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 222
2025-09-30 15:29:14,081 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-30 15:29:14,081 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-30 15:29:14,081 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-30 15:29:14,082 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-30 15:29:14,082 - magazzino_reconciliation - INFO - DEBUG 94906: riga_completa='94906         MULTIMEDS_-_KIT_DI_PREPARAZIONE farmacia            6B                in_magazzino        33  VENDIBILI SOLO 25'
2025-09-30 15:29:14,082 - magazzino_reconciliation - INFO - DEBUG 94906: words=['94906', 'MULTIMEDS_-_KIT_DI_PREPARAZIONE', 'farmacia', '6B', 'in_magazzino', '33', 'VENDIBILI', 'SOLO', '25']
2025-09-30 15:29:14,082 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-30 15:29:14,083 - magazzino_reconciliation - INFO - DEBUG 94964: riga_completa='94964         MINI_TASTIERA_ACK_RF420_WIRELES farmacia            9C                in_magazzino         1'
2025-09-30 15:29:14,083 - magazzino_reconciliation - INFO - DEBUG 94964: words=['94964', 'MINI_TASTIERA_ACK_RF420_WIRELES', 'farmacia', '9C', 'in_magazzino', '1']
2025-09-30 15:29:14,083 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-30 15:29:14,085 - magazzino_reconciliation - INFO - DEBUG 95592: riga_completa='95592         DISCO_KINGSTONE_480GB_SSD       farmacia            9B                in_magazzino         3  1 pz ha l'imballo riciclato'
2025-09-30 15:29:14,085 - magazzino_reconciliation - INFO - DEBUG 95592: words=['95592', 'DISCO_KINGSTONE_480GB_SSD', 'farmacia', '9B', 'in_magazzino', '3', '1', 'pz', 'ha', "l'imballo", 'riciclato']
2025-09-30 15:29:14,085 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], qty_finale=3
2025-09-30 15:29:14,086 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1A                in_magazzino        20'
2025-09-30 15:29:14,086 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1A', 'in_magazzino', '20']
2025-09-30 15:29:14,086 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-30 15:29:14,086 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1C                in_magazzino        11'
2025-09-30 15:29:14,087 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1C', 'in_magazzino', '11']
2025-09-30 15:29:14,087 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 11)], qty_finale=11
2025-09-30 15:29:14,089 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-30 15:29:14,089 - magazzino_reconciliation - INFO -   - Righe processate: 222
2025-09-30 15:29:14,089 - magazzino_reconciliation - INFO -   - Righe valide: 222
2025-09-30 15:29:14,090 - magazzino_reconciliation - INFO -   - Prodotti estratti: 222
2025-09-30 15:29:14,090 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-30 15:29:14,111 - magazzino_reconciliation - INFO - Aggregati in 132 prodotti unici
2025-09-30 15:29:14,111 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-30 15:29:14,112 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-30 15:29:14,112 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-30 15:29:14,113 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-30 15:29:14,113 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-30 15:29:14,113 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2764
2025-09-30 15:29:14,114 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-30 15:29:14,114 - magazzino_reconciliation - INFO - Input WebApp: 132 righe
2025-09-30 15:29:14,115 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-30 15:29:14,115 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-30 15:29:14,116 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-30 15:29:14,116 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-30 15:29:14,117 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-30 15:29:14,119 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-30 15:29:14,121 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-30 15:29:14,121 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-30 15:29:14,122 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 132
2025-09-30 15:29:14,122 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-30 15:29:14,122 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-30 15:29:14,124 - magazzino_reconciliation - INFO -   Match: 96046 -> AS400:4, WebApp:4
2025-09-30 15:29:14,124 - magazzino_reconciliation - INFO -   Match: 95950 -> AS400:92, WebApp:92
2025-09-30 15:29:14,125 - magazzino_reconciliation - INFO -   Match: 95001 -> AS400:1, WebApp:1
2025-09-30 15:29:14,126 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-30 15:29:14,127 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-30 15:29:14,129 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-30 15:29:14,130 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-30 15:29:14,135 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2764, WebApp total: 2780
2025-09-30 15:29:14,136 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-30 15:29:14,137 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-30 15:29:14,137 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 127
2025-09-30 15:29:14,138 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 4
2025-09-30 15:29:14,138 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 1
2025-09-30 15:29:14,138 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 127, 1: 3, 15: 1, -2: 1}
2025-09-30 15:29:14,139 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-30 15:29:14,139 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95822 (AS400:1, WebApp:16, Diff:15)
2025-09-30 15:29:14,139 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95987 (AS400:76, WebApp:74, Diff:-2)
2025-09-30 15:29:14,145 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250930_152914.csv
2025-09-30 15:29:14,145 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-30 15:29:14,146 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:29:14] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-30 15:32:34,021 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:32:34] "GET / HTTP/1.1" 200 -
2025-09-30 15:32:38,767 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:32:38] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=morra HTTP/1.1" 200 -
2025-09-30 15:32:46,705 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:32:46] "GET / HTTP/1.1" 200 -
2025-09-30 15:49:13,962 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:49:13] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-30 15:49:46,189 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-30 15:49:46,191 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-30 15:49:46,192 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-30 15:49:46,192 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-30 15:49:46,193 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 45
2025-09-30 15:49:46,193 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-30 15:49:46,193 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.09.25 Ora 14:35:18 Pag.   1'
2025-09-30 15:49:46,193 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-30 15:49:46,194 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-30 15:49:46,194 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-30 15:49:46,194 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-30 15:49:46,194 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-30 15:49:46,194 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-30 15:49:46,195 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-30 15:49:46,196 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-30 15:49:46,196 - magazzino_reconciliation - INFO -   Righe processate: 44
2025-09-30 15:49:46,196 - magazzino_reconciliation - INFO -   Match pattern originale: 21
2025-09-30 15:49:46,197 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-30 15:49:46,197 - magazzino_reconciliation - INFO -   Prodotti estratti: 21
2025-09-30 15:49:46,197 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 21 prodotti estratti, somma quantità: 587
2025-09-30 15:49:46,198 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-30 15:49:46,198 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-30 15:49:46,199 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 252
2025-09-30 15:49:46,199 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-30 15:49:46,199 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.09.25 Ora 15:48:16 Pag.   1'
2025-09-30 15:49:46,200 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-30 15:49:46,200 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-30 15:49:46,200 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-30 15:49:46,201 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-30 15:49:46,201 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-30 15:49:46,201 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-30 15:49:46,202 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-30 15:49:46,202 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-30 15:49:46,202 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1245 units (from '1.245') from Magazzino_28_Deposito
2025-09-30 15:49:46,203 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-30 15:49:46,204 - magazzino_reconciliation - INFO -   Righe processate: 251
2025-09-30 15:49:46,204 - magazzino_reconciliation - INFO -   Match pattern originale: 111
2025-09-30 15:49:46,204 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-30 15:49:46,205 - magazzino_reconciliation - INFO -   Prodotti estratti: 111
2025-09-30 15:49:46,205 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 111 prodotti estratti, somma quantità: 2192
2025-09-30 15:49:46,206 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-30 15:49:46,206 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 2779
2025-09-30 15:49:46,207 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-30 15:49:46,207 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1245, Source=Magazzino_28_Deposito
2025-09-30 15:49:46,208 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-30 15:49:46,208 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 229
2025-09-30 15:49:46,209 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 222
2025-09-30 15:49:46,209 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-30 15:49:46,209 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-30 15:49:46,210 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-30 15:49:46,210 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-30 15:49:46,211 - magazzino_reconciliation - INFO - DEBUG 94906: riga_completa='94906         MULTIMEDS_-_KIT_DI_PREPARAZIONE farmacia            6B                in_magazzino        33  VENDIBILI SOLO 25'
2025-09-30 15:49:46,211 - magazzino_reconciliation - INFO - DEBUG 94906: words=['94906', 'MULTIMEDS_-_KIT_DI_PREPARAZIONE', 'farmacia', '6B', 'in_magazzino', '33', 'VENDIBILI', 'SOLO', '25']
2025-09-30 15:49:46,211 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-30 15:49:46,212 - magazzino_reconciliation - INFO - DEBUG 94964: riga_completa='94964         MINI_TASTIERA_ACK_RF420_WIRELES farmacia            9C                in_magazzino         1'
2025-09-30 15:49:46,212 - magazzino_reconciliation - INFO - DEBUG 94964: words=['94964', 'MINI_TASTIERA_ACK_RF420_WIRELES', 'farmacia', '9C', 'in_magazzino', '1']
2025-09-30 15:49:46,212 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-30 15:49:46,213 - magazzino_reconciliation - INFO - DEBUG 95592: riga_completa='95592         DISCO_KINGSTONE_480GB_SSD       farmacia            9B                in_magazzino         3  1 pz ha l'imballo riciclato'
2025-09-30 15:49:46,213 - magazzino_reconciliation - INFO - DEBUG 95592: words=['95592', 'DISCO_KINGSTONE_480GB_SSD', 'farmacia', '9B', 'in_magazzino', '3', '1', 'pz', 'ha', "l'imballo", 'riciclato']
2025-09-30 15:49:46,214 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], qty_finale=3
2025-09-30 15:49:46,214 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1A                in_magazzino        20'
2025-09-30 15:49:46,215 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1A', 'in_magazzino', '20']
2025-09-30 15:49:46,215 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-30 15:49:46,215 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1C                in_magazzino        11'
2025-09-30 15:49:46,215 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1C', 'in_magazzino', '11']
2025-09-30 15:49:46,215 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 11)], qty_finale=11
2025-09-30 15:49:46,217 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-30 15:49:46,217 - magazzino_reconciliation - INFO -   - Righe processate: 222
2025-09-30 15:49:46,217 - magazzino_reconciliation - INFO -   - Righe valide: 222
2025-09-30 15:49:46,218 - magazzino_reconciliation - INFO -   - Prodotti estratti: 222
2025-09-30 15:49:46,218 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-30 15:49:46,239 - magazzino_reconciliation - INFO - Aggregati in 132 prodotti unici
2025-09-30 15:49:46,240 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-30 15:49:46,240 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-30 15:49:46,241 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-30 15:49:46,241 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-30 15:49:46,242 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-30 15:49:46,242 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2779
2025-09-30 15:49:46,243 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-30 15:49:46,243 - magazzino_reconciliation - INFO - Input WebApp: 132 righe
2025-09-30 15:49:46,244 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-30 15:49:46,244 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-30 15:49:46,244 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-30 15:49:46,245 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-30 15:49:46,246 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-30 15:49:46,247 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-30 15:49:46,248 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-30 15:49:46,248 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-30 15:49:46,248 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 132
2025-09-30 15:49:46,249 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-30 15:49:46,249 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-30 15:49:46,250 - magazzino_reconciliation - INFO -   Match: 96046 -> AS400:4, WebApp:4
2025-09-30 15:49:46,251 - magazzino_reconciliation - INFO -   Match: 95950 -> AS400:92, WebApp:92
2025-09-30 15:49:46,252 - magazzino_reconciliation - INFO -   Match: 95001 -> AS400:1, WebApp:1
2025-09-30 15:49:46,252 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-30 15:49:46,254 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-30 15:49:46,255 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-30 15:49:46,256 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-30 15:49:46,263 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2779, WebApp total: 2780
2025-09-30 15:49:46,264 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-30 15:49:46,264 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-30 15:49:46,265 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 128
2025-09-30 15:49:46,265 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 3
2025-09-30 15:49:46,265 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 1
2025-09-30 15:49:46,266 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 128, 1: 3, -2: 1}
2025-09-30 15:49:46,266 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-30 15:49:46,267 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 94910 (AS400:3, WebApp:4, Diff:1)
2025-09-30 15:49:46,267 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95987 (AS400:76, WebApp:74, Diff:-2)
2025-09-30 15:49:46,273 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250930_154946.csv
2025-09-30 15:49:46,273 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-30 15:49:46,274 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:49:46] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-30 15:50:36,464 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:50:36] "GET / HTTP/1.1" 200 -
2025-09-30 15:50:39,537 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:50:39] "GET /?filtro_codice=&filtro_nome=m720&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:51:44,248 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:51:44] "GET / HTTP/1.1" 200 -
2025-09-30 15:51:50,247 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:51:50] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=spedito&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:57:19,911 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:57:19] "GET /?filtro_codice=&filtro_nome=m70&filtro_magazzino=&filtro_stato=spedito&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:59:10,757 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:59:10] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=spedito&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:59:23,211 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:59:23] "GET /?filtro_codice=96046&filtro_nome=&filtro_magazzino=&filtro_stato=spedito&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:59:34,738 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:59:34] "GET /?filtro_codice=96046&filtro_nome=&filtro_magazzino=&filtro_stato=spedito&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 15:59:50,980 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 15:59:50] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=spedito&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:01:31,660 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:01:31] "GET /?filtro_codice=96046&filtro_nome=&filtro_magazzino=&filtro_stato=spedito&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:01:38,982 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:01:38] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-30 16:01:59,220 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-30 16:01:59,221 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-30 16:01:59,221 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-30 16:01:59,222 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-30 16:01:59,223 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 45
2025-09-30 16:01:59,223 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-30 16:01:59,223 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.09.25 Ora 14:35:18 Pag.   1'
2025-09-30 16:01:59,224 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-30 16:01:59,224 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-30 16:01:59,224 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-30 16:01:59,224 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-30 16:01:59,224 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-30 16:01:59,225 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-30 16:01:59,225 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-30 16:01:59,226 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-30 16:01:59,226 - magazzino_reconciliation - INFO -   Righe processate: 44
2025-09-30 16:01:59,226 - magazzino_reconciliation - INFO -   Match pattern originale: 21
2025-09-30 16:01:59,227 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-30 16:01:59,227 - magazzino_reconciliation - INFO -   Prodotti estratti: 21
2025-09-30 16:01:59,227 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 21 prodotti estratti, somma quantità: 587
2025-09-30 16:01:59,228 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-30 16:01:59,228 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-30 16:01:59,228 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 252
2025-09-30 16:01:59,229 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-30 16:01:59,229 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.09.25 Ora 15:48:16 Pag.   1'
2025-09-30 16:01:59,229 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-30 16:01:59,229 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-30 16:01:59,230 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-30 16:01:59,230 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-30 16:01:59,230 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-30 16:01:59,231 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-30 16:01:59,231 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-30 16:01:59,231 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-30 16:01:59,232 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1245 units (from '1.245') from Magazzino_28_Deposito
2025-09-30 16:01:59,233 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-30 16:01:59,233 - magazzino_reconciliation - INFO -   Righe processate: 251
2025-09-30 16:01:59,233 - magazzino_reconciliation - INFO -   Match pattern originale: 111
2025-09-30 16:01:59,233 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-30 16:01:59,234 - magazzino_reconciliation - INFO -   Prodotti estratti: 111
2025-09-30 16:01:59,234 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 111 prodotti estratti, somma quantità: 2192
2025-09-30 16:01:59,236 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-30 16:01:59,237 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 2779
2025-09-30 16:01:59,238 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-30 16:01:59,239 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1245, Source=Magazzino_28_Deposito
2025-09-30 16:01:59,239 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-30 16:01:59,240 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 229
2025-09-30 16:01:59,241 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 222
2025-09-30 16:01:59,241 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-30 16:01:59,241 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-30 16:01:59,242 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-30 16:01:59,242 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-30 16:01:59,242 - magazzino_reconciliation - INFO - DEBUG 94906: riga_completa='94906         MULTIMEDS_-_KIT_DI_PREPARAZIONE farmacia            6B                in_magazzino        33  VENDIBILI SOLO 25'
2025-09-30 16:01:59,242 - magazzino_reconciliation - INFO - DEBUG 94906: words=['94906', 'MULTIMEDS_-_KIT_DI_PREPARAZIONE', 'farmacia', '6B', 'in_magazzino', '33', 'VENDIBILI', 'SOLO', '25']
2025-09-30 16:01:59,243 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-30 16:01:59,243 - magazzino_reconciliation - INFO - DEBUG 94964: riga_completa='94964         MINI_TASTIERA_ACK_RF420_WIRELES farmacia            9C                in_magazzino         1'
2025-09-30 16:01:59,243 - magazzino_reconciliation - INFO - DEBUG 94964: words=['94964', 'MINI_TASTIERA_ACK_RF420_WIRELES', 'farmacia', '9C', 'in_magazzino', '1']
2025-09-30 16:01:59,243 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-30 16:01:59,244 - magazzino_reconciliation - INFO - DEBUG 95592: riga_completa='95592         DISCO_KINGSTONE_480GB_SSD       farmacia            9B                in_magazzino         3  1 pz ha l'imballo riciclato'
2025-09-30 16:01:59,244 - magazzino_reconciliation - INFO - DEBUG 95592: words=['95592', 'DISCO_KINGSTONE_480GB_SSD', 'farmacia', '9B', 'in_magazzino', '3', '1', 'pz', 'ha', "l'imballo", 'riciclato']
2025-09-30 16:01:59,244 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], qty_finale=3
2025-09-30 16:01:59,245 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1A                in_magazzino        20'
2025-09-30 16:01:59,245 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1A', 'in_magazzino', '20']
2025-09-30 16:01:59,245 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-30 16:01:59,246 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1C                in_magazzino        11'
2025-09-30 16:01:59,246 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1C', 'in_magazzino', '11']
2025-09-30 16:01:59,246 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 11)], qty_finale=11
2025-09-30 16:01:59,247 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-30 16:01:59,248 - magazzino_reconciliation - INFO -   - Righe processate: 222
2025-09-30 16:01:59,248 - magazzino_reconciliation - INFO -   - Righe valide: 222
2025-09-30 16:01:59,248 - magazzino_reconciliation - INFO -   - Prodotti estratti: 222
2025-09-30 16:01:59,248 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-30 16:01:59,267 - magazzino_reconciliation - INFO - Aggregati in 132 prodotti unici
2025-09-30 16:01:59,268 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-30 16:01:59,269 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-30 16:01:59,269 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-30 16:01:59,270 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-30 16:01:59,271 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-30 16:01:59,271 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2779
2025-09-30 16:01:59,272 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-30 16:01:59,273 - magazzino_reconciliation - INFO - Input WebApp: 132 righe
2025-09-30 16:01:59,273 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-30 16:01:59,274 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-30 16:01:59,274 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-30 16:01:59,274 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-30 16:01:59,275 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-30 16:01:59,276 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-30 16:01:59,277 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-30 16:01:59,277 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-30 16:01:59,277 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 132
2025-09-30 16:01:59,277 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-30 16:01:59,278 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-30 16:01:59,279 - magazzino_reconciliation - INFO -   Match: 96046 -> AS400:4, WebApp:4
2025-09-30 16:01:59,280 - magazzino_reconciliation - INFO -   Match: 95950 -> AS400:92, WebApp:92
2025-09-30 16:01:59,281 - magazzino_reconciliation - INFO -   Match: 95001 -> AS400:1, WebApp:1
2025-09-30 16:01:59,281 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-30 16:01:59,283 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-30 16:01:59,285 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-30 16:01:59,288 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-30 16:01:59,291 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2779, WebApp total: 2780
2025-09-30 16:01:59,292 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-30 16:01:59,293 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-30 16:01:59,293 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 128
2025-09-30 16:01:59,294 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 3
2025-09-30 16:01:59,294 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 1
2025-09-30 16:01:59,295 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 128, 1: 3, -2: 1}
2025-09-30 16:01:59,295 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-30 16:01:59,295 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 94910 (AS400:3, WebApp:4, Diff:1)
2025-09-30 16:01:59,296 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95987 (AS400:76, WebApp:74, Diff:-2)
2025-09-30 16:01:59,302 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250930_160159.csv
2025-09-30 16:01:59,303 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-30 16:01:59,303 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:01:59] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-30 16:02:46,775 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:02:46] "GET / HTTP/1.1" 200 -
2025-09-30 16:02:50,256 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:02:50] "GET /?filtro_codice=96046&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:03:06,955 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:03:06] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:03:09,794 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:03:09] "GET /?filtro_codice=&filtro_nome=m70&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:03:21,188 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:03:21] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:03:24,544 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:03:24] "GET /?filtro_codice=96046&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:07:49,030 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:07:49] "GET /movimento HTTP/1.1" 200 -
2025-09-30 16:08:12,492 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:08:12] "GET /api/ubicazioni/7 HTTP/1.1" 200 -
2025-09-30 16:08:20,236 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:08:20] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-30 16:08:20,258 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:08:20] "GET /movimento HTTP/1.1" 200 -
2025-09-30 16:08:21,603 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:08:21] "GET / HTTP/1.1" 200 -
2025-09-30 16:08:28,929 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:08:28] "GET /?filtro_codice=&filtro_nome=m70&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:08:42,671 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:08:42] "[32mPOST /elimina_giacenza/1838 HTTP/1.1[0m" 302 -
2025-09-30 16:08:42,761 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:08:42] "GET / HTTP/1.1" 200 -
2025-09-30 16:08:45,420 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:08:45] "GET /?filtro_codice=&filtro_nome=m70&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:08:53,058 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:08:53] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:08:55,887 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:08:55] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-30 16:08:58,061 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:08:58] "GET / HTTP/1.1" 200 -
2025-09-30 16:09:02,879 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:09:02] "GET /?filtro_codice=&filtro_nome=m720&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:09:07,632 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:09:07] "GET /movimento HTTP/1.1" 200 -
2025-09-30 16:09:13,850 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:09:13] "GET /api/ubicazioni/165 HTTP/1.1" 200 -
2025-09-30 16:09:22,433 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:09:22] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-30 16:09:22,452 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:09:22] "GET /movimento HTTP/1.1" 200 -
2025-09-30 16:09:23,496 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:09:23] "GET / HTTP/1.1" 200 -
2025-09-30 16:09:26,501 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:09:26] "GET /?filtro_codice=&filtro_nome=m720&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:09:39,511 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:09:39] "POST /modifica_giacenza/2065 HTTP/1.1" 200 -
2025-09-30 16:09:42,880 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:09:42] "POST /conferma_modifica_giacenza HTTP/1.1" 200 -
2025-09-30 16:09:42,943 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:09:42] "GET /?filtro_codice=&filtro_nome=m720&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:09:45,545 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:09:45] "[32mPOST /elimina_giacenza/2082 HTTP/1.1[0m" 302 -
2025-09-30 16:09:45,628 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:09:45] "GET / HTTP/1.1" 200 -
2025-09-30 16:10:15,002 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:10:15] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-30 16:10:35,484 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:10:35] "GET / HTTP/1.1" 200 -
2025-09-30 16:10:37,305 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:10:37] "GET /esporta_magazzino HTTP/1.1" 200 -
2025-09-30 16:10:39,043 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:10:39] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2025-09-30 16:10:52,142 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-09-30 16:10:52,144 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-09-30 16:10:52,145 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-09-30 16:10:52,145 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-09-30 16:10:52,146 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 45
2025-09-30 16:10:52,146 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-30 16:10:52,147 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.09.25 Ora 14:35:18 Pag.   1'
2025-09-30 16:10:52,147 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2025-09-30 16:10:52,147 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-30 16:10:52,148 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-30 16:10:52,148 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-30 16:10:52,148 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2025-09-30 16:10:52,148 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2025-09-30 16:10:52,149 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2025-09-30 16:10:52,149 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-09-30 16:10:52,150 - magazzino_reconciliation - INFO -   Righe processate: 44
2025-09-30 16:10:52,150 - magazzino_reconciliation - INFO -   Match pattern originale: 21
2025-09-30 16:10:52,150 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-30 16:10:52,151 - magazzino_reconciliation - INFO -   Prodotti estratti: 21
2025-09-30 16:10:52,151 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 21 prodotti estratti, somma quantità: 587
2025-09-30 16:10:52,151 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-09-30 16:10:52,152 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-09-30 16:10:52,152 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 252
2025-09-30 16:10:52,152 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-09-30 16:10:52,152 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.09.25 Ora 15:48:16 Pag.   1'
2025-09-30 16:10:52,153 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2025-09-30 16:10:52,153 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2025-09-30 16:10:52,153 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2025-09-30 16:10:52,154 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2025-09-30 16:10:52,154 - magazzino_reconciliation - INFO - Match trovato: Codice=0000245, Desc='SCANNER MANUALE CANON DR-M140II', Qty=1
2025-09-30 16:10:52,154 - magazzino_reconciliation - INFO - Match trovato: Codice=0000564, Desc='SCHEDA SERIALE 2 PORTE PCI', Qty=1
2025-09-30 16:10:52,155 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2025-09-30 16:10:52,156 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 103: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.245            4,2598             5.303,4510'
2025-09-30 16:10:52,156 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1245 units (from '1.245') from Magazzino_28_Deposito
2025-09-30 16:10:52,158 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-09-30 16:10:52,159 - magazzino_reconciliation - INFO -   Righe processate: 251
2025-09-30 16:10:52,159 - magazzino_reconciliation - INFO -   Match pattern originale: 111
2025-09-30 16:10:52,159 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-09-30 16:10:52,160 - magazzino_reconciliation - INFO -   Prodotti estratti: 111
2025-09-30 16:10:52,160 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 111 prodotti estratti, somma quantità: 2192
2025-09-30 16:10:52,161 - magazzino_reconciliation - INFO - AS400 unificato: 132 prodotti totali
2025-09-30 16:10:52,161 - magazzino_reconciliation - INFO - AS400 unificato - somma quantità totale: 2779
2025-09-30 16:10:52,162 - magazzino_reconciliation - INFO - TARGET PRODUCT 95413 (no duplicates): 1 rows
2025-09-30 16:10:52,162 - magazzino_reconciliation - INFO -   Single: Code=0095413, Qty=1245, Source=Magazzino_28_Deposito
2025-09-30 16:10:52,162 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-09-30 16:10:52,163 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 227
2025-09-30 16:10:52,163 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 220
2025-09-30 16:10:52,163 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-09-30 16:10:52,163 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-09-30 16:10:52,163 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-09-30 16:10:52,163 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-09-30 16:10:52,164 - magazzino_reconciliation - INFO - DEBUG 94906: riga_completa='94906         MULTIMEDS_-_KIT_DI_PREPARAZIONE farmacia            6B                in_magazzino        33  VENDIBILI SOLO 25'
2025-09-30 16:10:52,164 - magazzino_reconciliation - INFO - DEBUG 94906: words=['94906', 'MULTIMEDS_-_KIT_DI_PREPARAZIONE', 'farmacia', '6B', 'in_magazzino', '33', 'VENDIBILI', 'SOLO', '25']
2025-09-30 16:10:52,164 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-09-30 16:10:52,164 - magazzino_reconciliation - INFO - DEBUG 94964: riga_completa='94964         MINI_TASTIERA_ACK_RF420_WIRELES farmacia            9C                in_magazzino         1'
2025-09-30 16:10:52,164 - magazzino_reconciliation - INFO - DEBUG 94964: words=['94964', 'MINI_TASTIERA_ACK_RF420_WIRELES', 'farmacia', '9C', 'in_magazzino', '1']
2025-09-30 16:10:52,164 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-09-30 16:10:52,165 - magazzino_reconciliation - INFO - DEBUG 95592: riga_completa='95592         DISCO_KINGSTONE_480GB_SSD       farmacia            9B                in_magazzino         3  1 pz ha l'imballo riciclato'
2025-09-30 16:10:52,165 - magazzino_reconciliation - INFO - DEBUG 95592: words=['95592', 'DISCO_KINGSTONE_480GB_SSD', 'farmacia', '9B', 'in_magazzino', '3', '1', 'pz', 'ha', "l'imballo", 'riciclato']
2025-09-30 16:10:52,165 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], qty_finale=3
2025-09-30 16:10:52,165 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1A                in_magazzino        20'
2025-09-30 16:10:52,165 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1A', 'in_magazzino', '20']
2025-09-30 16:10:52,166 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 20)], qty_finale=20
2025-09-30 16:10:52,166 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1C                in_magazzino        11'
2025-09-30 16:10:52,166 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1C', 'in_magazzino', '11']
2025-09-30 16:10:52,166 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 11)], qty_finale=11
2025-09-30 16:10:52,167 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-09-30 16:10:52,167 - magazzino_reconciliation - INFO -   - Righe processate: 220
2025-09-30 16:10:52,167 - magazzino_reconciliation - INFO -   - Righe valide: 220
2025-09-30 16:10:52,167 - magazzino_reconciliation - INFO -   - Prodotti estratti: 220
2025-09-30 16:10:52,167 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-09-30 16:10:52,188 - magazzino_reconciliation - INFO - Aggregati in 132 prodotti unici
2025-09-30 16:10:52,188 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-09-30 16:10:52,188 - magazzino_reconciliation - INFO - Input AS400: 132 righe
2025-09-30 16:10:52,190 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2025-09-30 16:10:52,191 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2025-09-30 16:10:52,191 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2025-09-30 16:10:52,192 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2779
2025-09-30 16:10:52,192 - magazzino_reconciliation - INFO - Sample codici AS400: ['0000245', '0000564', '0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882']
2025-09-30 16:10:52,192 - magazzino_reconciliation - INFO - Input WebApp: 132 righe
2025-09-30 16:10:52,193 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-09-30 16:10:52,194 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-09-30 16:10:52,194 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-09-30 16:10:52,195 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-09-30 16:10:52,195 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2025-09-30 16:10:52,197 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-09-30 16:10:52,197 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2025-09-30 16:10:52,198 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 132
2025-09-30 16:10:52,198 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 132
2025-09-30 16:10:52,198 - magazzino_reconciliation - INFO -   - Codici in comune: 132
2025-09-30 16:10:52,199 - magazzino_reconciliation - INFO - Esempi codici comuni: ['245', '564', '94308', '94624', '94625']
2025-09-30 16:10:52,199 - magazzino_reconciliation - INFO -   Match: 96046 -> AS400:4, WebApp:4
2025-09-30 16:10:52,200 - magazzino_reconciliation - INFO -   Match: 95950 -> AS400:92, WebApp:92
2025-09-30 16:10:52,201 - magazzino_reconciliation - INFO -   Match: 95001 -> AS400:1, WebApp:1
2025-09-30 16:10:52,201 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-09-30 16:10:52,203 - magazzino_reconciliation - INFO - Dopo merge: 132 righe
2025-09-30 16:10:52,204 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 132
2025-09-30 16:10:52,208 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
0    245               1                1           0
1    564               1                1           0
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
2025-09-30 16:10:52,211 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2779, WebApp total: 2779
2025-09-30 16:10:52,212 - magazzino_reconciliation - INFO - Riconciliazione completata: 132 prodotti analizzati
2025-09-30 16:10:52,214 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-09-30 16:10:52,214 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 129
2025-09-30 16:10:52,214 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 2
2025-09-30 16:10:52,215 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 1
2025-09-30 16:10:52,215 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 129, 1: 2, -2: 1}
2025-09-30 16:10:52,216 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 245
2025-09-30 16:10:52,216 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 94910 (AS400:3, WebApp:4, Diff:1)
2025-09-30 16:10:52,216 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95987 (AS400:76, WebApp:74, Diff:-2)
2025-09-30 16:10:52,224 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20250930_161052.csv
2025-09-30 16:10:52,224 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-09-30 16:10:52,225 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:10:52] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-09-30 16:13:55,918 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:13:55] "GET / HTTP/1.1" 200 -
2025-09-30 16:14:48,751 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:14:48] "GET /?filtro_codice=95987&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:14:54,872 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:14:54] "GET /carico_merci HTTP/1.1" 200 -
2025-09-30 16:15:09,142 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:09] "[32mPOST /carico_merci HTTP/1.1[0m" 302 -
2025-09-30 16:15:09,160 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:09] "GET /carico_merci HTTP/1.1" 200 -
2025-09-30 16:15:10,855 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:10] "GET / HTTP/1.1" 200 -
2025-09-30 16:15:15,027 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:15] "GET /?filtro_codice=95987&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:15:20,363 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:20] "GET /movimento HTTP/1.1" 200 -
2025-09-30 16:15:28,867 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:28] "GET /api/ubicazioni/71 HTTP/1.1" 200 -
2025-09-30 16:15:34,862 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:34] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-30 16:15:34,882 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:34] "GET /movimento HTTP/1.1" 200 -
2025-09-30 16:15:35,875 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:35] "GET / HTTP/1.1" 200 -
2025-09-30 16:15:42,096 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:42] "GET /?filtro_codice=95987&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:15:44,283 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:44] "GET / HTTP/1.1" 200 -
2025-09-30 16:15:51,641 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:51] "GET /?filtro_codice=&filtro_nome=1470&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 16:15:56,596 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:15:56] "GET /scaricomerce HTTP/1.1" 200 -
2025-09-30 16:16:03,091 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:16:03] "GET /api/quantita_disponibile/14 HTTP/1.1" 200 -
2025-09-30 16:16:10,689 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:16:10] "[33mGET /api/quantita_disponibile/14/10B HTTP/1.1[0m" 404 -
2025-09-30 16:16:13,440 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:16:13] "[33mGET /api/quantita_disponibile/14/11B HTTP/1.1[0m" 404 -
2025-09-30 16:16:15,544 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:16:15] "[32mPOST /scaricomerce HTTP/1.1[0m" 302 -
2025-09-30 16:16:15,565 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:16:15] "GET /scaricomerce HTTP/1.1" 200 -
2025-09-30 16:16:16,651 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:16:16] "GET / HTTP/1.1" 200 -
2025-09-30 16:16:18,981 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 16:16:18] "GET /?filtro_codice=&filtro_nome=1470&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:10:38,179 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:10:38] "GET / HTTP/1.1" 200 -
2025-09-30 17:10:41,302 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:10:41] "GET /esporta_magazzino_xlsx HTTP/1.1" 200 -
2025-09-30 17:19:03,307 - werkzeug - INFO - 10.77.0.129 - - [30/Sep/2025 17:19:03] "GET /login HTTP/1.1" 200 -
2025-09-30 17:19:06,077 - werkzeug - INFO - 10.77.0.129 - - [30/Sep/2025 17:19:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-09-30 17:39:28,881 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:39:28] "GET /?filtro_codice=95803&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:39:37,074 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:39:37] "GET /movimento HTTP/1.1" 200 -
2025-09-30 17:39:43,452 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:39:43] "GET /api/ubicazioni/9 HTTP/1.1" 200 -
2025-09-30 17:39:49,404 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:39:49] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-30 17:39:49,425 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:39:49] "GET /movimento HTTP/1.1" 200 -
2025-09-30 17:39:50,902 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:39:50] "GET / HTTP/1.1" 200 -
2025-09-30 17:40:13,064 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:40:13] "GET /movimento HTTP/1.1" 200 -
2025-09-30 17:40:18,095 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:40:18] "GET /api/ubicazioni/9 HTTP/1.1" 200 -
2025-09-30 17:40:25,254 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:40:25] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-30 17:40:25,274 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:40:25] "GET /movimento HTTP/1.1" 200 -
2025-09-30 17:40:26,586 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:40:26] "GET / HTTP/1.1" 200 -
2025-09-30 17:40:36,051 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:40:36] "GET /?filtro_codice=94881&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:42:55,549 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:42:55] "GET /movimento HTTP/1.1" 200 -
2025-09-30 17:43:04,700 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:43:04] "GET /api/ubicazioni/16 HTTP/1.1" 200 -
2025-09-30 17:43:13,852 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:43:13] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-30 17:43:13,869 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:43:13] "GET /movimento HTTP/1.1" 200 -
2025-09-30 17:43:15,052 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:43:15] "GET / HTTP/1.1" 200 -
2025-09-30 17:43:21,953 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:43:21] "GET /?filtro_codice=95822&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:44:37,734 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:44:37] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:44:40,930 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:44:40] "GET /?filtro_codice=94910&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:44:49,239 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:44:49] "GET /movimento HTTP/1.1" 200 -
2025-09-30 17:44:52,567 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:44:52] "GET /scaricomerce HTTP/1.1" 200 -
2025-09-30 17:45:01,788 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:01] "[32mPOST /scaricomerce HTTP/1.1[0m" 302 -
2025-09-30 17:45:01,823 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:01] "GET /scaricomerce HTTP/1.1" 200 -
2025-09-30 17:45:08,924 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:08] "GET / HTTP/1.1" 200 -
2025-09-30 17:45:12,811 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:12] "GET /?filtro_codice=94910&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:45:17,192 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:17] "POST /modifica_giacenza/1779 HTTP/1.1" 200 -
2025-09-30 17:45:20,069 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:20] "POST /conferma_modifica_giacenza HTTP/1.1" 200 -
2025-09-30 17:45:20,134 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:20] "GET /?filtro_codice=94910&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:45:22,234 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:22] "[32mPOST /elimina_giacenza/2087 HTTP/1.1[0m" 302 -
2025-09-30 17:45:22,331 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:22] "GET / HTTP/1.1" 200 -
2025-09-30 17:45:25,356 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:25] "GET /?filtro_codice=94910&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:45:31,790 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:31] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:45:35,092 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:35] "GET /?filtro_codice=95637&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:45:58,801 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:45:58] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:46:03,900 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:46:03] "GET /?filtro_codice=&filtro_nome=C24&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:47:36,835 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:47:36] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:47:39,611 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:47:39] "GET /carico_merci HTTP/1.1" 200 -
2025-09-30 17:47:53,410 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:47:53] "[32mPOST /carico_merci HTTP/1.1[0m" 302 -
2025-09-30 17:47:53,429 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:47:53] "GET /carico_merci HTTP/1.1" 200 -
2025-09-30 17:47:54,521 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:47:54] "GET / HTTP/1.1" 200 -
2025-09-30 17:48:24,928 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:48:24] "GET /movimento HTTP/1.1" 200 -
2025-09-30 17:48:30,571 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:48:30] "GET /api/ubicazioni/67 HTTP/1.1" 200 -
2025-09-30 17:48:39,997 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:48:39] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-30 17:48:40,018 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:48:40] "GET /movimento HTTP/1.1" 200 -
2025-09-30 17:48:48,890 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:48:48] "GET /api/ubicazioni/84 HTTP/1.1" 200 -
2025-09-30 17:49:04,982 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:49:04] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-30 17:49:05,002 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:49:05] "GET /movimento HTTP/1.1" 200 -
2025-09-30 17:49:06,284 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:49:06] "GET / HTTP/1.1" 200 -
2025-09-30 17:49:13,577 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:49:13] "GET /movimento HTTP/1.1" 200 -
2025-09-30 17:49:22,488 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:49:22] "GET /api/ubicazioni/90 HTTP/1.1" 200 -
2025-09-30 17:49:34,067 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:49:34] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-09-30 17:49:34,090 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:49:34] "GET /movimento HTTP/1.1" 200 -
2025-09-30 17:49:35,311 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:49:35] "GET / HTTP/1.1" 200 -
2025-09-30 17:50:00,854 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:50:00] "GET /?filtro_codice=95637&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:54:26,088 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:54:26] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-09-30 17:54:29,369 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:54:29] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=CLEMENTI HTTP/1.1" 200 -
2025-09-30 17:55:28,673 - werkzeug - INFO - 10.77.0.134 - - [30/Sep/2025 17:55:28] "GET /logmovimenti HTTP/1.1" 200 -
2025-10-01 09:07:17,564 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 09:07:17] "[32mGET / HTTP/1.1[0m" 302 -
2025-10-01 09:07:18,550 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 09:07:18] "GET /login HTTP/1.1" 200 -
2025-10-01 09:07:19,164 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 09:07:19] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-10-01 09:07:39,937 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 09:07:39] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-10-01 09:07:40,027 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 09:07:40] "GET / HTTP/1.1" 200 -
2025-10-01 09:26:58,848 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 09:26:58] "GET /?filtro_codice=&filtro_nome=geforce&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 09:27:02,827 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 09:27:02] "GET /movimento HTTP/1.1" 200 -
2025-10-01 09:27:09,583 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 09:27:09] "GET /api/ubicazioni/98 HTTP/1.1" 200 -
2025-10-01 09:27:18,757 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 09:27:18] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-10-01 09:27:18,775 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 09:27:18] "GET /movimento HTTP/1.1" 200 -
2025-10-01 09:27:20,157 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 09:27:20] "GET / HTTP/1.1" 200 -
2025-10-01 10:00:26,263 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:00:26] "[32mGET / HTTP/1.1[0m" 302 -
2025-10-01 10:00:26,322 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:00:26] "GET /login HTTP/1.1" 200 -
2025-10-01 10:00:27,897 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:00:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-10-01 10:00:29,758 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:00:29] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-10-01 10:00:29,886 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:00:29] "GET / HTTP/1.1" 200 -
2025-10-01 10:00:39,500 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:00:39] "GET /?filtro_codice=&filtro_nome=Router&filtro_stato= HTTP/1.1" 200 -
2025-10-01 10:00:47,383 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:00:47] "GET / HTTP/1.1" 200 -
2025-10-01 10:00:47,425 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:00:47] "[33mGET /url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&disp HTTP/1.1[0m" 404 -
2025-10-01 10:15:15,262 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:15:15] "[32mGET / HTTP/1.1[0m" 302 -
2025-10-01 10:15:15,283 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:15:15] "GET /login HTTP/1.1" 200 -
2025-10-01 10:15:18,674 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:15:18] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-10-01 10:21:48,763 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:21:48] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=laboratorio&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:23:20,694 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:23:20] "GET /login HTTP/1.1" 200 -
2025-10-01 10:23:21,716 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:23:21] "GET /login HTTP/1.1" 200 -
2025-10-01 10:23:22,085 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:23:22] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-10-01 10:23:24,148 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:23:24] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-10-01 10:23:24,240 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:23:24] "GET / HTTP/1.1" 200 -
2025-10-01 10:23:35,612 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:23:35] "GET /logmovimenti HTTP/1.1" 200 -
2025-10-01 10:23:36,110 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:23:36] "GET /movimento HTTP/1.1" 200 -
2025-10-01 10:23:47,067 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:23:47] "GET /api/ubicazioni/164 HTTP/1.1" 200 -
2025-10-01 10:23:58,696 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:23:58] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-10-01 10:23:58,714 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:23:58] "GET /movimento HTTP/1.1" 200 -
2025-10-01 10:24:08,162 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:24:08] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=baia_uscita&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:24:26,892 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:24:26] "GET /api/ubicazioni/60 HTTP/1.1" 200 -
2025-10-01 10:24:36,800 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:24:36] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-10-01 10:24:36,824 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:24:36] "GET /movimento HTTP/1.1" 200 -
2025-10-01 10:24:41,694 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:24:41] "GET /api/ubicazioni/60 HTTP/1.1" 200 -
2025-10-01 10:24:52,096 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:24:52] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-10-01 10:24:52,121 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:24:52] "GET /movimento HTTP/1.1" 200 -
2025-10-01 10:25:08,569 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:25:08] "GET /api/ubicazioni/16 HTTP/1.1" 200 -
2025-10-01 10:25:13,251 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:25:13] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-10-01 10:25:13,268 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:25:13] "GET /movimento HTTP/1.1" 200 -
2025-10-01 10:25:27,857 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:25:27] "GET /api/ubicazioni/14 HTTP/1.1" 200 -
2025-10-01 10:25:35,703 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:25:35] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-10-01 10:25:35,726 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:25:35] "GET /movimento HTTP/1.1" 200 -
2025-10-01 10:25:44,955 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:25:44] "GET /api/ubicazioni/36 HTTP/1.1" 200 -
2025-10-01 10:25:53,610 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:25:53] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-10-01 10:25:53,633 - werkzeug - INFO - 10.77.0.106 - - [01/Oct/2025 10:25:53] "GET /movimento HTTP/1.1" 200 -
2025-10-01 10:29:16,999 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:29:16] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=laboratorio&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:29:28,705 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:29:28] "[32mPOST /modifica_giacenza/1889 HTTP/1.1[0m" 302 -
2025-10-01 10:29:28,795 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:29:28] "GET / HTTP/1.1" 200 -
2025-10-01 10:29:28,841 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:29:28] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=laboratorio&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:29:49,942 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:29:49] "GET /movimento HTTP/1.1" 200 -
2025-10-01 10:29:59,059 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:29:59] "GET /api/ubicazioni/67 HTTP/1.1" 200 -
2025-10-01 10:30:02,555 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:30:02] "GET / HTTP/1.1" 200 -
2025-10-01 10:30:05,372 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:30:05] "GET /?filtro_codice=&filtro_nome=TS&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:31:11,658 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:31:11] "GET /rientro_merce HTTP/1.1" 200 -
2025-10-01 10:31:30,395 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:31:30] "GET / HTTP/1.1" 200 -
2025-10-01 10:31:35,548 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:31:35] "GET /?filtro_codice=&filtro_nome=TS&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:31:59,038 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:31:59] "[32mPOST /modifica_giacenza/2089 HTTP/1.1[0m" 302 -
2025-10-01 10:31:59,132 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:31:59] "GET / HTTP/1.1" 200 -
2025-10-01 10:31:59,180 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:31:59] "GET /?filtro_codice=&filtro_nome=TS&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:32:01,498 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:32:01] "GET /movimento HTTP/1.1" 200 -
2025-10-01 10:32:06,860 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:32:06] "GET /api/ubicazioni/67 HTTP/1.1" 200 -
2025-10-01 10:32:17,492 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:32:17] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-10-01 10:32:17,515 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:32:17] "GET /movimento HTTP/1.1" 200 -
2025-10-01 10:32:19,191 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:32:19] "GET / HTTP/1.1" 200 -
2025-10-01 10:32:21,273 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:32:21] "GET /?filtro_codice=&filtro_nome=ts&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:34:23,508 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:34:23] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:34:34,580 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:34:34] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=9a&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:34:38,632 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:34:38] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:34:44,379 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:34:44] "GET /?filtro_codice=&filtro_nome=ts-m&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:36:16,385 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:36:16] "[32mGET / HTTP/1.1[0m" 302 -
2025-10-01 10:36:16,472 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:36:16] "GET /login HTTP/1.1" 200 -
2025-10-01 10:36:18,005 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:36:18] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-10-01 10:36:19,887 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:36:19] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-10-01 10:36:19,990 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:36:19] "GET / HTTP/1.1" 200 -
2025-10-01 10:36:31,015 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:36:31] "GET /?filtro_codice=&filtro_nome=Ts&filtro_stato= HTTP/1.1" 200 -
2025-10-01 10:38:29,816 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:38:29] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:39:47,032 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:39:47] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=campisi HTTP/1.1" 200 -
2025-10-01 10:42:18,481 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:42:18] "GET / HTTP/1.1" 200 -
2025-10-01 10:42:24,482 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:42:24] "GET /?filtro_codice=&filtro_nome=ts-m&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:42:32,251 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:42:32] "GET /movimento HTTP/1.1" 200 -
2025-10-01 10:42:43,394 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:42:43] "GET /api/ubicazioni/79 HTTP/1.1" 200 -
2025-10-01 10:42:53,827 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:42:53] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:42:54,571 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:42:54] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-10-01 10:42:54,596 - werkzeug - INFO - 10.77.0.100 - - [01/Oct/2025 10:42:54] "GET /movimento HTTP/1.1" 200 -
2025-10-01 10:42:58,765 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:42:58] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=in_preparazione&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:43:07,166 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:43:07] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:43:10,238 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:43:10] "GET /?filtro_codice=&filtro_nome=neo&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:43:21,916 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:43:21] "[32mPOST /modifica_giacenza/2048 HTTP/1.1[0m" 302 -
2025-10-01 10:43:22,004 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:43:22] "GET / HTTP/1.1" 200 -
2025-10-01 10:43:22,065 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:43:22] "GET /?filtro_codice=&filtro_nome=neo&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:43:32,796 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:43:32] "[32mPOST /modifica_giacenza/2064 HTTP/1.1[0m" 302 -
2025-10-01 10:43:32,891 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:43:32] "GET / HTTP/1.1" 200 -
2025-10-01 10:43:32,935 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:43:32] "GET /?filtro_codice=&filtro_nome=neo&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:43:44,544 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:43:44] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:43:47,936 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:43:47] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=clementi HTTP/1.1" 200 -
2025-10-01 10:44:22,484 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:44:22] "GET /?filtro_codice=&filtro_nome=ts-m&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:44:29,558 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:44:29] "GET /?filtro_codice=&filtro_nome=ts-neo&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:44:40,127 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:44:40] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:44:45,286 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:44:45] "GET /?filtro_codice=&filtro_nome=neo&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:45:05,405 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:45:05] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:50:07,592 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:50:07] "GET /?filtro_codice=95637&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:50:39,060 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:50:39] "[32mPOST /elimina_giacenza/1992 HTTP/1.1[0m" 302 -
2025-10-01 10:50:39,192 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:50:39] "GET / HTTP/1.1" 200 -
2025-10-01 10:50:42,537 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:50:42] "GET /?filtro_codice=95637&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:51:33,903 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:51:33] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:51:37,564 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:51:37] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=legnani HTTP/1.1" 200 -
2025-10-01 10:51:51,263 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:51:51] "GET / HTTP/1.1" 200 -
2025-10-01 10:52:25,386 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:52:25] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=laffranchi HTTP/1.1" 200 -
2025-10-01 10:54:05,392 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:54:05] "GET /?filtro_codice=95637&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:54:26,939 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:54:26] "POST /modifica_giacenza/2056 HTTP/1.1" 200 -
2025-10-01 10:54:33,681 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:54:33] "GET /carico_merci HTTP/1.1" 200 -
2025-10-01 10:54:42,280 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:54:42] "[32mPOST /carico_merci HTTP/1.1[0m" 302 -
2025-10-01 10:54:42,298 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:54:42] "GET /carico_merci HTTP/1.1" 200 -
2025-10-01 10:54:43,702 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:54:43] "GET / HTTP/1.1" 200 -
2025-10-01 10:54:47,367 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:54:47] "GET /?filtro_codice=95637&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:54:52,145 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:54:52] "POST /modifica_giacenza/2056 HTTP/1.1" 200 -
2025-10-01 10:54:54,847 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:54:54] "POST /conferma_modifica_giacenza HTTP/1.1" 200 -
2025-10-01 10:54:54,903 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:54:54] "GET /?filtro_codice=95637&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:55:01,420 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:55:01] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 10:55:04,650 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 10:55:04] "GET /?filtro_codice=&filtro_nome=ts&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 12:10:08,930 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:10:08] "GET /?filtro_codice=&filtro_nome=ts&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=milano HTTP/1.1" 200 -
2025-10-01 12:10:12,766 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:10:12] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 12:10:15,615 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:10:15] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=milano HTTP/1.1" 200 -
2025-10-01 12:24:18,309 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:24:18] "GET / HTTP/1.1" 200 -
2025-10-01 12:24:22,425 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:24:22] "GET /?filtro_codice=&filtro_nome=ts-m&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 12:24:38,419 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:24:38] "[32mPOST /modifica_giacenza/1502 HTTP/1.1[0m" 302 -
2025-10-01 12:24:38,517 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:24:38] "GET / HTTP/1.1" 200 -
2025-10-01 12:24:38,560 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:24:38] "GET /?filtro_codice=&filtro_nome=ts-m&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 12:37:52,121 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:37:52] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 12:38:06,123 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:38:06] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=clementi HTTP/1.1" 200 -
2025-10-01 12:45:55,734 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:45:55] "GET /scarico_merce_non_in_magazzino HTTP/1.1" 200 -
2025-10-01 12:45:58,577 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:45:58] "GET /scarico_merce_non_in_magazzino?filtro_stato=&filtro_note=clementi HTTP/1.1" 200 -
2025-10-01 12:46:02,538 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:46:02] "[32mPOST /scarico_merce_non_in_magazzino HTTP/1.1[0m" 302 -
2025-10-01 12:46:02,554 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:46:02] "GET /scarico_merce_non_in_magazzino?filtro_stato=&filtro_note=clementi HTTP/1.1" 200 -
2025-10-01 12:46:03,743 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:46:03] "GET / HTTP/1.1" 200 -
2025-10-01 12:53:20,147 - werkzeug - INFO - 10.77.0.134 - - [01/Oct/2025 12:53:20] "GET /?filtro_codice=&filtro_nome=c24&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 14:13:33,296 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:13:33] "GET /login HTTP/1.1" 200 -
2025-10-01 14:13:33,580 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:13:33] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-10-01 14:13:37,782 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:13:37] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-10-01 14:13:37,878 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:13:37] "GET / HTTP/1.1" 200 -
2025-10-01 14:13:41,844 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:13:41] "GET /?filtro_codice=&filtro_nome=Neo&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 14:15:48,966 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:15:48] "GET /movimento HTTP/1.1" 200 -
2025-10-01 14:16:10,309 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:16:10] "GET /api/ubicazioni/11 HTTP/1.1" 200 -
2025-10-01 14:16:58,979 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:16:58] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-10-01 14:16:59,000 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:16:59] "GET /movimento HTTP/1.1" 200 -
2025-10-01 14:20:05,553 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:20:05] "GET / HTTP/1.1" 200 -
2025-10-01 14:20:29,113 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:20:29] "GET /?filtro_codice=&filtro_nome=Honeywell&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note= HTTP/1.1" 200 -
2025-10-01 14:20:35,682 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:20:35] "GET /rientro_merce HTTP/1.1" 200 -
2025-10-01 14:20:49,064 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:20:49] "[32mPOST /rientro_merce HTTP/1.1[0m" 302 -
2025-10-01 14:20:49,102 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:20:49] "GET /rientro_merce HTTP/1.1" 200 -
2025-10-01 14:20:50,913 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:20:50] "GET /movimento HTTP/1.1" 200 -
2025-10-01 14:21:03,527 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:21:03] "GET / HTTP/1.1" 200 -
2025-10-01 14:21:10,511 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:21:10] "GET /?filtro_codice=&filtro_nome=&filtro_magazzino=&filtro_stato=&filtro_ubicazione=&filtro_note=catan HTTP/1.1" 200 -
2025-10-01 14:21:43,915 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:21:43] "GET /movimento HTTP/1.1" 200 -
2025-10-01 14:21:57,004 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:21:57] "GET /api/ubicazioni/22 HTTP/1.1" 200 -
2025-10-01 14:22:05,201 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:22:05] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-10-01 14:22:05,223 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:22:05] "GET /movimento HTTP/1.1" 200 -
2025-10-01 14:22:07,286 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 14:22:07] "GET / HTTP/1.1" 200 -
2025-10-01 15:45:27,034 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:45:27] "GET /login HTTP/1.1" 200 -
2025-10-01 15:45:28,225 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:45:28] "[33mGET /apple-touch-icon-precomposed.png HTTP/1.1[0m" 404 -
2025-10-01 15:45:28,232 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:45:28] "[33mGET /apple-touch-icon.png HTTP/1.1[0m" 404 -
2025-10-01 15:45:28,233 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:45:28] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-10-01 15:45:31,190 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:45:31] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-10-01 15:45:31,321 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:45:31] "GET / HTTP/1.1" 200 -
2025-10-01 15:45:32,461 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:45:32] "[33mGET /apple-touch-icon-precomposed.png HTTP/1.1[0m" 404 -
2025-10-01 15:45:32,469 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:45:32] "[33mGET /apple-touch-icon.png HTTP/1.1[0m" 404 -
2025-10-01 15:45:32,473 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:45:32] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-10-01 15:45:34,065 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:45:34] "GET /movimento HTTP/1.1" 200 -
2025-10-01 15:45:42,660 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:45:42] "GET /api/ubicazioni/11 HTTP/1.1" 200 -
2025-10-01 15:47:21,416 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:47:21] "[32mPOST /movimento HTTP/1.1[0m" 302 -
2025-10-01 15:47:21,467 - werkzeug - INFO - 10.77.0.66 - - [01/Oct/2025 15:47:21] "GET /movimento HTTP/1.1" 200 -
2025-10-01 16:58:51,688 - werkzeug - INFO - 10.77.0.61 - - [01/Oct/2025 16:58:51] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-11-25 11:05:06,104 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2025-11-25 11:05:06,118 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2025-11-25 11:05:06,119 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2025-11-25 11:05:06,120 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2025-11-25 11:05:06,122 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 248
2025-11-25 11:05:06,122 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-11-25 11:05:06,123 - magazzino_reconciliation - INFO -   Riga 1: 'PHARMAGEST - ESPORTAZIONE MAGAZZINO'
2025-11-25 11:05:06,126 - magazzino_reconciliation - INFO -   Riga 2: 'Data esportazione: 29/10/2025 17:49'
2025-11-25 11:05:06,127 - magazzino_reconciliation - INFO -   Riga 3: ''
2025-11-25 11:05:06,127 - magazzino_reconciliation - INFO -   Riga 4: 'Codice        Prodotto                        Magazzino           Ubicazione        Stato         Quantità  Note'
2025-11-25 11:05:06,128 - magazzino_reconciliation - INFO -   Riga 5: '------------------------------------------------------------------------------------------------------------------------------------------------------'
2025-11-25 11:05:06,133 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_27_Grossisti line 91: '95413         ETICHETTE_ELETTRONICHE_ID.TAG_  farmacia            -                 baia_uscita         42  *Luparelli guaste da smaltire'
2025-11-25 11:05:06,133 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_27_Grossisti line 92: '95413         ETICHETTE_ELETTRONICHE_ID.TAG_  farmacia            15A               in_magazzino      1203'
2025-11-25 11:05:06,139 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2025-11-25 11:05:06,141 - magazzino_reconciliation - INFO -   Righe processate: 245
2025-11-25 11:05:06,142 - magazzino_reconciliation - INFO -   Match pattern originale: 0
2025-11-25 11:05:06,143 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-11-25 11:05:06,143 - magazzino_reconciliation - INFO -   Prodotti estratti: 0
2025-11-25 11:05:06,144 - magazzino_reconciliation - WARNING - Magazzino_27_Grossisti: nessun prodotto estratto
2025-11-25 11:05:06,145 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2025-11-25 11:05:06,145 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2025-11-25 11:05:06,146 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 248
2025-11-25 11:05:06,147 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2025-11-25 11:05:06,147 - magazzino_reconciliation - INFO -   Riga 1: 'PHARMAGEST - ESPORTAZIONE MAGAZZINO'
2025-11-25 11:05:06,148 - magazzino_reconciliation - INFO -   Riga 2: 'Data esportazione: 31/10/2025 10:15'
2025-11-25 11:05:06,148 - magazzino_reconciliation - INFO -   Riga 3: ''
2025-11-25 11:05:06,149 - magazzino_reconciliation - INFO -   Riga 4: 'Codice        Prodotto                        Magazzino           Ubicazione        Stato         Quantità  Note'
2025-11-25 11:05:06,149 - magazzino_reconciliation - INFO -   Riga 5: '------------------------------------------------------------------------------------------------------------------------------------------------------'
2025-11-25 11:05:06,150 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 91: '95413         ETICHETTE_ELETTRONICHE_ID.TAG_  farmacia            -                 baia_uscita         42  *Luparelli guaste da smaltire'
2025-11-25 11:05:06,151 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 92: '95413         ETICHETTE_ELETTRONICHE_ID.TAG_  farmacia            15A               in_magazzino      1203'
2025-11-25 11:05:06,156 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2025-11-25 11:05:06,157 - magazzino_reconciliation - INFO -   Righe processate: 245
2025-11-25 11:05:06,157 - magazzino_reconciliation - INFO -   Match pattern originale: 0
2025-11-25 11:05:06,158 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2025-11-25 11:05:06,158 - magazzino_reconciliation - INFO -   Prodotti estratti: 0
2025-11-25 11:05:06,159 - magazzino_reconciliation - WARNING - Magazzino_28_Deposito: nessun prodotto estratto
2025-11-25 11:05:06,159 - magazzino_reconciliation - INFO - AS400 unificato: 0 prodotti totali
2025-11-25 11:05:06,159 - magazzino_reconciliation - INFO - Parsing export WebApp
2025-11-25 11:05:06,161 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 248
2025-11-25 11:05:06,161 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 242
2025-11-25 11:05:06,162 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2025-11-25 11:05:06,163 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2025-11-25 11:05:06,163 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2025-11-25 11:05:06,164 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2025-11-25 11:05:06,165 - magazzino_reconciliation - INFO - DEBUG 94906: riga_completa='94906         MULTIMEDS_-_KIT_DI_PREPARAZIONE farmacia            6B                in_magazzino        33  VENDIBILI SOLO 25'
2025-11-25 11:05:06,165 - magazzino_reconciliation - INFO - DEBUG 94906: words=['94906', 'MULTIMEDS_-_KIT_DI_PREPARAZIONE', 'farmacia', '6B', 'in_magazzino', '33', 'VENDIBILI', 'SOLO', '25']
2025-11-25 11:05:06,166 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2025-11-25 11:05:06,167 - magazzino_reconciliation - INFO - DEBUG 94964: riga_completa='94964         MINI_TASTIERA_ACK_RF420_WIRELES farmacia            9C                in_magazzino         1'
2025-11-25 11:05:06,168 - magazzino_reconciliation - INFO - DEBUG 94964: words=['94964', 'MINI_TASTIERA_ACK_RF420_WIRELES', 'farmacia', '9C', 'in_magazzino', '1']
2025-11-25 11:05:06,169 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2025-11-25 11:05:06,173 - magazzino_reconciliation - INFO - DEBUG 95592: riga_completa='95592         DISCO_KINGSTONE_480GB_SSD       farmacia            9B                in_magazzino         3  1 pz ha l'imballo riciclato'
2025-11-25 11:05:06,174 - magazzino_reconciliation - INFO - DEBUG 95592: words=['95592', 'DISCO_KINGSTONE_480GB_SSD', 'farmacia', '9B', 'in_magazzino', '3', '1', 'pz', 'ha', "l'imballo", 'riciclato']
2025-11-25 11:05:06,175 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], qty_finale=3
2025-11-25 11:05:06,176 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1A                in_magazzino        18'
2025-11-25 11:05:06,176 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1A', 'in_magazzino', '18']
2025-11-25 11:05:06,177 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 18)], qty_finale=18
2025-11-25 11:05:06,177 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1C                in_magazzino        11'
2025-11-25 11:05:06,178 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1C', 'in_magazzino', '11']
2025-11-25 11:05:06,179 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 11)], qty_finale=11
2025-11-25 11:05:06,192 - magazzino_reconciliation - INFO - WebApp parsing completato:
2025-11-25 11:05:06,193 - magazzino_reconciliation - INFO -   - Righe processate: 242
2025-11-25 11:05:06,193 - magazzino_reconciliation - INFO -   - Righe valide: 242
2025-11-25 11:05:06,193 - magazzino_reconciliation - INFO -   - Prodotti estratti: 242
2025-11-25 11:05:06,194 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2025-11-25 11:05:06,250 - magazzino_reconciliation - INFO - Aggregati in 135 prodotti unici
2025-11-25 11:05:06,250 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2025-11-25 11:05:06,251 - magazzino_reconciliation - INFO - Input AS400: 0 righe
2025-11-25 11:05:06,251 - magazzino_reconciliation - INFO - Input WebApp: 135 righe
2025-11-25 11:05:06,253 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2025-11-25 11:05:06,254 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2025-11-25 11:05:06,255 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2025-11-25 11:05:06,256 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2025-11-25 11:05:06,265 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2025-11-25 11:05:06,265 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2025-11-25 11:05:06,273 - magazzino_reconciliation - INFO - Dopo merge: 135 righe
2025-11-25 11:05:06,280 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 0
2025-11-25 11:05:06,293 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 0, WebApp total: 2661
2025-11-25 11:05:06,294 - magazzino_reconciliation - INFO - Riconciliazione completata: 135 prodotti analizzati
2025-11-25 11:05:06,296 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2025-11-25 11:05:06,297 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 0
2025-11-25 11:05:06,297 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 135
2025-11-25 11:05:06,297 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 0
2025-11-25 11:05:06,302 - magazzino_reconciliation - INFO - Top 10 differenze: {1: 34, 2: 18, 3: 12, 4: 11, 6: 6, 10: 6, 12: 5, 5: 5, 19: 3, 33: 2}
2025-11-25 11:05:06,304 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:0, WebApp:1245, Diff:1245)
2025-11-25 11:05:06,319 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20251125_110506.csv
2025-11-25 11:05:06,320 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2025-11-25 11:05:06,326 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:06] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2025-11-25 11:05:13,461 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:13] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:05:43,769 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:43] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:05:46,216 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:46] "GET /carico_merci HTTP/1.1" 200 -
2025-11-25 11:05:46,502 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:46] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2025-11-25 11:05:46,907 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:46] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:05:49,922 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:49] "GET /logscarico HTTP/1.1" 200 -
2025-11-25 11:05:50,147 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:50] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2025-11-25 11:05:51,095 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:51] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:05:51,658 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:51] "GET /logmovimenti HTTP/1.1" 200 -
2025-11-25 11:05:51,794 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:51] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2025-11-25 11:05:52,496 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:52] "GET /movimento HTTP/1.1" 200 -
2025-11-25 11:05:52,539 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:52] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2025-11-25 11:05:52,703 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:52] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:05:54,817 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:54] "GET / HTTP/1.1" 200 -
2025-11-25 11:05:54,851 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:54] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2025-11-25 11:05:55,809 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:05:55] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:06:26,134 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:06:26] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:06:55,820 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:06:55] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:07:26,131 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:07:26] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:07:55,820 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:07:55] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:08:26,137 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:08:26] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:08:55,827 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:08:55] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:09:26,128 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:09:26] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:09:55,826 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:09:55] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:10:26,138 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:10:26] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:10:55,823 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:10:55] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:11:26,127 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:11:26] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:11:53,674 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:11:53] "GET /logscarico HTTP/1.1" 200 -
2025-11-25 11:11:53,939 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:11:53] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2025-11-25 11:11:54,909 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:11:54] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:12:01,459 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:12:01] "GET /logmovimenti HTTP/1.1" 200 -
2025-11-25 11:12:01,655 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:12:01] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2025-11-25 11:12:03,258 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:12:03] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:12:33,647 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:12:33] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:13:03,953 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:13:03] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:13:33,641 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:13:33] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:14:03,956 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:14:03] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:14:33,637 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:14:33] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:15:03,955 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:15:03] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:15:33,638 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:15:33] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:16:14,950 - werkzeug - INFO - 127.0.0.1 - - [25/Nov/2025 11:16:14] "GET /notifications HTTP/1.1" 200 -
2025-11-25 11:16:39,380 - werkzeug - INFO -  * Detected change in 'C:\\magazzino_webapp\\app.py', reloading
2026-01-07 09:23:39,215 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2026-01-07 09:23:39,230 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti', 'Magazzino_28_Deposito']
2026-01-07 09:23:39,230 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2026-01-07 09:23:39,230 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2026-01-07 09:23:39,231 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2026-01-07 09:23:39,231 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2026-01-07 09:23:39,232 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.12.25 Ora 15:21:01 Pag.   1'
2026-01-07 09:23:39,232 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2026-01-07 09:23:39,232 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2026-01-07 09:23:39,233 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2026-01-07 09:23:39,233 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2026-01-07 09:23:39,246 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2026-01-07 09:23:39,247 - magazzino_reconciliation - INFO -   Righe processate: 46
2026-01-07 09:23:39,247 - magazzino_reconciliation - INFO -   Match pattern originale: 0
2026-01-07 09:23:39,247 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2026-01-07 09:23:39,248 - magazzino_reconciliation - INFO -   Prodotti estratti: 0
2026-01-07 09:23:39,248 - magazzino_reconciliation - WARNING - Magazzino_27_Grossisti: nessun prodotto estratto
2026-01-07 09:23:39,248 - magazzino_reconciliation - INFO - Processando Magazzino_28_Deposito...
2026-01-07 09:23:39,248 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2026-01-07 09:23:39,249 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 47
2026-01-07 09:23:39,249 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2026-01-07 09:23:39,249 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.12.25 Ora 15:21:01 Pag.   1'
2026-01-07 09:23:39,250 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2026-01-07 09:23:39,250 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2026-01-07 09:23:39,250 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2026-01-07 09:23:39,251 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2026-01-07 09:23:39,262 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2026-01-07 09:23:39,262 - magazzino_reconciliation - INFO -   Righe processate: 46
2026-01-07 09:23:39,263 - magazzino_reconciliation - INFO -   Match pattern originale: 0
2026-01-07 09:23:39,263 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2026-01-07 09:23:39,263 - magazzino_reconciliation - INFO -   Prodotti estratti: 0
2026-01-07 09:23:39,263 - magazzino_reconciliation - WARNING - Magazzino_28_Deposito: nessun prodotto estratto
2026-01-07 09:23:39,264 - magazzino_reconciliation - INFO - AS400 unificato: 0 prodotti totali
2026-01-07 09:23:39,264 - magazzino_reconciliation - INFO - Parsing export WebApp
2026-01-07 09:23:39,266 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 979
2026-01-07 09:23:39,267 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 979
2026-01-07 09:23:39,267 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2026-01-07 09:23:39,267 - magazzino_reconciliation - INFO -   Riga 1: 'Nome Prodotto,Movimento,Quantità,Ubicazione,Note,Data,Utente...' se lunga
2026-01-07 09:23:39,268 - magazzino_reconciliation - INFO -   Riga 2: '"TASTIERA_E_MOUSE_LENOVO_WIRELESS","Scarico","1","NA","Tipo scarico: NON_IN_MAGAZZINO - lorenzo","26...' se lunga
2026-01-07 09:23:39,268 - magazzino_reconciliation - INFO -   Riga 3: '"THINKCENTRE_NEO_50Q","Scarico","1","NA","Tipo scarico: NON_IN_MAGAZZINO - Libarna (GUASTO)","26/11/...' se lunga
2026-01-07 09:23:39,272 - magazzino_reconciliation - INFO - WebApp parsing completato:
2026-01-07 09:23:39,273 - magazzino_reconciliation - INFO -   - Righe processate: 979
2026-01-07 09:23:39,273 - magazzino_reconciliation - INFO -   - Righe valide: 0
2026-01-07 09:23:39,274 - magazzino_reconciliation - INFO -   - Prodotti estratti: 0
2026-01-07 09:23:39,274 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2026-01-07 09:23:39,280 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2026-01-07 09:23:39,280 - magazzino_reconciliation - INFO - Input AS400: 0 righe
2026-01-07 09:23:39,280 - magazzino_reconciliation - INFO - Input WebApp: 0 righe
2026-01-07 09:23:39,281 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2026-01-07 09:23:39,281 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:23:39] "[35m[1mPOST /api/reconcile-warehouse HTTP/1.1[0m" 500 -
2026-01-07 09:23:46,923 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:23:46] "GET / HTTP/1.1" 200 -
2026-01-07 09:23:46,963 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:23:46] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:23:49,955 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:23:49] "GET /esporta_magazzino_xlsx HTTP/1.1" 200 -
2026-01-07 09:23:52,766 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:23:52] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2026-01-07 09:23:52,823 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:23:52] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:24:34,638 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:24:34] "[35m[1mPOST /api/reconcile-warehouse HTTP/1.1[0m" 500 -
2026-01-07 09:24:40,488 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:24:40] "GET / HTTP/1.1" 200 -
2026-01-07 09:24:40,541 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:24:40] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:24:41,968 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:24:41] "GET /esporta_magazzino HTTP/1.1" 200 -
2026-01-07 09:24:44,993 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:24:44] "GET /warehouse-reconciliation HTTP/1.1" 200 -
2026-01-07 09:24:45,051 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:24:45] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:24:50,438 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE COMPLETA MAGAZZINI
2026-01-07 09:24:50,440 - magazzino_reconciliation - INFO - File AS400 da processare: ['Magazzino_27_Grossisti']
2026-01-07 09:24:50,440 - magazzino_reconciliation - INFO - Processando Magazzino_27_Grossisti...
2026-01-07 09:24:50,441 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2026-01-07 09:24:50,441 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2026-01-07 09:24:50,442 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2026-01-07 09:24:50,443 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 25 ***        Martedi 30.12.25 Ora 15:21:01 Pag.   1'
2026-01-07 09:24:50,443 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2026-01-07 09:24:50,444 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2026-01-07 09:24:50,444 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2026-01-07 09:24:50,444 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2026-01-07 09:24:50,462 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2026-01-07 09:24:50,462 - magazzino_reconciliation - INFO -   Righe processate: 46
2026-01-07 09:24:50,463 - magazzino_reconciliation - INFO -   Match pattern originale: 0
2026-01-07 09:24:50,463 - magazzino_reconciliation - INFO -   Match pattern alternativo: 0
2026-01-07 09:24:50,463 - magazzino_reconciliation - INFO -   Prodotti estratti: 0
2026-01-07 09:24:50,463 - magazzino_reconciliation - WARNING - Magazzino_27_Grossisti: nessun prodotto estratto
2026-01-07 09:24:50,464 - magazzino_reconciliation - INFO - AS400 unificato: 0 prodotti totali
2026-01-07 09:24:50,464 - magazzino_reconciliation - INFO - Parsing export WebApp
2026-01-07 09:24:50,465 - magazzino_reconciliation - INFO - File WebApp - Righe totali: 223
2026-01-07 09:24:50,466 - magazzino_reconciliation - INFO - File WebApp - Righe di dati (senza header): 217
2026-01-07 09:24:50,466 - magazzino_reconciliation - INFO - Prime 3 righe di dati:
2026-01-07 09:24:50,466 - magazzino_reconciliation - INFO -   Riga 1: '245           SCANNER_MANUALE_CANON_DR-M140   farmacia            10D               in_magazzino    ...' se lunga
2026-01-07 09:24:50,466 - magazzino_reconciliation - INFO -   Riga 2: '564           SCHEDA_SERIALE_2_PORTE_PCI      farmacia            9B                in_magazzino    ...' se lunga
2026-01-07 09:24:50,467 - magazzino_reconciliation - INFO -   Riga 3: '94308         CASSETTE_ULTRIUM_LTO            grossisti           9D                in_magazzino    ...' se lunga
2026-01-07 09:24:50,467 - magazzino_reconciliation - INFO - DEBUG 94906: riga_completa='94906         MULTIMEDS_-_KIT_DI_PREPARAZIONE farmacia            6B                in_magazzino        33  VENDIBILI SOLO 25'
2026-01-07 09:24:50,467 - magazzino_reconciliation - INFO - DEBUG 94906: words=['94906', 'MULTIMEDS_-_KIT_DI_PREPARAZIONE', 'farmacia', '6B', 'in_magazzino', '33', 'VENDIBILI', 'SOLO', '25']
2026-01-07 09:24:50,468 - magazzino_reconciliation - INFO - DEBUG 94906: tutti_numeri=[(5, 33), (8, 25)], qty_finale=33
2026-01-07 09:24:50,469 - magazzino_reconciliation - INFO - DEBUG 94964: riga_completa='94964         MINI_TASTIERA_ACK_RF420_WIRELES farmacia            9C                in_magazzino         1'
2026-01-07 09:24:50,469 - magazzino_reconciliation - INFO - DEBUG 94964: words=['94964', 'MINI_TASTIERA_ACK_RF420_WIRELES', 'farmacia', '9C', 'in_magazzino', '1']
2026-01-07 09:24:50,470 - magazzino_reconciliation - INFO - DEBUG 94964: tutti_numeri=[(5, 1)], qty_finale=1
2026-01-07 09:24:50,472 - magazzino_reconciliation - INFO - DEBUG 95592: riga_completa='95592         DISCO_KINGSTONE_480GB_SSD       farmacia            9B                in_magazzino         3  1 pz ha l'imballo riciclato'
2026-01-07 09:24:50,472 - magazzino_reconciliation - INFO - DEBUG 95592: words=['95592', 'DISCO_KINGSTONE_480GB_SSD', 'farmacia', '9B', 'in_magazzino', '3', '1', 'pz', 'ha', "l'imballo", 'riciclato']
2026-01-07 09:24:50,473 - magazzino_reconciliation - INFO - DEBUG 95592: tutti_numeri=[(5, 3), (6, 1)], qty_finale=3
2026-01-07 09:24:50,474 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1A                in_magazzino        18'
2026-01-07 09:24:50,475 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1A', 'in_magazzino', '18']
2026-01-07 09:24:50,475 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 18)], qty_finale=18
2026-01-07 09:24:50,476 - magazzino_reconciliation - INFO - DEBUG 95774: riga_completa='95774         CARICABATTERIE_4_POS._PLUS_95_2 grossisti           1C                in_magazzino        11'
2026-01-07 09:24:50,476 - magazzino_reconciliation - INFO - DEBUG 95774: words=['95774', 'CARICABATTERIE_4_POS._PLUS_95_2', 'grossisti', '1C', 'in_magazzino', '11']
2026-01-07 09:24:50,476 - magazzino_reconciliation - INFO - DEBUG 95774: tutti_numeri=[(5, 11)], qty_finale=11
2026-01-07 09:24:50,483 - magazzino_reconciliation - INFO - WebApp parsing completato:
2026-01-07 09:24:50,483 - magazzino_reconciliation - INFO -   - Righe processate: 217
2026-01-07 09:24:50,483 - magazzino_reconciliation - INFO -   - Righe valide: 217
2026-01-07 09:24:50,484 - magazzino_reconciliation - INFO -   - Prodotti estratti: 217
2026-01-07 09:24:50,484 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2026-01-07 09:24:50,533 - magazzino_reconciliation - INFO - Aggregati in 131 prodotti unici
2026-01-07 09:24:50,533 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2026-01-07 09:24:50,533 - magazzino_reconciliation - INFO - Input AS400: 0 righe
2026-01-07 09:24:50,533 - magazzino_reconciliation - INFO - Input WebApp: 131 righe
2026-01-07 09:24:50,534 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2026-01-07 09:24:50,534 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2026-01-07 09:24:50,535 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2026-01-07 09:24:50,535 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2026-01-07 09:24:50,541 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2026-01-07 09:24:50,542 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2026-01-07 09:24:50,547 - magazzino_reconciliation - INFO - Dopo merge: 131 righe
2026-01-07 09:24:50,550 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 0
2026-01-07 09:24:50,562 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 0, WebApp total: 2652
2026-01-07 09:24:50,563 - magazzino_reconciliation - INFO - Riconciliazione completata: 131 prodotti analizzati
2026-01-07 09:24:50,564 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2026-01-07 09:24:50,564 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 0
2026-01-07 09:24:50,565 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 131
2026-01-07 09:24:50,565 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 0
2026-01-07 09:24:50,568 - magazzino_reconciliation - INFO - Top 10 differenze: {1: 32, 2: 18, 3: 13, 4: 9, 5: 6, 12: 6, 10: 5, 6: 5, 33: 3, 17: 3}
2026-01-07 09:24:50,568 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:0, WebApp:1245, Diff:1245)
2026-01-07 09:24:50,582 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20260107_092450.csv
2026-01-07 09:24:50,582 - magazzino_reconciliation - INFO - RICONCILIAZIONE COMPLETATA CON SUCCESSO
2026-01-07 09:24:50,584 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:24:50] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
2026-01-07 09:25:18,236 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:25:18] "GET /rientro_merce HTTP/1.1" 200 -
2026-01-07 09:25:18,287 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:25:18] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:26:19,652 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:26:19] "[32mPOST /rientro_merce HTTP/1.1[0m" 302 -
2026-01-07 09:26:19,680 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:26:19] "GET /rientro_merce HTTP/1.1" 200 -
2026-01-07 09:26:19,730 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:26:19] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:31:25,788 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:31:25] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 09:31:25,847 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:31:25] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:31:29,221 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:31:29] "GET /nuovo-prodotto HTTP/1.1" 200 -
2026-01-07 09:31:29,270 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:31:29] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:31:44,060 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:31:44] "GET / HTTP/1.1" 200 -
2026-01-07 09:31:44,103 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:31:44] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:33:18,125 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:33:18] "GET / HTTP/1.1" 200 -
2026-01-07 09:33:18,182 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:33:18] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:33:20,003 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:33:20] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 09:33:20,089 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:33:20] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:33:21,288 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:33:21] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 09:33:21,366 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:33:21] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:33:22,149 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:33:22] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 09:33:22,198 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:33:22] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:34:06,775 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:34:06] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 09:34:06,815 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:34:06] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:34:08,683 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:34:08] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 09:34:08,720 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:34:08] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 09:36:55,192 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:36:55] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 09:36:55,244 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:36:55] "GET /static/optimized.css HTTP/1.1" 200 -
2026-01-07 09:36:55,815 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 09:36:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2026-01-07 12:22:39,536 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:22:39] "GET / HTTP/1.1" 200 -
2026-01-07 12:22:39,766 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:22:39] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 12:22:42,157 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:22:42] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 12:22:42,252 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:22:42] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 12:24:33,555 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:24:33] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 12:24:33,601 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:24:33] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 12:24:36,092 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:24:36] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 12:24:36,145 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:24:36] "GET /static/optimized.css HTTP/1.1" 200 -
2026-01-07 12:24:36,511 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:24:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2026-01-07 12:24:36,989 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:24:36] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 12:24:37,057 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:24:37] "GET /static/optimized.css HTTP/1.1" 200 -
2026-01-07 12:24:37,362 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:24:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2026-01-07 12:24:37,533 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:24:37] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 12:24:37,577 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:24:37] "GET /static/optimized.css HTTP/1.1" 200 -
2026-01-07 12:24:37,888 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:24:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2026-01-07 12:33:57,434 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:33:57] "[32mGET /statistiche?id=6f9188f4-d707-4ca3-86ad-0567bc30bd8e&vscodeBrowserReqId=1767785637429 HTTP/1.1[0m" 302 -
2026-01-07 12:33:57,438 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:33:57] "GET /login HTTP/1.1" 200 -
2026-01-07 12:34:02,032 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:34:02] "[32mPOST /login HTTP/1.1[0m" 302 -
2026-01-07 12:34:02,035 - app - ERROR - Exception on / [GET]
Traceback (most recent call last):
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\magazzino_webapp\app.py", line 269, in index
    return redirect(url_for('auth.login'))
                    ^^^^^^^^^^^^^^^^
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\helpers.py", line 222, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 1071, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 1060, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\magazzino_webapp\.venv\Lib\site-packages\werkzeug\routing\map.py", line 919, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'login'. Did you mean 'auth.login' instead?
2026-01-07 12:34:02,040 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:34:02] "[35m[1mGET / HTTP/1.1[0m" 500 -
2026-01-07 12:36:24,799 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:36:24] "GET /statistiche HTTP/1.1" 200 -
2026-01-07 12:36:24,849 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:36:24] "[36mGET /static/optimized.css HTTP/1.1[0m" 304 -
2026-01-07 12:36:32,044 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:36:32] "[32mGET /statistiche?id=6f9188f4-d707-4ca3-86ad-0567bc30bd8e&vscodeBrowserReqId=1767785792037 HTTP/1.1[0m" 302 -
2026-01-07 12:36:32,047 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:36:32] "GET /login HTTP/1.1" 200 -
2026-01-07 12:36:32,149 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:36:32] "[32mGET /statistiche?id=6f9188f4-d707-4ca3-86ad-0567bc30bd8e&vscodeBrowserReqId=1767785792142 HTTP/1.1[0m" 302 -
2026-01-07 12:36:32,165 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:36:32] "GET /login HTTP/1.1" 200 -
2026-01-07 12:36:33,084 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:36:33] "[32mGET /statistiche?id=6f9188f4-d707-4ca3-86ad-0567bc30bd8e&vscodeBrowserReqId=1767785793080 HTTP/1.1[0m" 302 -
2026-01-07 12:36:33,089 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:36:33] "GET /login HTTP/1.1" 200 -
2026-01-07 12:36:37,782 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:36:37] "[32mPOST /login HTTP/1.1[0m" 302 -
2026-01-07 12:36:37,785 - app - ERROR - Exception on / [GET]
Traceback (most recent call last):
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\magazzino_webapp\app.py", line 269, in index
    return redirect(url_for('auth.login'))
                    ^^^^^^^^^^^^^^^^
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\helpers.py", line 222, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 1071, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 1060, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\magazzino_webapp\.venv\Lib\site-packages\werkzeug\routing\map.py", line 919, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'login'. Did you mean 'auth.login' instead?
2026-01-07 12:36:37,789 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:36:37] "[35m[1mGET / HTTP/1.1[0m" 500 -
2026-01-07 12:37:15,072 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:37:15] "[32mGET /statistiche?id=6f9188f4-d707-4ca3-86ad-0567bc30bd8e&vscodeBrowserReqId=1767785835066 HTTP/1.1[0m" 302 -
2026-01-07 12:37:15,077 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:37:15] "GET /login HTTP/1.1" 200 -
2026-01-07 12:37:58,480 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:37:58] "[32mPOST /login HTTP/1.1[0m" 302 -
2026-01-07 12:37:58,483 - app - ERROR - Exception on / [GET]
Traceback (most recent call last):
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\magazzino_webapp\app.py", line 269, in index
    return redirect(url_for('auth.login'))
                    ^^^^^^^^^^^^^^^^
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\helpers.py", line 222, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 1071, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\magazzino_webapp\.venv\Lib\site-packages\flask\app.py", line 1060, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\magazzino_webapp\.venv\Lib\site-packages\werkzeug\routing\map.py", line 919, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'login'. Did you mean 'auth.login' instead?
2026-01-07 12:37:58,486 - werkzeug - INFO - 127.0.0.1 - - [07/Jan/2026 12:37:58] "[35m[1mGET / HTTP/1.1[0m" 500 -
2026-02-04 12:43:38,554 - magazzino_reconciliation - INFO - ============================================================
2026-02-04 12:43:38,555 - magazzino_reconciliation - INFO - AVVIO RICONCILIAZIONE CON DATABASE WEBAPP
2026-02-04 12:43:38,555 - magazzino_reconciliation - INFO - ============================================================
2026-02-04 12:43:38,555 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_27_Grossisti
2026-02-04 12:43:38,555 - magazzino_reconciliation - INFO - File AS400 Magazzino_27_Grossisti - Total righe: 47
2026-02-04 12:43:38,556 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2026-02-04 12:43:38,556 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 26 ***        Venerdi 30.01.26 Ora 16:41:44 Pag.   1'
2026-02-04 12:43:38,556 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :27  Magazzino Grossisti'
2026-02-04 12:43:38,556 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2026-02-04 12:43:38,556 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2026-02-04 12:43:38,556 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2026-02-04 12:43:38,557 - magazzino_reconciliation - INFO - Match trovato: Codice=0094308, Desc='CASSETTE ULTRIUM LTO', Qty=10
2026-02-04 12:43:38,557 - magazzino_reconciliation - INFO - Match trovato: Codice=0094624, Desc='BATTERIA DENSO BHT', Qty=3
2026-02-04 12:43:38,558 - magazzino_reconciliation - INFO - Match trovato: Codice=0094625, Desc='CARICABATTERIA 4 POSIZIONI DENSO', Qty=17
2026-02-04 12:43:38,561 - magazzino_reconciliation - INFO - AS400 Magazzino_27_Grossisti - Statistiche parsing:
2026-02-04 12:43:38,561 - magazzino_reconciliation - INFO -   Righe processate: 38
2026-02-04 12:43:38,562 - magazzino_reconciliation - INFO -   Match pattern completo: 22
2026-02-04 12:43:38,562 - magazzino_reconciliation - INFO -   Match pattern semplificato: 0
2026-02-04 12:43:38,562 - magazzino_reconciliation - INFO -   Match pattern fallback: 0
2026-02-04 12:43:38,562 - magazzino_reconciliation - INFO -   Prodotti estratti: 22
2026-02-04 12:43:38,562 - magazzino_reconciliation - INFO - Magazzino_27_Grossisti: 22 prodotti estratti
2026-02-04 12:43:38,562 - magazzino_reconciliation - INFO - Parsing file AS400 per magazzino: Magazzino_28_Deposito
2026-02-04 12:43:38,563 - magazzino_reconciliation - INFO - File AS400 Magazzino_28_Deposito - Total righe: 208
2026-02-04 12:43:38,563 - magazzino_reconciliation - INFO - Prime 5 righe del file:
2026-02-04 12:43:38,563 - magazzino_reconciliation - INFO -   Riga 1: ' Pharmagest Italia s                          *** VALORIZZAZIONE MAGAZZINO ANNO 26 ***        Venerdi 30.01.26 Ora 16:39:14 Pag.   1'
2026-02-04 12:43:38,563 - magazzino_reconciliation - INFO -   Riga 2: ' MAGAZZINO :28  Deposito c/Pharmagest Servizi'
2026-02-04 12:43:38,564 - magazzino_reconciliation - INFO -   Riga 3: '------------------------------------------------------------------------------------------------------------------------------------'
2026-02-04 12:43:38,564 - magazzino_reconciliation - INFO -   Riga 4: '                                                    U.                              Totale                                   Totale'
2026-02-04 12:43:38,564 - magazzino_reconciliation - INFO -   Riga 5: '      Codice     Descrizione                        M.                            Giac.Din.       C.M.P.                     Valore'
2026-02-04 12:43:38,565 - magazzino_reconciliation - INFO - Match trovato: Codice=0094838, Desc='FIREWALL WATCHGUARD T15', Qty=1
2026-02-04 12:43:38,565 - magazzino_reconciliation - INFO - Match trovato: Codice=0094859, Desc='ETICHETTE 50X30 ROTOLO 1.500 PZ.', Qty=4
2026-02-04 12:43:38,565 - magazzino_reconciliation - INFO - Match trovato: Codice=0094874, Desc='SERVER LENOVO ST550', Qty=3
2026-02-04 12:43:38,566 - magazzino_reconciliation - INFO - FOUND TARGET PRODUCT in Magazzino_28_Deposito line 78: '0095413    ETICHETTA ELETTRONICA ID.TAG       N.                               1.103            4,2598             4.698,5594'
2026-02-04 12:43:38,566 - magazzino_reconciliation - INFO - PARSED TARGET PRODUCT: 0095413 -> 1103 units from Magazzino_28_Deposito
2026-02-04 12:43:38,567 - magazzino_reconciliation - INFO - AS400 Magazzino_28_Deposito - Statistiche parsing:
2026-02-04 12:43:38,567 - magazzino_reconciliation - INFO -   Righe processate: 181
2026-02-04 12:43:38,567 - magazzino_reconciliation - INFO -   Match pattern completo: 91
2026-02-04 12:43:38,567 - magazzino_reconciliation - INFO -   Match pattern semplificato: 0
2026-02-04 12:43:38,567 - magazzino_reconciliation - INFO -   Match pattern fallback: 0
2026-02-04 12:43:38,568 - magazzino_reconciliation - INFO -   Prodotti estratti: 91
2026-02-04 12:43:38,568 - magazzino_reconciliation - INFO - Magazzino_28_Deposito: 91 prodotti estratti
2026-02-04 12:43:38,571 - magazzino_reconciliation - INFO - Totale prodotti AS400 (prima unificazione): 113
2026-02-04 12:43:38,579 - magazzino_reconciliation - INFO - Caricamento dati webapp direttamente dal database
2026-02-04 12:43:38,590 - magazzino_reconciliation - INFO - Caricate 216 giacenze dal database webapp
2026-02-04 12:43:38,591 - magazzino_reconciliation - INFO -   DB Sample: 245 -> Qty: 1
2026-02-04 12:43:38,592 - magazzino_reconciliation - INFO -   DB Sample: 564 -> Qty: 1
2026-02-04 12:43:38,592 - magazzino_reconciliation - INFO -   DB Sample: 94308 -> Qty: 10
2026-02-04 12:43:38,593 - magazzino_reconciliation - INFO - Aggregazione dati WebApp per codice prodotto
2026-02-04 12:43:38,629 - magazzino_reconciliation - INFO - Aggregati in 131 prodotti unici
2026-02-04 12:43:38,629 - magazzino_reconciliation - INFO - Dati WebApp dal database: 131 prodotti aggregati
2026-02-04 12:43:38,630 - magazzino_reconciliation - INFO - Esecuzione riconciliazione AS400 vs WebApp
2026-02-04 12:43:38,630 - magazzino_reconciliation - INFO - Input AS400: 113 righe
2026-02-04 12:43:38,631 - magazzino_reconciliation - INFO - AS400 sample: 0094308 -> Qty: 10 (type: <class 'int'>)
2026-02-04 12:43:38,631 - magazzino_reconciliation - INFO - AS400 sample: 0094624 -> Qty: 3 (type: <class 'int'>)
2026-02-04 12:43:38,631 - magazzino_reconciliation - INFO - AS400 sample: 0094625 -> Qty: 17 (type: <class 'int'>)
2026-02-04 12:43:38,632 - magazzino_reconciliation - INFO - AS400 total quantity sum: 2381
2026-02-04 12:43:38,632 - magazzino_reconciliation - INFO - Sample codici AS400: ['0094308', '0094624', '0094625', '0094838', '0094859', '0094874', '0094881', '0094882', '0094884', '0094906']
2026-02-04 12:43:38,632 - magazzino_reconciliation - INFO - Input WebApp: 131 righe
2026-02-04 12:43:38,633 - magazzino_reconciliation - INFO - WebApp sample: 245 -> Qty: 1 (type: <class 'int'>)
2026-02-04 12:43:38,633 - magazzino_reconciliation - INFO - WebApp sample: 564 -> Qty: 1 (type: <class 'int'>)
2026-02-04 12:43:38,633 - magazzino_reconciliation - INFO - WebApp sample: 94308 -> Qty: 10 (type: <class 'int'>)
2026-02-04 12:43:38,634 - magazzino_reconciliation - INFO - Sample codici WebApp: ['245', '564', '94308', '94624', '94625', '94838', '94859', '94874', '94881', '94882']
2026-02-04 12:43:38,634 - magazzino_reconciliation - INFO - PRIMA normalizzazione - Codici in comune: 0
2026-02-04 12:43:38,636 - magazzino_reconciliation - INFO - Codici normalizzati (zeri iniziali rimossi)
2026-02-04 12:43:38,637 - magazzino_reconciliation - INFO - DOPO normalizzazione:
2026-02-04 12:43:38,637 - magazzino_reconciliation - INFO -   - Codici AS400 unici: 113
2026-02-04 12:43:38,637 - magazzino_reconciliation - INFO -   - Codici WebApp unici: 131
2026-02-04 12:43:38,637 - magazzino_reconciliation - INFO -   - Codici in comune: 105
2026-02-04 12:43:38,638 - magazzino_reconciliation - INFO - Esempi codici comuni: ['94308', '94624', '94625', '94838', '94859']
2026-02-04 12:43:38,639 - magazzino_reconciliation - INFO -   Match: 95305 -> AS400:3, WebApp:3
2026-02-04 12:43:38,640 - magazzino_reconciliation - INFO -   Match: 95952 -> AS400:5, WebApp:12
2026-02-04 12:43:38,641 - magazzino_reconciliation - INFO -   Match: 95645 -> AS400:6, WebApp:6
2026-02-04 12:43:38,641 - magazzino_reconciliation - INFO - Esecuzione merge con codici normalizzati...
2026-02-04 12:43:38,648 - magazzino_reconciliation - INFO - Dopo merge: 139 righe
2026-02-04 12:43:38,650 - magazzino_reconciliation - INFO - Prodotti presenti in ENTRAMBI i sistemi: 105
2026-02-04 12:43:38,654 - magazzino_reconciliation - INFO - Sample prodotti in entrambi:
  Codice  Quantita_AS400  Quantita_WebApp  Differenza
2  94308              10               10           0
3  94624               3                3           0
4  94625              17               17           0
5  94838               1                1           0
6  94859               4                4           0
2026-02-04 12:43:38,663 - magazzino_reconciliation - INFO - RISULTATO FINALE - AS400 total: 2381, WebApp total: 2652
2026-02-04 12:43:38,665 - magazzino_reconciliation - INFO - Riconciliazione completata: 139 prodotti analizzati
2026-02-04 12:43:38,666 - magazzino_reconciliation - INFO - Analisi riconciliazione:
2026-02-04 12:43:38,666 - magazzino_reconciliation - INFO -   - Prodotti allineati (diff=0): 63
2026-02-04 12:43:38,667 - magazzino_reconciliation - INFO -   - WebApp maggiore (diff>0): 57
2026-02-04 12:43:38,667 - magazzino_reconciliation - INFO -   - AS400 maggiore (diff<0): 19
2026-02-04 12:43:38,668 - magazzino_reconciliation - INFO - Top 10 differenze: {0: 63, 1: 24, 3: 9, 2: 8, 5: 3, -3: 3, -2: 3, 4: 2, -1: 2, -10: 2}
2026-02-04 12:43:38,669 - magazzino_reconciliation - INFO - Esempio prodotto allineato: 94308
2026-02-04 12:43:38,669 - magazzino_reconciliation - INFO - Esempio WebApp maggiore: 95413 (AS400:1103, WebApp:1245, Diff:142)
2026-02-04 12:43:38,670 - magazzino_reconciliation - INFO - Esempio AS400 maggiore: 95749 (AS400:2, WebApp:1, Diff:-1)
2026-02-04 12:43:38,684 - magazzino_reconciliation - INFO - Audit salvato: reconciliation_20260204_124338.csv
2026-02-04 12:43:38,684 - magazzino_reconciliation - INFO - RICONCILIAZIONE CON DATABASE COMPLETATA CON SUCCESSO
2026-02-04 12:43:38,685 - werkzeug - INFO - 127.0.0.1 - - [04/Feb/2026 12:43:38] "POST /api/reconcile-warehouse HTTP/1.1" 200 -
